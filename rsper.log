
UsersController
  GET #edit
    ログインユーザーの場合
[32m      レスポンスが成功すること[0m
[32m      @userが正しく設定されていること[0m

Bookモデルのテスト
  バリデーションのテスト
    titleカラム
[32m      空欄でないこと[0m
    bodyカラム
[32m      空欄でないこと[0m
[32m      200文字以下であること: 200文字は〇[0m
[32m      200文字以下であること: 201文字は×[0m
  アソシエーションのテスト
    Userモデルとの関係
[32m      N:1となっている[0m

Userモデルのテスト
  バリデーションのテスト
    nameカラム
[32m      空欄でないこと[0m
[32m      2文字以上であること: 1文字は×[0m
[32m      2文字以上であること: 2文字は〇[0m
[32m      20文字以下であること: 20文字は〇[0m
[32m      20文字以下であること: 21文字は×[0m
[32m      一意性があること[0m
    introductionカラム
[32m      50文字以下であること: 50文字は〇[0m
[32m      50文字以下であること: 51文字は×[0m
  アソシエーションのテスト
    Bookモデルとの関係
[32m      1:Nとなっている[0m

[STEP1] ユーザログイン前のテスト
  トップ画面のテスト
    表示内容の確認
[32m      URLが正しい[0m
[32m      Log inリンクが表示される: 青色のボタンの表示が「Log in」である[0m
[32m      Log inリンクの内容が正しい[0m
[32m      Sign upリンクが表示される: 緑色のボタンの表示が「Sign up」である[0m
[32m      Sign upリンクの内容が正しい[0m
  アバウト画面のテスト
    表示内容の確認
[32m      URLが正しい[0m
  ヘッダーのテスト: ログインしていない場合
    表示内容の確認
[32m      Bookersリンクが表示される: 左上から1番目のリンクが「Bookers」である[0m
[32m      Homeリンクが表示される: 左上から2番目のリンクが「Home」である[0m
[32m      Aboutリンクが表示される: 左上から3番目のリンクが「About」である[0m
[32m      Sign upリンクが表示される: 左上から4番目のリンクが「Sign up」である[0m
[32m      Log inリンクが表示される: 左上から5番目のリンクが「Log in」である[0m
    リンクの内容を確認
[32m      Bookersを押すと、トップ画面に遷移する[0m
[32m      Homeを押すと、トップ画面に遷移する[0m
[32m      Aboutを押すと、アバウト画面に遷移する[0m
[32m      Sign upを押すと、新規登録画面に遷移する[0m
[32m      Log inを押すと、ログイン画面に遷移する[0m
  ユーザ新規登録のテスト
    表示内容の確認
[32m      URLが正しい[0m
[32m      「Sign up」と表示される[0m
[32m      nameフォームが表示される[0m
[32m      emailフォームが表示される[0m
[32m      passwordフォームが表示される[0m
[32m      password_confirmationフォームが表示される[0m
[32m      Sign upボタンが表示される[0m
    新規登録成功のテスト
[32m      正しく新規登録される[0m
[32m      新規登録後のリダイレクト先が、新規登録できたユーザの詳細画面になっている[0m
  ユーザログイン
    表示内容の確認
[32m      URLが正しい[0m
[32m      「Log in」と表示される[0m
[32m      nameフォームが表示される[0m
[32m      passwordフォームが表示される[0m
[32m      Log inボタンが表示される[0m
[32m      emailフォームは表示されない[0m
    ログイン成功のテスト
[32m      ログイン後のリダイレクト先が、ログインしたユーザの詳細画面になっている[0m
    ログイン失敗のテスト
[32m      ログインに失敗し、ログイン画面にリダイレクトされる[0m
  ヘッダーのテスト: ログインしている場合
    ヘッダーの表示を確認
[32m      Bookersリンクが表示される: 左上から1番目のリンクが「Bookers」である[0m
[32m      Homeリンクが表示される: 左上から2番目のリンクが「Home」である[0m
[32m      Usersリンクが表示される: 左上から3番目のリンクが「Users」である[0m
[32m      Booksリンクが表示される: 左上から4番目のリンクが「Books」である[0m
[32m      Log outリンクが表示される: 左上から5番目のリンクが「Log out」である[0m
  ユーザログアウトのテスト
    ログアウト機能のテスト
[32m      正しくログアウトできている: ログアウト後のリダイレクト先においてAbout画面へのリンクが存在する[0m
[32m      ログアウト後のリダイレクト先が、トップになっている[0m

[STEP2] ユーザログイン後のテスト
  ヘッダーのテスト: ログインしている場合
    リンクの内容を確認: ※logoutは『ユーザログアウトのテスト』でテスト済みになります。
[32m      Homeを押すと、自分のユーザ詳細画面に遷移する[0m
[32m      Usersを押すと、ユーザ一覧画面に遷移する[0m
[32m      Booksを押すと、投稿一覧画面に遷移する[0m
  投稿一覧画面のテスト
    表示内容の確認
[32m      URLが正しい[0m
[32m      自分と他人の画像のリンク先が正しい[0m
[32m      自分の投稿と他人の投稿のタイトルのリンク先がそれぞれ正しい[0m
[32m      自分の投稿と他人の投稿のオピニオンが表示される[0m
    サイドバーの確認
[32m      自分の名前と紹介文が表示される[0m
[32m      自分のユーザ編集画面へのリンクが存在する[0m
[32m      「New book」と表示される[0m
[31m      titleフォームが表示される (FAILED - 1)[0m
[31m      titleフォームに値が入っていない (FAILED - 2)[0m
[31m      bodyフォームが表示される (FAILED - 3)[0m
[31m      bodyフォームに値が入っていない (FAILED - 4)[0m
[31m      Create Bookボタンが表示される (FAILED - 5)[0m
    投稿成功のテスト
[31m      自分の新しい投稿が正しく保存される (FAILED - 6)[0m
[31m      リダイレクト先が、保存できた投稿の詳細画面になっている (FAILED - 7)[0m
  自分の投稿詳細画面のテスト
    表示内容の確認
[32m      URLが正しい[0m
[32m      「Book detail」と表示される[0m
[32m      ユーザ画像・名前のリンク先が正しい[0m
[32m      投稿のtitleが表示される[0m
[32m      投稿のbodyが表示される[0m
[32m      投稿の編集リンクが表示される[0m
[32m      投稿の削除リンクが表示される[0m
    サイドバーの確認
[32m      自分の名前と紹介文が表示される[0m
[32m      自分のユーザ編集画面へのリンクが存在する[0m
[32m      「New book」と表示される[0m
[31m      titleフォームが表示される (FAILED - 8)[0m
[31m      titleフォームに値が入っていない (FAILED - 9)[0m
[31m      bodyフォームが表示される (FAILED - 10)[0m
[31m      bodyフォームに値が入っていない (FAILED - 11)[0m
[31m      Create Bookボタンが表示される (FAILED - 12)[0m
    投稿成功のテスト
[31m      自分の新しい投稿が正しく保存される (FAILED - 13)[0m
    編集リンクのテスト
[32m      編集画面に遷移する[0m
    削除リンクのテスト
[31m      application.html.erbにjavascript_pack_tagを含んでいる (FAILED - 14)[0m
[31m      正しく削除される (FAILED - 15)[0m
[31m      リダイレクト先が、投稿一覧画面になっている (FAILED - 16)[0m
  自分の投稿編集画面のテスト
    表示の確認
[32m      URLが正しい[0m
[32m      「Editing Book」と表示される[0m
[32m      title編集フォームが表示される[0m
[32m      body編集フォームが表示される[0m
[32m      Update Bookボタンが表示される[0m
[31m      Showリンクが表示される (FAILED - 17)[0m
[31m      Backリンクが表示される (FAILED - 18)[0m
    編集成功のテスト
[31m      titleが正しく更新される (FAILED - 19)[0m
[31m      bodyが正しく更新される (FAILED - 20)[0m
[31m      リダイレクト先が、更新した投稿の詳細画面になっている (FAILED - 21)[0m
  ユーザ一覧画面のテスト
    表示内容の確認
[32m      URLが正しい[0m
[31m      自分と他人の画像が表示される: fallbackの画像がサイドバーの1つ＋一覧(2人)の2つの計3つ存在する (FAILED - 22)[0m
[32m      自分と他人の名前がそれぞれ表示される[0m
[31m      自分と他人のshowリンクがそれぞれ表示される (FAILED - 23)[0m
    サイドバーの確認
[32m      自分の名前と紹介文が表示される[0m
[32m      自分のユーザ編集画面へのリンクが存在する[0m
[32m      「New book」と表示される[0m
[31m      titleフォームが表示される (FAILED - 24)[0m
[31m      titleフォームに値が入っていない (FAILED - 25)[0m
[31m      bodyフォームが表示される (FAILED - 26)[0m
[31m      bodyフォームに値が入っていない (FAILED - 27)[0m
[31m      Create Bookボタンが表示される (FAILED - 28)[0m
  自分のユーザ詳細画面のテスト
    表示の確認
[32m      URLが正しい[0m
[32m      投稿一覧のユーザ画像のリンク先が正しい[0m
[32m      投稿一覧に自分の投稿のtitleが表示され、リンクが正しい[0m
[32m      投稿一覧に自分の投稿のbodyが表示される[0m
[32m      他人の投稿は表示されない[0m
    サイドバーの確認
[32m      自分の名前と紹介文が表示される[0m
[32m      自分のユーザ編集画面へのリンクが存在する[0m
[32m      「New book」と表示される[0m
[31m      titleフォームが表示される (FAILED - 29)[0m
[31m      titleフォームに値が入っていない (FAILED - 30)[0m
[31m      bodyフォームが表示される (FAILED - 31)[0m
[31m      bodyフォームに値が入っていない (FAILED - 32)[0m
[31m      Create Bookボタンが表示される (FAILED - 33)[0m
  自分のユーザ情報編集画面のテスト
    表示の確認
[32m      URLが正しい[0m
[32m      名前編集フォームに自分の名前が表示される[0m
[32m      画像編集フォームが表示される[0m
[32m      自己紹介編集フォームに自分の自己紹介文が表示される[0m
[32m      Update Userボタンが表示される[0m
    更新成功のテスト
[31m      nameが正しく更新される (FAILED - 34)[0m
[31m      introductionが正しく更新される (FAILED - 35)[0m
[31m      リダイレクト先が、自分のユーザ詳細画面になっている (FAILED - 36)[0m

[STEP3] 仕上げのテスト
  サクセスメッセージのテスト
[32m    ユーザ新規登録成功時[0m
[32m    ユーザログイン成功時[0m
[32m    ユーザログアウト成功時[0m
[31m    ユーザのプロフィール情報更新成功時 (FAILED - 37)[0m
[31m    投稿データの新規投稿成功時: 投稿一覧画面から行います。 (FAILED - 38)[0m
[31m    投稿データの更新成功時 (FAILED - 39)[0m
  処理失敗時のテスト
    ユーザ新規登録失敗: nameを1文字にする
[32m      新規登録されない[0m
[32m      新規登録画面を表示しており、フォームの内容が正しい[0m
[32m      バリデーションエラーが表示される[0m
    ユーザのプロフィール情報編集失敗: nameを1文字にする
[31m      更新されない (FAILED - 40)[0m
[31m      ユーザ編集画面を表示しており、フォームの内容が正しい (FAILED - 41)[0m
[31m      バリデーションエラーが表示される (FAILED - 42)[0m
    投稿データの新規投稿失敗: 投稿一覧画面から行い、titleを空にする
[31m      投稿が保存されない (FAILED - 43)[0m
[31m      投稿一覧画面を表示している (FAILED - 44)[0m
[31m      新規投稿フォームの内容が正しい (FAILED - 45)[0m
[31m      バリデーションエラーが表示される (FAILED - 46)[0m
    投稿データの更新失敗: titleを空にする
[31m      投稿が更新されない (FAILED - 47)[0m
[31m      投稿編集画面を表示しており、フォームの内容が正しい (FAILED - 48)[0m
[31m      エラーメッセージが表示される (FAILED - 49)[0m
  ログインしていない場合のアクセス制限のテスト: アクセスできず、ログイン画面に遷移する
[32m    ユーザ一覧画面[0m
[32m    ユーザ詳細画面[0m
[32m    ユーザ情報編集画面[0m
[32m    投稿一覧画面[0m
[32m    投稿詳細画面[0m
[32m    投稿編集画面[0m
  他人の画面のテスト
    他人の投稿詳細画面のテスト
      表示内容の確認
[32m        URLが正しい[0m
[32m        「Book detail」と表示される[0m
[32m        ユーザ画像・名前のリンク先が正しい[0m
[32m        投稿のtitleが表示される[0m
[32m        投稿のopinionが表示される[0m
[32m        投稿の編集リンクが表示されない[0m
[32m        投稿の削除リンクが表示されない[0m
      サイドバーの確認
[32m        他人の名前と紹介文が表示される[0m
[32m        他人のユーザ編集画面へのリンクが存在する[0m
[32m        自分の名前と紹介文は表示されない[0m
[32m        自分のユーザ編集画面へのリンクは存在しない[0m
    他人の投稿編集画面
[31m      遷移できず、投稿一覧画面にリダイレクトされる (FAILED - 50)[0m
    他人のユーザ詳細画面のテスト
      表示の確認
[32m        URLが正しい[0m
[32m        投稿一覧のユーザ画像のリンク先が正しい[0m
[32m        投稿一覧に他人の投稿のtitleが表示され、リンクが正しい[0m
[32m        投稿一覧に他人の投稿のopinionが表示される[0m
[32m        自分の投稿は表示されない[0m
      サイドバーの確認
[32m        他人の名前と紹介文が表示される[0m
[32m        他人のユーザ編集画面へのリンクが存在する[0m
[32m        自分の名前と紹介文は表示されない[0m
[32m        自分のユーザ編集画面へのリンクは存在しない[0m
    他人のユーザ情報編集画面
[32m      遷移できず、自分のユーザ詳細画面にリダイレクトされる[0m
  グリッドシステムのテスト: container, row, col-md-〇を正しく使えている
[31m    ユーザ一覧画面 (FAILED - 51)[0m
[32m    ユーザ詳細画面[0m
[32m    投稿一覧画面[0m
[32m    投稿詳細画面[0m
  アイコンのテスト
    トップ画面
[32m      本のアイコンが表示される[0m
    アバウト画面
[32m      本のアイコンが表示される[0m
    ヘッダー: ログインしていない場合
[32m      Homeリンクのアイコンが表示される[0m
[32m      Aboutリンクのアイコンが表示される[0m
[32m      Sign upリンクのアイコンが表示される[0m
[32m      Log inリンクのアイコンが表示される[0m
    ヘッダー: ログインしている場合
[32m      Homeリンクのアイコンが表示される[0m
[32m      Usersリンクのアイコンが表示される[0m
[32m      Booksリンクのアイコンが表示される[0m
[32m      Log outリンクのアイコンが表示される[0m
    サイドバー
[32m      ユーザ一覧画面でレンチアイコンが表示される[0m
[32m      ユーザ詳細画面でレンチアイコンが表示される[0m
[32m      投稿一覧画面でレンチアイコンが表示される[0m
[32m      投稿詳細画面でレンチアイコンが表示される[0m

Failures:

  1) [STEP2] ユーザログイン後のテスト 投稿一覧画面のテスト サイドバーの確認 titleフォームが表示される
     [31mFailure/Error: expect(page).to have_field 'book[title]'[0m
     [31m  expected to find field "book[title]" that is not disabled but there were no matches[0m
     [36m# ./spec/system/02_after_login_spec.rb:76:in `block (4 levels) in <main>'[0m

  2) [STEP2] ユーザログイン後のテスト 投稿一覧画面のテスト サイドバーの確認 titleフォームに値が入っていない
     [31mFailure/Error: expect(find_field('book[title]').text).to be_blank[0m
     [31m[0m
     [31mCapybara::ElementNotFound:[0m
     [31m  Unable to find field "book[title]" that is not disabled[0m
     [36m# ./spec/system/02_after_login_spec.rb:79:in `block (4 levels) in <main>'[0m

  3) [STEP2] ユーザログイン後のテスト 投稿一覧画面のテスト サイドバーの確認 bodyフォームが表示される
     [31mFailure/Error: expect(page).to have_field 'book[body]'[0m
     [31m  expected to find field "book[body]" that is not disabled but there were no matches[0m
     [36m# ./spec/system/02_after_login_spec.rb:82:in `block (4 levels) in <main>'[0m

  4) [STEP2] ユーザログイン後のテスト 投稿一覧画面のテスト サイドバーの確認 bodyフォームに値が入っていない
     [31mFailure/Error: expect(find_field('book[body]').text).to be_blank[0m
     [31m[0m
     [31mCapybara::ElementNotFound:[0m
     [31m  Unable to find field "book[body]" that is not disabled[0m
     [36m# ./spec/system/02_after_login_spec.rb:85:in `block (4 levels) in <main>'[0m

  5) [STEP2] ユーザログイン後のテスト 投稿一覧画面のテスト サイドバーの確認 Create Bookボタンが表示される
     [31mFailure/Error: expect(page).to have_button 'Create Book'[0m
     [31m  expected to find button "Create Book" that is not disabled but there were no matches[0m
     [36m# ./spec/system/02_after_login_spec.rb:88:in `block (4 levels) in <main>'[0m

  6) [STEP2] ユーザログイン後のテスト 投稿一覧画面のテスト 投稿成功のテスト 自分の新しい投稿が正しく保存される
     [31mFailure/Error: fill_in 'book[title]', with: Faker::Lorem.characters(number: 5)[0m
     [31m[0m
     [31mCapybara::ElementNotFound:[0m
     [31m  Unable to find field "book[title]" that is not disabled[0m
     [36m# ./spec/system/02_after_login_spec.rb:94:in `block (4 levels) in <main>'[0m

  7) [STEP2] ユーザログイン後のテスト 投稿一覧画面のテスト 投稿成功のテスト リダイレクト先が、保存できた投稿の詳細画面になっている
     [31mFailure/Error: fill_in 'book[title]', with: Faker::Lorem.characters(number: 5)[0m
     [31m[0m
     [31mCapybara::ElementNotFound:[0m
     [31m  Unable to find field "book[title]" that is not disabled[0m
     [36m# ./spec/system/02_after_login_spec.rb:94:in `block (4 levels) in <main>'[0m

  8) [STEP2] ユーザログイン後のテスト 自分の投稿詳細画面のテスト サイドバーの確認 titleフォームが表示される
     [31mFailure/Error: expect(page).to have_field 'book[title]'[0m
     [31m  expected to find field "book[title]" that is not disabled but there were no matches[0m
     [36m# ./spec/system/02_after_login_spec.rb:149:in `block (4 levels) in <main>'[0m

  9) [STEP2] ユーザログイン後のテスト 自分の投稿詳細画面のテスト サイドバーの確認 titleフォームに値が入っていない
     [31mFailure/Error: expect(find_field('book[title]').text).to be_blank[0m
     [31m[0m
     [31mCapybara::ElementNotFound:[0m
     [31m  Unable to find field "book[title]" that is not disabled[0m
     [36m# ./spec/system/02_after_login_spec.rb:152:in `block (4 levels) in <main>'[0m

  10) [STEP2] ユーザログイン後のテスト 自分の投稿詳細画面のテスト サイドバーの確認 bodyフォームが表示される
      [31mFailure/Error: expect(page).to have_field 'book[body]'[0m
      [31m  expected to find field "book[body]" that is not disabled but there were no matches[0m
      [36m# ./spec/system/02_after_login_spec.rb:155:in `block (4 levels) in <main>'[0m

  11) [STEP2] ユーザログイン後のテスト 自分の投稿詳細画面のテスト サイドバーの確認 bodyフォームに値が入っていない
      [31mFailure/Error: expect(find_field('book[body]').text).to be_blank[0m
      [31m[0m
      [31mCapybara::ElementNotFound:[0m
      [31m  Unable to find field "book[body]" that is not disabled[0m
      [36m# ./spec/system/02_after_login_spec.rb:158:in `block (4 levels) in <main>'[0m

  12) [STEP2] ユーザログイン後のテスト 自分の投稿詳細画面のテスト サイドバーの確認 Create Bookボタンが表示される
      [31mFailure/Error: expect(page).to have_button 'Create Book'[0m
      [31m  expected to find button "Create Book" that is not disabled but there were no matches[0m
      [36m# ./spec/system/02_after_login_spec.rb:161:in `block (4 levels) in <main>'[0m

  13) [STEP2] ユーザログイン後のテスト 自分の投稿詳細画面のテスト 投稿成功のテスト 自分の新しい投稿が正しく保存される
      [31mFailure/Error: fill_in 'book[title]', with: Faker::Lorem.characters(number: 5)[0m
      [31m[0m
      [31mCapybara::ElementNotFound:[0m
      [31m  Unable to find field "book[title]" that is not disabled[0m
      [36m# ./spec/system/02_after_login_spec.rb:167:in `block (4 levels) in <main>'[0m

  14) [STEP2] ユーザログイン後のテスト 自分の投稿詳細画面のテスト 削除リンクのテスト application.html.erbにjavascript_pack_tagを含んでいる
      [31mFailure/Error: click_link 'Destroy'[0m
      [31m[0m
      [31mNoMethodError:[0m
      [31m  undefined method `derete' for #<Capybara::RackTest::Browser:0x00007f538bc610c0 @driver=#<Capybara::RackTest::Driver:0x00007f538b97bb30 @app=#<Rack::Builder:0x00007f5394b93220 @freeze_app=false, @warmup=nil, @run=nil, @map={"/"=>#<Proc:0x00007f5394b93130 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/actionpack-6.1.7.10/lib/action_dispatch/system_test_case.rb:128>}, @use=[]>, @options={:respect_data_method=>true, :follow_redirects=>true, :redirect_limit=>5}, @session=#<Capybara::Session>, @browser=nil>, @current_fragment=nil, @new_visit_request=false, @dom=nil, @current_scheme="http", @current_host="www.example.com", @current_port=80, @_rack_test_sessions={:default=>#<Rack::Test::Session:0x00007f538bc36460 @env={}, @app=#<Rack::Builder:0x00007f5394b93220 @freeze_app=false, @warmup=nil, @run=nil, @map={"/"=>#<Proc:0x00007f5394b93130 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/actionpack-6.1.7.10/lib/action_dispatch/system_test_case.rb:128>}, @use=[]>, @after_request=[], @default_host="www.example.com", @last_request=#<Rack::Request:0x00007f538bb020d0 @params=nil, @env={"rack.version"=>[1, 3], "rack.input"=>#<StringIO:0x00007f538bb02328>, "rack.errors"=>#<StringIO:0x00007f538bb023a0>, "rack.multithread"=>true, "rack.multiprocess"=>true, "rack.run_once"=>false, "REQUEST_METHOD"=>"GET", "SERVER_NAME"=>"www.example.com", "SERVER_PORT"=>"80", "QUERY_STRING"=>"", "PATH_INFO"=>"/books/1", "rack.url_scheme"=>"http", "HTTPS"=>"off", "SCRIPT_NAME"=>"", "CONTENT_LENGTH"=>"0", "rack.test"=>true, "REMOTE_ADDR"=>"127.0.0.1", "SERVER_PROTOCOL"=>"HTTP/1.0", "HTTP_VERSION"=>"HTTP/1.0", "HTTP_HOST"=>"www.example.com", "HTTP_COOKIE"=>"_bookers2_session=%2BkOWebN6cvU5lDN1m8Z4Jnf7sLs45bmprQ2isGd2Ly%2FrKIzgGr%2BG70KWiSx3M272x1Jd%2BMCd%2B5p1QgiicbDBLCfTaRVGOibtbAsFJopDvdtL6gBvsNIx8beq0WvwbJ4iEXg%2B%2FmUr9hOaCQr7QAM2j0rLezbiwusKNvYpSJnH%2BPj%2Fs5mA3onLcJIfDZfkMg3TYC9MbY40u%2BeiIaRz47wwrKdaFZzMmeN8wcJ4KaSQz%2FX4e4i5xf6WqUkWlaK9Aj%2BkUP%2FCHYVfZp0JK%2BoIkJsTkcVh8IALu68dQw%3D%3D--SPBo3%2FM9rwb1vRQo--K2YnE7%2FIp1FrkfdJ4nxCGQ%3D%3D", "action_dispatch.parameter_filter"=>[:passw, :secret, :token, :_key, :crypt, :salt, :certificate, :otp, :ssn], "action_dispatch.redirect_filter"=>[], "action_dispatch.secret_key_base"=>"56780f8b2dd132be7b28464f1dade3e1e8bde229c07c1130d07eb6ae052df719b610aa3cfc71f373c27042c9c085aad6a950a0affa8072900179528d37d6cd20", "action_dispatch.show_exceptions"=>false, "action_dispatch.show_detailed_exceptions"=>true, "action_dispatch.logger"=>#<ActiveSupport::Logger:0x00007f539a710a58 @level=0, @progname=nil, @default_formatter=#<Logger::Formatter:0x00007f539a713500 @datetime_format=nil>, @formatter=#<ActiveSupport::Logger::SimpleFormatter:0x00007f539a710a30 @datetime_format=nil, @thread_key="activesupport_tagged_logging_tags:16040">, @logdev=#<Logger::LogDevice:0x00007f539a7132f8 @shift_period_suffix="%Y%m%d", @shift_size=1048576, @shift_age=0, @filename="/home/ec2-user/environment/bookers2/log/test.log", @dev=#<File:/home/ec2-user/environment/bookers2/log/test.log>, @binmode=false, @reraise_write_errors=[], @skip_header=false, @mon_data=#<Monitor:0x00007f539a713280>, @mon_data_owner_object_id=5720>, @level_override={}>, "action_dispatch.backtrace_cleaner"=>#<Rails::BacktraceCleaner:0x00007f5394b8ba20 @silencers=[#<Proc:0x00007f5394b8b570 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/activesupport-6.1.7.10/lib/active_support/backtrace_cleaner.rb:100>, #<Proc:0x00007f5394b8b4f8 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/activesupport-6.1.7.10/lib/active_support/backtrace_cleaner.rb:104>, #<Proc:0x00007f5394b8b390 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/railties-6.1.7.10/lib/rails/backtrace_cleaner.rb:24>], @filters=[#<Proc:0x00007f5394b8b610 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/activesupport-6.1.7.10/lib/active_support/backtrace_cleaner.rb:96>, #<Proc:0x00007f5394b8b3e0 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/railties-6.1.7.10/lib/rails/backtrace_cleaner.rb:14>, #<Proc:0x00007f5394b8b3b8 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/railties-6.1.7.10/lib/rails/backtrace_cleaner.rb:17>], @root="/home/ec2-user/environment/bookers2/">, "action_dispatch.key_generator"=>#<ActiveSupport::CachingKeyGenerator:0x00007f53926fef40 @key_generator=#<ActiveSupport::KeyGenerator:0x00007f53926fef68 @secret="56780f8b2dd132be7b28464f1dade3e1e8bde229c07c1130d07eb6ae052df719b610aa3cfc71f373c27042c9c085aad6a950a0affa8072900179528d37d6cd20", @iterations=1000>, @cache_keys=#<Concurrent::Map:0x00007f53926feef0 entries=6 default_proc=nil>>, "action_dispatch.http_auth_salt"=>"http authentication", "action_dispatch.signed_cookie_salt"=>"signed cookie", "action_dispatch.encrypted_cookie_salt"=>"encrypted cookie", "action_dispatch.encrypted_signed_cookie_salt"=>"signed encrypted cookie", "action_dispatch.authenticated_encrypted_cookie_salt"=>"authenticated encrypted cookie", "action_dispatch.use_authenticated_cookie_encryption"=>true, "action_dispatch.encrypted_cookie_cipher"=>nil, "action_dispatch.signed_cookie_digest"=>nil, "action_dispatch.cookies_serializer"=>:json, "action_dispatch.cookies_digest"=>nil, "action_dispatch.cookies_rotations"=>#<ActiveSupport::Messages::RotationConfiguration:0x00007f539a72aa48 @signed=[], @encrypted=[]>, "action_dispatch.cookies_same_site_protection"=>#<Proc:0x00007f5398521a28 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/railties-6.1.7.10/lib/rails/application.rb:636>, "action_dispatch.use_cookies_with_metadata"=>true, "action_dispatch.content_security_policy"=>nil, "action_dispatch.content_security_policy_report_only"=>false, "action_dispatch.content_security_policy_nonce_generator"=>nil, "action_dispatch.content_security_policy_nonce_directives"=>nil, "action_dispatch.permissions_policy"=>nil, "action_dispatch.routes"=>#<ActionDispatch::Routing::RouteSet:0x00007f53984228e8>, "ROUTES_12140_SCRIPT_NAME"=>"", "ORIGINAL_FULLPATH"=>"/books/1", "ORIGINAL_SCRIPT_NAME"=>"", "action_dispatch.request_id"=>"0f501fc8-bb83-4760-8c0a-a894fe16af3b", "action_dispatch.remote_ip"=>#<ActionDispatch::RemoteIp::GetIp:0x00007f538bb0a028 @req=#<ActionDispatch::Request GET "http://www.example.com/books/1" for 127.0.0.1>, @check_ip=true, @proxies=[#<IPAddr: IPv4:127.0.0.0/255.0.0.0>, #<IPAddr: IPv6:0000:0000:0000:0000:0000:0000:0000:0001/ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff>, #<IPAddr: IPv6:fc00:0000:0000:0000:0000:0000:0000:0000/fe00:0000:0000:0000:0000:0000:0000:0000>, #<IPAddr: IPv4:10.0.0.0/255.0.0.0>, #<IPAddr: IPv4:172.16.0.0/255.240.0.0>, #<IPAddr: IPv4:192.168.0.0/255.255.0.0>], @ip="127.0.0.1">, "rack.session"=>#<ActionDispatch::Request::Session:0x00007f538bae30e0 @by=#<ActionDispatch::Session::CookieStore:0x00007f53983a0de8 @app=#<ActionDispatch::ContentSecurityPolicy::Middleware:0x00007f53983a0ed8 @app=#<ActionDispatch::PermissionsPolicy::Middleware:0x00007f53983a0f78 @app=#<Rack::Head:0x00007f53983a1018 @app=#<Rack::ConditionalGet:0x00007f53983a10b8 @app=#<Rack::ETag:0x00007f53983a11a8 @app=#<Rack::TempfileReaper:0x00007f53983a1248 @app=#<Warden::Manager:0x00007f53983a1518 @config={:default_scope=>:user, :scope_defaults=>{}, :default_strategies=>{:user=>[:rememberable, :database_authenticatable]}, :intercept_401=>false, :failure_app=>#<Devise::Delegator:0x00007f53920707c8>}, @app=#<ActionDispatch::Routing::RouteSet:0x00007f53984228e8>>>, @cache_control="max-age=0, private, must-revalidate", @no_cache_control="no-cache">>>>>, @default_options={:path=>"/", :domain=>nil, :expire_after=>nil, :secure=>false, :httponly=>true, :defer=>false, :renew=>false}, @key="_bookers2_session", @cookie_only=true, @same_site=nil>, @req=#<ActionDispatch::Request GET "http://www.example.com/books/1" for 127.0.0.1>, @delegate={"session_id"=>"ae0abc63a28fabd5a0a2df9b84b598fe", "warden.user.user.key"=>[[1], "$2a$04$vLUc1l8jgHyi140YSLymE."]}, @loaded=true, @exists=true>, "rack.session.options"=>#<ActionDispatch::Request::Session::Options:0x00007f538bae3090 @by=#<ActionDispatch::Session::CookieStore:0x00007f53983a0de8 @app=#<ActionDispatch::ContentSecurityPolicy::Middleware:0x00007f53983a0ed8 @app=#<ActionDispatch::PermissionsPolicy::Middleware:0x00007f53983a0f78 @app=#<Rack::Head:0x00007f53983a1018 @app=#<Rack::ConditionalGet:0x00007f53983a10b8 @app=#<Rack::ETag:0x00007f53983a11a8 @app=#<Rack::TempfileReaper:0x00007f53983a1248 @app=#<Warden::Manager:0x00007f53983a1518 @config={:default_scope=>:user, :scope_defaults=>{}, :default_strategies=>{:user=>[:rememberable, :database_authenticatable]}, :intercept_401=>false, :failure_app=>#<Devise::Delegator:0x00007f53920707c8>}, @app=#<ActionDispatch::Routing::RouteSet:0x00007f53984228e8>>>, @cache_control="max-age=0, private, must-revalidate", @no_cache_control="no-cache">>>>>, @default_options={:path=>"/", :domain=>nil, :expire_after=>nil, :secure=>false, :httponly=>true, :defer=>false, :renew=>false}, @key="_bookers2_session", @cookie_only=true, @same_site=nil>, @delegate={:path=>"/", :domain=>nil, :expire_after=>nil, :secure=>false, :httponly=>true, :defer=>false, :renew=>false, :id=>"ae0abc63a28fabd5a0a2df9b84b598fe"}>, "rack.tempfiles"=>[], "warden"=>Warden::Proxy:80540 @config={:default_scope=>:user, :scope_defaults=>{}, :default_strategies=>{:user=>[:rememberable, :database_authenticatable]}, :intercept_401=>false, :failure_app=>#<Devise::Delegator:0x00007f53920707c8>}, "action_dispatch.request.path_parameters"=>{:controller=>"books", :action=>"show", :id=>"1"}, "action_controller.instance"=>#<BooksController:0x00000000027560>, "action_dispatch.request.content_type"=>nil, "action_dispatch.request.request_parameters"=>{}, "rack.request.query_string"=>"", "rack.request.query_hash"=>{}, "action_dispatch.request.query_parameters"=>{}, "action_dispatch.request.parameters"=>{"controller"=>"books", "action"=>"show", "id"=>"1"}, "action_dispatch.request.formats"=>[#<Mime::Type:0x00007f5394b247f8 @synonyms=["application/xhtml+xml"], @symbol=:html, @string="text/html", @hash=585732271851187284>], "rack.request.cookie_hash"=>{"_bookers2_session"=>"+kOWebN6cvU5lDN1m8Z4Jnf7sLs45bmprQ2isGd2Ly/rKIzgGr+G70KWiSx3M272x1Jd+MCd+5p1QgiicbDBLCfTaRVGOibtbAsFJopDvdtL6gBvsNIx8beq0WvwbJ4iEXg+/mUr9hOaCQr7QAM2j0rLezbiwusKNvYpSJnH+Pj/s5mA3onLcJIfDZfkMg3TYC9MbY40u+eiIaRz47wwrKdaFZzMmeN8wcJ4KaSQz/X4e4i5xf6WqUkWlaK9Aj+kUP/CHYVfZp0JK+oIkJsTkcVh8IALu68dQw==--SPBo3/M9rwb1vRQo--K2YnE7/Ip1FrkfdJ4nxCGQ=="}, "rack.request.cookie_string"=>"_bookers2_session=%2BkOWebN6cvU5lDN1m8Z4Jnf7sLs45bmprQ2isGd2Ly%2FrKIzgGr%2BG70KWiSx3M272x1Jd%2BMCd%2B5p1QgiicbDBLCfTaRVGOibtbAsFJopDvdtL6gBvsNIx8beq0WvwbJ4iEXg%2B%2FmUr9hOaCQr7QAM2j0rLezbiwusKNvYpSJnH%2BPj%2Fs5mA3onLcJIfDZfkMg3TYC9MbY40u%2BeiIaRz47wwrKdaFZzMmeN8wcJ4KaSQz%2FX4e4i5xf6WqUkWlaK9Aj%2BkUP%2FCHYVfZp0JK%2BoIkJsTkcVh8IALu68dQw%3D%3D--SPBo3%2FM9rwb1vRQo--K2YnE7%2FIp1FrkfdJ4nxCGQ%3D%3D", "action_dispatch.cookies"=>#<ActionDispatch::Cookies::CookieJar:0x00007f538bae7b18 @set_cookies={"_bookers2_session"=>{:value=>"yGJTDtrRP6BmqcjK9nHJGB6lwYjNkG8grrMQKyT9tf+uXQufPDq4inIKM/80TRR5DyVLhmlllvlAaMNKanKjwOpspg7Y9/3y6+Y/xdmuWgZis7zMkp+mLNJnXKfZ7oFgQvtDPISz2RsurlrE5xActi0vBnB+N9Nhoev6VwabflD9EPkmFqfT/e4X5j7ui+trsY6LYDAjANe+LaQSelpQ2/c9t+w1K+Aps7acrMdi22hsg97ZH9GC/JuPmeK2Nbi6k39uHOukBasxeIhcmT7XyJBVDHb9TLdr8w==--SCDrJDggHNlWg4LG--aUMuOr4JOmcDx7YH1DW/Ow==", :same_site=>:lax, :path=>"/", :domain=>nil, :expire_after=>nil, :secure=>false, :httponly=>true, :defer=>false, :renew=>false, :id=>"ae0abc63a28fabd5a0a2df9b84b598fe"}}, @delete_cookies={}, @request=#<ActionDispatch::Request GET "http://www.example.com/books/1" for 127.0.0.1>, @cookies={"_bookers2_session"=>"yGJTDtrRP6BmqcjK9nHJGB6lwYjNkG8grrMQKyT9tf+uXQufPDq4inIKM/80TRR5DyVLhmlllvlAaMNKanKjwOpspg7Y9/3y6+Y/xdmuWgZis7zMkp+mLNJnXKfZ7oFgQvtDPISz2RsurlrE5xActi0vBnB+N9Nhoev6VwabflD9EPkmFqfT/e4X5j7ui+trsY6LYDAjANe+LaQSelpQ2/c9t+w1K+Aps7acrMdi22hsg97ZH9GC/JuPmeK2Nbi6k39uHOukBasxeIhcmT7XyJBVDHb9TLdr8w==--SCDrJDggHNlWg4LG--aUMuOr4JOmcDx7YH1DW/Ow=="}, @committed=false, @encrypted=#<ActionDispatch::Cookies::EncryptedKeyRotatingCookieJar:0x00007f538bae7a50 @parent_jar=#<ActionDispatch::Cookies::CookieJar:0x00007f538bae7b18 ...>, @encryptor=#<ActiveSupport::MessageEncryptor:0x00007f538bae7960 @secret="\xF3\xEE63({\xB7@\xF7&6\xEAD\xF1aA\xA5G\\f\xE87\xDE\v|\xC4\xC0\xB7\xD8\x90>\x02", @sign_secret=nil, @cipher="aes-256-gcm", @aead_mode=true, @verifier=ActiveSupport::MessageEncryptor::NullVerifier, @serializer=ActiveSupport::MessageEncryptor::NullSerializer, @options={:cipher=>"aes-256-gcm", :serializer=>ActiveSupport::MessageEncryptor::NullSerializer}, @rotations=[#<ActiveSupport::MessageEncryptor:0x00007f538bae7578 @secret="\xBD\xA6\xA8t\xD2\x97\xAF\xAB/\xAAs\xE0\xED\x9B?pQ\xB6\x94\xD3\xC2k#\x99?d\x89f\x95\xDC\xEB\x98", @sign_secret=":\x12A\x94}.4\x04\\\xC1\xE7\xC6\xB6\x87D\x12\vQ\x1E\x1F\r\x86M\xCE\xF0'@S\xB1b4\x9A\xD6\xBC\x8C\xAE\x8Ea[c\x9D\xC10\x1A=y\x05m\\\xD7\x06\r@:\xD3\xC3\xB4wi\x98\x88~1\xF2", @cipher="aes-256-cbc", @aead_mode=false, @verifier=#<ActiveSupport::MessageVerifier:0x00007f538bae7398 @secret=":\x12A\x94}.4\x04\\\xC1\xE7\xC6\xB6\x87D\x12\vQ\x1E\x1F\r\x86M\xCE\xF0'@S\xB1b4\x9A\xD6\xBC\x8C\xAE\x8Ea[c\x9D\xC10\x1A=y\x05m\\\xD7\x06\r@:\xD3\xC3\xB4wi\x98\x88~1\xF2", @digest="SHA1", @serializer=ActiveSupport::MessageEncryptor::NullSerializer, @options={:digest=>"SHA1", :serializer=>ActiveSupport::MessageEncryptor::NullSerializer}, @rotations=[], @on_rotation=nil>, @serializer=ActiveSupport::MessageEncryptor::NullSerializer, @options={:cipher=>"aes-256-cbc", :serializer=>ActiveSupport::MessageEncryptor::NullSerializer, :digest=>"SHA1"}, @rotations=[], @on_rotation=nil, @digest="SHA1">], @on_rotation=nil>>, @signed_or_encrypted=#<ActionDispatch::Cookies::EncryptedKeyRotatingCookieJar:0x00007f538bae7a50 @parent_jar=#<ActionDispatch::Cookies::CookieJar:0x00007f538bae7b18 ...>, @encryptor=#<ActiveSupport::MessageEncryptor:0x00007f538bae7960 @secret="\xF3\xEE63({\xB7@\xF7&6\xEAD\xF1aA\xA5G\\f\xE87\xDE\v|\xC4\xC0\xB7\xD8\x90>\x02", @sign_secret=nil, @cipher="aes-256-gcm", @aead_mode=true, @verifier=ActiveSupport::MessageEncryptor::NullVerifier, @serializer=ActiveSupport::MessageEncryptor::NullSerializer, @options={:cipher=>"aes-256-gcm", :serializer=>ActiveSupport::MessageEncryptor::NullSerializer}, @rotations=[#<ActiveSupport::MessageEncryptor:0x00007f538bae7578 @secret="\xBD\xA6\xA8t\xD2\x97\xAF\xAB/\xAAs\xE0\xED\x9B?pQ\xB6\x94\xD3\xC2k#\x99?d\x89f\x95\xDC\xEB\x98", @sign_secret=":\x12A\x94}.4\x04\\\xC1\xE7\xC6\xB6\x87D\x12\vQ\x1E\x1F\r\x86M\xCE\xF0'@S\xB1b4\x9A\xD6\xBC\x8C\xAE\x8Ea[c\x9D\xC10\x1A=y\x05m\\\xD7\x06\r@:\xD3\xC3\xB4wi\x98\x88~1\xF2", @cipher="aes-256-cbc", @aead_mode=false, @verifier=#<ActiveSupport::MessageVerifier:0x00007f538bae7398 @secret=":\x12A\x94}.4\x04\\\xC1\xE7\xC6\xB6\x87D\x12\vQ\x1E\x1F\r\x86M\xCE\xF0'@S\xB1b4\x9A\xD6\xBC\x8C\xAE\x8Ea[c\x9D\xC10\x1A=y\x05m\\\xD7\x06\r@:\xD3\xC3\xB4wi\x98\x88~1\xF2", @digest="SHA1", @serializer=ActiveSupport::MessageEncryptor::NullSerializer, @options={:digest=>"SHA1", :serializer=>ActiveSupport::MessageEncryptor::NullSerializer}, @rotations=[], @on_rotation=nil>, @serializer=ActiveSupport::MessageEncryptor::NullSerializer, @options={:cipher=>"aes-256-cbc", :serializer=>ActiveSupport::MessageEncryptor::NullSerializer, :digest=>"SHA1"}, @rotations=[], @on_rotation=nil, @digest="SHA1">], @on_rotation=nil>>>, "action_dispatch.request.unsigned_session_cookie"=>{"session_id"=>"ae0abc63a28fabd5a0a2df9b84b598fe", "warden.user.user.key"=>[[1], "$2a$04$vLUc1l8jgHyi140YSLymE."]}, "action_dispatch.request.flash_hash"=>#<ActionDispatch::Flash::FlashHash:0x00007f538baecd98 @discard=#<Set: {}>, @flashes={}, @now=nil>}>, @last_response=#<Rack::MockResponse:0x00007f538babff00 @original_headers={"X-Frame-Options"=>"SAMEORIGIN", "X-XSS-Protection"=>"1; mode=block", "X-Content-Type-Options"=>"nosniff", "X-Download-Options"=>"noopen", "X-Permitted-Cross-Domain-Policies"=>"none", "Referrer-Policy"=>"strict-origin-when-cross-origin", "Link"=>"</packs-test/js/application-0f8cf5d6e063f6e1d671.js>; rel=preload; as=script; nopush", "Content-Type"=>"text/html; charset=utf-8", "ETag"=>"W/\"d8c9542efa6de915081ff90f7a7d970b\"", "Cache-Control"=>"max-age=0, private, must-revalidate", "Set-Cookie"=>"_bookers2_session=yGJTDtrRP6BmqcjK9nHJGB6lwYjNkG8grrMQKyT9tf%2BuXQufPDq4inIKM%2F80TRR5DyVLhmlllvlAaMNKanKjwOpspg7Y9%2F3y6%2BY%2FxdmuWgZis7zMkp%2BmLNJnXKfZ7oFgQvtDPISz2RsurlrE5xActi0vBnB%2BN9Nhoev6VwabflD9EPkmFqfT%2Fe4X5j7ui%2BtrsY6LYDAjANe%2BLaQSelpQ2%2Fc9t%2Bw1K%2BAps7acrMdi22hsg97ZH9GC%2FJuPmeK2Nbi6k39uHOukBasxeIhcmT7XyJBVDHb9TLdr8w%3D%3D--SCDrJDggHNlWg4LG--aUMuOr4JOmcDx7YH1DW%2FOw%3D%3D; path=/; HttpOnly; SameSite=Lax", "X-Request-Id"=>"0f501fc8-bb83-4760-8c0a-a894fe16af3b", "X-Runtime"=>"0.022300", "Content-Length"=>"4185"}, @errors="", @cookies={"_bookers2_session"=>#<CGI::Cookie: "_bookers2_session=yGJTDtrRP6BmqcjK9nHJGB6lwYjNkG8grrMQKyT9tf%252BuXQufPDq4inIKM%252F80TRR5DyVLhmlllvlAaMNKanKjwOpspg7Y9%252F3y6%252BY%252FxdmuWgZis7zMkp%252BmLNJnXKfZ7oFgQvtDPISz2RsurlrE5xActi0vBnB%252BN9Nhoev6VwabflD9EPkmFqfT%252Fe4X5j7ui%252BtrsY6LYDAjANe%252BLaQSelpQ2%252Fc9t%252Bw1K%252BAps7acrMdi22hsg97ZH9GC%252FJuPmeK2Nbi6k39uHOukBasxeIhcmT7XyJBVDHb9TLdr8w%253D%253D--SCDrJDggHNlWg4LG--aUMuOr4JOmcDx7YH1DW%252FOw%253D%253D; path=/">}, @status=200, @headers={"X-Frame-Options"=>"SAMEORIGIN", "X-XSS-Protection"=>"1; mode=block", "X-Content-Type-Options"=>"nosniff", "X-Download-Options"=>"noopen", "X-Permitted-Cross-Domain-Policies"=>"none", "Referrer-Policy"=>"strict-origin-when-cross-origin", "Link"=>"</packs-test/js/application-0f8cf5d6e063f6e1d671.js>; rel=preload; as=script; nopush", "Content-Type"=>"text/html; charset=utf-8", "ETag"=>"W/\"d8c9542efa6de915081ff90f7a7d970b\"", "Cache-Control"=>"max-age=0, private, must-revalidate", "Set-Cookie"=>"_bookers2_session=yGJTDtrRP6BmqcjK9nHJGB6lwYjNkG8grrMQKyT9tf%2BuXQufPDq4inIKM%2F80TRR5DyVLhmlllvlAaMNKanKjwOpspg7Y9%2F3y6%2BY%2FxdmuWgZis7zMkp%2BmLNJnXKfZ7oFgQvtDPISz2RsurlrE5xActi0vBnB%2BN9Nhoev6VwabflD9EPkmFqfT%2Fe4X5j7ui%2BtrsY6LYDAjANe%2BLaQSelpQ2%2Fc9t%2Bw1K%2BAps7acrMdi22hsg97ZH9GC%2FJuPmeK2Nbi6k39uHOukBasxeIhcmT7XyJBVDHb9TLdr8w%3D%3D--SCDrJDggHNlWg4LG--aUMuOr4JOmcDx7YH1DW%2FOw%3D%3D; path=/; HttpOnly; SameSite=Lax", "X-Request-Id"=>"0f501fc8-bb83-4760-8c0a-a894fe16af3b", "X-Runtime"=>"0.022300", "Content-Length"=>"4185"}, @writer=#<Method: Rack::MockResponse(Rack::Response::Helpers)#append(chunk) /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/rack-2.2.17/lib/rack/response.rb:287>, @block=nil, @body=["<!DOCTYPE html>\n<html>\n  <head>\n     <title>Bookers2</title>\n     <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n     \n     \n     <meta name=\"viewport\" content=\"width=device-width,initial-scale=1 maximum-scale=1\">\n     <script src=\"https://kit.fontawesome.com/4c018c7cce.js\" crossorigin=\"anonymous\"></script>\n     \n     <script src=\"/packs-test/js/application-0f8cf5d6e063f6e1d671.js\" data-turbolinks-track=\"reload\"></script>\n  </head>\n    \n  <body>\n   <div class=\"container-fluid bg-secondary\">\n     <div class=\"header row px-5 py-4\"\n       <div class=\"col-3 d-flex justify-content-strat\">\n        <a style=\"color: white;\" href=\"/\">Bookers</a>\n       </div>\n\n       <div class=\"col-6 offset-3 d-flex justify-content-end\">\n         <div class=\"d-flex\">\n\n            <a class=\"text-white mr-3\" href=\"/users/1\">\n              <i class=\"fa-solid fa-house\"></i>Home\n</a>            \n            <a class=\"text-white mr-3\" href=\"/users\">\n              <i class=\"fa-solid fa-users\"></i>Users\n</a>            <a class=\"text-white mr-3\" href=\"/books\">\n              <i class=\"fa-solid fa-book-open\"></i>Books\n</a>            <a class=\"text-white mr-3\" rel=\"nofollow\" data-method=\"delete\" href=\"/users/sign_out\">\n              <i class=\"fa-solid fa-right-from-bracket\"></i>Log out\n</a>       </div>\n     </div>\n   </div>\n   </div>\n    <h1 class=\"text-center my-4\">Book detail</h1>\n\n\n<div class=\"container\" >\n  <div class=\"row\">\n      <div class=\"col-md-3\">\n        <h1>User info</h1>\n      <img src=\"http://www.example.com/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--7738d9b7769be5ef85cfa1a257a5537036bb9239/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lKYW5CbFp3WTZCa1ZVT2hSeVpYTnBlbVZmZEc5ZmJHbHRhWFJiQjJscGFXaz0iLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--1562c9686354f09633a016ebcf585f3b62360468/profile_image.jpeg\" />\n      <hr>\n        <p>name: mazvzufu91</p>\n      <hr>\n        <p>introduction: 9eq8nyo8eisd3hcwbppt</p>\n\n      <div class=\"col mt-5\">\n        <p><a class=\"btn btn-outline-dark btn-block\" href=\"/users/1/edit\">\n           <i class=\"fa-solid fa-user-gear\"></i>\n        </a></p>\n      </div>\n\n\n  <h1>New book</h1>\n  <form action=\"/books/1\" accept-charset=\"UTF-8\" method=\"post\">\n    <div class=\"field\">\n         <!-- f.label :title 入力する事でcode内では小文字でもサイト上では大文字になる。 -->\n      <label for=\"title\">Title</label><br>\n         <!--小さい文字入力出来るフィールドが出来る。-->\n      <input type=\"text\" name=\"title\" id=\"title\" />\n    </div>\n    <div class=\"field\">\n      <label for=\"opinion\">Opinion</label><br>\n      <textarea name=\"body\" id=\"body\">\n</textarea>\n    </div>\n    <div class=\"row ml-5\">\n      <input type=\"submit\" name=\"commit\" value=\"Creste Book\" class=\"btn btn-success\" data-disable-with=\"Creste Book\" />\n    </div>\n  </form>    \n      </div>\n       <div class=\"col-md-8 offset-md-1\">\n         <h1>Book detail</h1>\n         <table class=\"table\">\n         </tbody>\n           <tr>\n             <td>\n                 <a href=\"/users/1\">\n                   <img src=\"http://www.example.com/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--7738d9b7769be5ef85cfa1a257a5537036bb9239/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lKYW5CbFp3WTZCa1ZVT2hSeVpYTnBlbVZmZEc5ZmJHbHRhWFJiQjJscGFXaz0iLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--1562c9686354f09633a016ebcf585f3b62360468/profile_image.jpeg\" /><br>\n                   mazvzufu91\n</a>             </td>\n             <td><a href=\"/books/1\">ug6q2</a></td>\n             <td>gtn4gpl40ml0i2p64y7j</td>\n               <td><a class=\"btn btn-success\" href=\"/books/1/edit\">Edit</a></td>\n               <td><a data-confirm=\"本当に消しますか？\" class=\"btn btn-danger\" rel=\"nofollow\" data-method=\"derete\" href=\"/books/1\">Destroy</a></td>\n           </tr>\n          </tbody>\n          </table>\n       </div>\n  </div>\n</div>\n      <footer style=\"text-align: center; margin-top: 50px;\">\n    <p>CopyRight Infratop.inc</p>\n  </footer>\n  </body>\n</html>"], @buffered=true, @length=4185>, @cookie_jar=#<Rack::Test::CookieJar:0x00007f538bc36370 @default_host="www.example.com", @cookies=[#<Rack::Test::Cookie:0x00007f538babf258 @default_host="www.example.com", @raw="_bookers2_session=yGJTDtrRP6BmqcjK9nHJGB6lwYjNkG8grrMQKyT9tf%2BuXQufPDq4inIKM%2F80TRR5DyVLhmlllvlAaMNKanKjwOpspg7Y9%2F3y6%2BY%2FxdmuWgZis7zMkp%2BmLNJnXKfZ7oFgQvtDPISz2RsurlrE5xActi0vBnB%2BN9Nhoev6VwabflD9EPkmFqfT%2Fe4X5j7ui%2BtrsY6LYDAjANe%2BLaQSelpQ2%2Fc9t%2Bw1K%2BAps7acrMdi22hsg97ZH9GC%2FJuPmeK2Nbi6k39uHOukBasxeIhcmT7XyJBVDHb9TLdr8w%3D%3D--SCDrJDggHNlWg4LG--aUMuOr4JOmcDx7YH1DW%2FOw%3D%3D", @name="_bookers2_session", @value="yGJTDtrRP6BmqcjK9nHJGB6lwYjNkG8grrMQKyT9tf+uXQufPDq4inIKM/80TRR5DyVLhmlllvlAaMNKanKjwOpspg7Y9/3y6+Y/xdmuWgZis7zMkp+mLNJnXKfZ7oFgQvtDPISz2RsurlrE5xActi0vBnB+N9Nhoev6VwabflD9EPkmFqfT/e4X5j7ui+trsY6LYDAjANe+LaQSelpQ2/c9t+w1K+Aps7acrMdi22hsg97ZH9GC/JuPmeK2Nbi6k39uHOukBasxeIhcmT7XyJBVDHb9TLdr8w==--SCDrJDggHNlWg4LG--aUMuOr4JOmcDx7YH1DW/Ow==", @options={"path"=>"/", "httponly"=>nil, "samesite"=>"Lax", "domain"=>"www.example.com"}, @exact_domain_match=true>]>>}, @_rack_test_current_session=#<Rack::Test::Session:0x00007f538bc36460 @env={}, @app=#<Rack::Builder:0x00007f5394b93220 @freeze_app=false, @warmup=nil, @run=nil, @map={"/"=>#<Proc:0x00007f5394b93130 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/actionpack-6.1.7.10/lib/action_dispatch/system_test_case.rb:128>}, @use=[]>, @after_request=[], @default_host="www.example.com", @last_request=#<Rack::Request:0x00007f538bb020d0 @params=nil, @env={"rack.version"=>[1, 3], "rack.input"=>#<StringIO:0x00007f538bb02328>, "rack.errors"=>#<StringIO:0x00007f538bb023a0>, "rack.multithread"=>true, "rack.multiprocess"=>true, "rack.run_once"=>false, "REQUEST_METHOD"=>"GET", "SERVER_NAME"=>"www.example.com", "SERVER_PORT"=>"80", "QUERY_STRING"=>"", "PATH_INFO"=>"/books/1", "rack.url_scheme"=>"http", "HTTPS"=>"off", "SCRIPT_NAME"=>"", "CONTENT_LENGTH"=>"0", "rack.test"=>true, "REMOTE_ADDR"=>"127.0.0.1", "SERVER_PROTOCOL"=>"HTTP/1.0", "HTTP_VERSION"=>"HTTP/1.0", "HTTP_HOST"=>"www.example.com", "HTTP_COOKIE"=>"_bookers2_session=%2BkOWebN6cvU5lDN1m8Z4Jnf7sLs45bmprQ2isGd2Ly%2FrKIzgGr%2BG70KWiSx3M272x1Jd%2BMCd%2B5p1QgiicbDBLCfTaRVGOibtbAsFJopDvdtL6gBvsNIx8beq0WvwbJ4iEXg%2B%2FmUr9hOaCQr7QAM2j0rLezbiwusKNvYpSJnH%2BPj%2Fs5mA3onLcJIfDZfkMg3TYC9MbY40u%2BeiIaRz47wwrKdaFZzMmeN8wcJ4KaSQz%2FX4e4i5xf6WqUkWlaK9Aj%2BkUP%2FCHYVfZp0JK%2BoIkJsTkcVh8IALu68dQw%3D%3D--SPBo3%2FM9rwb1vRQo--K2YnE7%2FIp1FrkfdJ4nxCGQ%3D%3D", "action_dispatch.parameter_filter"=>[:passw, :secret, :token, :_key, :crypt, :salt, :certificate, :otp, :ssn], "action_dispatch.redirect_filter"=>[], "action_dispatch.secret_key_base"=>"56780f8b2dd132be7b28464f1dade3e1e8bde229c07c1130d07eb6ae052df719b610aa3cfc71f373c27042c9c085aad6a950a0affa8072900179528d37d6cd20", "action_dispatch.show_exceptions"=>false, "action_dispatch.show_detailed_exceptions"=>true, "action_dispatch.logger"=>#<ActiveSupport::Logger:0x00007f539a710a58 @level=0, @progname=nil, @default_formatter=#<Logger::Formatter:0x00007f539a713500 @datetime_format=nil>, @formatter=#<ActiveSupport::Logger::SimpleFormatter:0x00007f539a710a30 @datetime_format=nil, @thread_key="activesupport_tagged_logging_tags:16040">, @logdev=#<Logger::LogDevice:0x00007f539a7132f8 @shift_period_suffix="%Y%m%d", @shift_size=1048576, @shift_age=0, @filename="/home/ec2-user/environment/bookers2/log/test.log", @dev=#<File:/home/ec2-user/environment/bookers2/log/test.log>, @binmode=false, @reraise_write_errors=[], @skip_header=false, @mon_data=#<Monitor:0x00007f539a713280>, @mon_data_owner_object_id=5720>, @level_override={}>, "action_dispatch.backtrace_cleaner"=>#<Rails::BacktraceCleaner:0x00007f5394b8ba20 @silencers=[#<Proc:0x00007f5394b8b570 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/activesupport-6.1.7.10/lib/active_support/backtrace_cleaner.rb:100>, #<Proc:0x00007f5394b8b4f8 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/activesupport-6.1.7.10/lib/active_support/backtrace_cleaner.rb:104>, #<Proc:0x00007f5394b8b390 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/railties-6.1.7.10/lib/rails/backtrace_cleaner.rb:24>], @filters=[#<Proc:0x00007f5394b8b610 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/activesupport-6.1.7.10/lib/active_support/backtrace_cleaner.rb:96>, #<Proc:0x00007f5394b8b3e0 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/railties-6.1.7.10/lib/rails/backtrace_cleaner.rb:14>, #<Proc:0x00007f5394b8b3b8 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/railties-6.1.7.10/lib/rails/backtrace_cleaner.rb:17>], @root="/home/ec2-user/environment/bookers2/">, "action_dispatch.key_generator"=>#<ActiveSupport::CachingKeyGenerator:0x00007f53926fef40 @key_generator=#<ActiveSupport::KeyGenerator:0x00007f53926fef68 @secret="56780f8b2dd132be7b28464f1dade3e1e8bde229c07c1130d07eb6ae052df719b610aa3cfc71f373c27042c9c085aad6a950a0affa8072900179528d37d6cd20", @iterations=1000>, @cache_keys=#<Concurrent::Map:0x00007f53926feef0 entries=6 default_proc=nil>>, "action_dispatch.http_auth_salt"=>"http authentication", "action_dispatch.signed_cookie_salt"=>"signed cookie", "action_dispatch.encrypted_cookie_salt"=>"encrypted cookie", "action_dispatch.encrypted_signed_cookie_salt"=>"signed encrypted cookie", "action_dispatch.authenticated_encrypted_cookie_salt"=>"authenticated encrypted cookie", "action_dispatch.use_authenticated_cookie_encryption"=>true, "action_dispatch.encrypted_cookie_cipher"=>nil, "action_dispatch.signed_cookie_digest"=>nil, "action_dispatch.cookies_serializer"=>:json, "action_dispatch.cookies_digest"=>nil, "action_dispatch.cookies_rotations"=>#<ActiveSupport::Messages::RotationConfiguration:0x00007f539a72aa48 @signed=[], @encrypted=[]>, "action_dispatch.cookies_same_site_protection"=>#<Proc:0x00007f5398521a28 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/railties-6.1.7.10/lib/rails/application.rb:636>, "action_dispatch.use_cookies_with_metadata"=>true, "action_dispatch.content_security_policy"=>nil, "action_dispatch.content_security_policy_report_only"=>false, "action_dispatch.content_security_policy_nonce_generator"=>nil, "action_dispatch.content_security_policy_nonce_directives"=>nil, "action_dispatch.permissions_policy"=>nil, "action_dispatch.routes"=>#<ActionDispatch::Routing::RouteSet:0x00007f53984228e8>, "ROUTES_12140_SCRIPT_NAME"=>"", "ORIGINAL_FULLPATH"=>"/books/1", "ORIGINAL_SCRIPT_NAME"=>"", "action_dispatch.request_id"=>"0f501fc8-bb83-4760-8c0a-a894fe16af3b", "action_dispatch.remote_ip"=>#<ActionDispatch::RemoteIp::GetIp:0x00007f538bb0a028 @req=#<ActionDispatch::Request GET "http://www.example.com/books/1" for 127.0.0.1>, @check_ip=true, @proxies=[#<IPAddr: IPv4:127.0.0.0/255.0.0.0>, #<IPAddr: IPv6:0000:0000:0000:0000:0000:0000:0000:0001/ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff>, #<IPAddr: IPv6:fc00:0000:0000:0000:0000:0000:0000:0000/fe00:0000:0000:0000:0000:0000:0000:0000>, #<IPAddr: IPv4:10.0.0.0/255.0.0.0>, #<IPAddr: IPv4:172.16.0.0/255.240.0.0>, #<IPAddr: IPv4:192.168.0.0/255.255.0.0>], @ip="127.0.0.1">, "rack.session"=>#<ActionDispatch::Request::Session:0x00007f538bae30e0 @by=#<ActionDispatch::Session::CookieStore:0x00007f53983a0de8 @app=#<ActionDispatch::ContentSecurityPolicy::Middleware:0x00007f53983a0ed8 @app=#<ActionDispatch::PermissionsPolicy::Middleware:0x00007f53983a0f78 @app=#<Rack::Head:0x00007f53983a1018 @app=#<Rack::ConditionalGet:0x00007f53983a10b8 @app=#<Rack::ETag:0x00007f53983a11a8 @app=#<Rack::TempfileReaper:0x00007f53983a1248 @app=#<Warden::Manager:0x00007f53983a1518 @config={:default_scope=>:user, :scope_defaults=>{}, :default_strategies=>{:user=>[:rememberable, :database_authenticatable]}, :intercept_401=>false, :failure_app=>#<Devise::Delegator:0x00007f53920707c8>}, @app=#<ActionDispatch::Routing::RouteSet:0x00007f53984228e8>>>, @cache_control="max-age=0, private, must-revalidate", @no_cache_control="no-cache">>>>>, @default_options={:path=>"/", :domain=>nil, :expire_after=>nil, :secure=>false, :httponly=>true, :defer=>false, :renew=>false}, @key="_bookers2_session", @cookie_only=true, @same_site=nil>, @req=#<ActionDispatch::Request GET "http://www.example.com/books/1" for 127.0.0.1>, @delegate={"session_id"=>"ae0abc63a28fabd5a0a2df9b84b598fe", "warden.user.user.key"=>[[1], "$2a$04$vLUc1l8jgHyi140YSLymE."]}, @loaded=true, @exists=true>, "rack.session.options"=>#<ActionDispatch::Request::Session::Options:0x00007f538bae3090 @by=#<ActionDispatch::Session::CookieStore:0x00007f53983a0de8 @app=#<ActionDispatch::ContentSecurityPolicy::Middleware:0x00007f53983a0ed8 @app=#<ActionDispatch::PermissionsPolicy::Middleware:0x00007f53983a0f78 @app=#<Rack::Head:0x00007f53983a1018 @app=#<Rack::ConditionalGet:0x00007f53983a10b8 @app=#<Rack::ETag:0x00007f53983a11a8 @app=#<Rack::TempfileReaper:0x00007f53983a1248 @app=#<Warden::Manager:0x00007f53983a1518 @config={:default_scope=>:user, :scope_defaults=>{}, :default_strategies=>{:user=>[:rememberable, :database_authenticatable]}, :intercept_401=>false, :failure_app=>#<Devise::Delegator:0x00007f53920707c8>}, @app=#<ActionDispatch::Routing::RouteSet:0x00007f53984228e8>>>, @cache_control="max-age=0, private, must-revalidate", @no_cache_control="no-cache">>>>>, @default_options={:path=>"/", :domain=>nil, :expire_after=>nil, :secure=>false, :httponly=>true, :defer=>false, :renew=>false}, @key="_bookers2_session", @cookie_only=true, @same_site=nil>, @delegate={:path=>"/", :domain=>nil, :expire_after=>nil, :secure=>false, :httponly=>true, :defer=>false, :renew=>false, :id=>"ae0abc63a28fabd5a0a2df9b84b598fe"}>, "rack.tempfiles"=>[], "warden"=>Warden::Proxy:80540 @config={:default_scope=>:user, :scope_defaults=>{}, :default_strategies=>{:user=>[:rememberable, :database_authenticatable]}, :intercept_401=>false, :failure_app=>#<Devise::Delegator:0x00007f53920707c8>}, "action_dispatch.request.path_parameters"=>{:controller=>"books", :action=>"show", :id=>"1"}, "action_controller.instance"=>#<BooksController:0x00000000027560>, "action_dispatch.request.content_type"=>nil, "action_dispatch.request.request_parameters"=>{}, "rack.request.query_string"=>"", "rack.request.query_hash"=>{}, "action_dispatch.request.query_parameters"=>{}, "action_dispatch.request.parameters"=>{"controller"=>"books", "action"=>"show", "id"=>"1"}, "action_dispatch.request.formats"=>[#<Mime::Type:0x00007f5394b247f8 @synonyms=["application/xhtml+xml"], @symbol=:html, @string="text/html", @hash=585732271851187284>], "rack.request.cookie_hash"=>{"_bookers2_session"=>"+kOWebN6cvU5lDN1m8Z4Jnf7sLs45bmprQ2isGd2Ly/rKIzgGr+G70KWiSx3M272x1Jd+MCd+5p1QgiicbDBLCfTaRVGOibtbAsFJopDvdtL6gBvsNIx8beq0WvwbJ4iEXg+/mUr9hOaCQr7QAM2j0rLezbiwusKNvYpSJnH+Pj/s5mA3onLcJIfDZfkMg3TYC9MbY40u+eiIaRz47wwrKdaFZzMmeN8wcJ4KaSQz/X4e4i5xf6WqUkWlaK9Aj+kUP/CHYVfZp0JK+oIkJsTkcVh8IALu68dQw==--SPBo3/M9rwb1vRQo--K2YnE7/Ip1FrkfdJ4nxCGQ=="}, "rack.request.cookie_string"=>"_bookers2_session=%2BkOWebN6cvU5lDN1m8Z4Jnf7sLs45bmprQ2isGd2Ly%2FrKIzgGr%2BG70KWiSx3M272x1Jd%2BMCd%2B5p1QgiicbDBLCfTaRVGOibtbAsFJopDvdtL6gBvsNIx8beq0WvwbJ4iEXg%2B%2FmUr9hOaCQr7QAM2j0rLezbiwusKNvYpSJnH%2BPj%2Fs5mA3onLcJIfDZfkMg3TYC9MbY40u%2BeiIaRz47wwrKdaFZzMmeN8wcJ4KaSQz%2FX4e4i5xf6WqUkWlaK9Aj%2BkUP%2FCHYVfZp0JK%2BoIkJsTkcVh8IALu68dQw%3D%3D--SPBo3%2FM9rwb1vRQo--K2YnE7%2FIp1FrkfdJ4nxCGQ%3D%3D", "action_dispatch.cookies"=>#<ActionDispatch::Cookies::CookieJar:0x00007f538bae7b18 @set_cookies={"_bookers2_session"=>{:value=>"yGJTDtrRP6BmqcjK9nHJGB6lwYjNkG8grrMQKyT9tf+uXQufPDq4inIKM/80TRR5DyVLhmlllvlAaMNKanKjwOpspg7Y9/3y6+Y/xdmuWgZis7zMkp+mLNJnXKfZ7oFgQvtDPISz2RsurlrE5xActi0vBnB+N9Nhoev6VwabflD9EPkmFqfT/e4X5j7ui+trsY6LYDAjANe+LaQSelpQ2/c9t+w1K+Aps7acrMdi22hsg97ZH9GC/JuPmeK2Nbi6k39uHOukBasxeIhcmT7XyJBVDHb9TLdr8w==--SCDrJDggHNlWg4LG--aUMuOr4JOmcDx7YH1DW/Ow==", :same_site=>:lax, :path=>"/", :domain=>nil, :expire_after=>nil, :secure=>false, :httponly=>true, :defer=>false, :renew=>false, :id=>"ae0abc63a28fabd5a0a2df9b84b598fe"}}, @delete_cookies={}, @request=#<ActionDispatch::Request GET "http://www.example.com/books/1" for 127.0.0.1>, @cookies={"_bookers2_session"=>"yGJTDtrRP6BmqcjK9nHJGB6lwYjNkG8grrMQKyT9tf+uXQufPDq4inIKM/80TRR5DyVLhmlllvlAaMNKanKjwOpspg7Y9/3y6+Y/xdmuWgZis7zMkp+mLNJnXKfZ7oFgQvtDPISz2RsurlrE5xActi0vBnB+N9Nhoev6VwabflD9EPkmFqfT/e4X5j7ui+trsY6LYDAjANe+LaQSelpQ2/c9t+w1K+Aps7acrMdi22hsg97ZH9GC/JuPmeK2Nbi6k39uHOukBasxeIhcmT7XyJBVDHb9TLdr8w==--SCDrJDggHNlWg4LG--aUMuOr4JOmcDx7YH1DW/Ow=="}, @committed=false, @encrypted=#<ActionDispatch::Cookies::EncryptedKeyRotatingCookieJar:0x00007f538bae7a50 @parent_jar=#<ActionDispatch::Cookies::CookieJar:0x00007f538bae7b18 ...>, @encryptor=#<ActiveSupport::MessageEncryptor:0x00007f538bae7960 @secret="\xF3\xEE63({\xB7@\xF7&6\xEAD\xF1aA\xA5G\\f\xE87\xDE\v|\xC4\xC0\xB7\xD8\x90>\x02", @sign_secret=nil, @cipher="aes-256-gcm", @aead_mode=true, @verifier=ActiveSupport::MessageEncryptor::NullVerifier, @serializer=ActiveSupport::MessageEncryptor::NullSerializer, @options={:cipher=>"aes-256-gcm", :serializer=>ActiveSupport::MessageEncryptor::NullSerializer}, @rotations=[#<ActiveSupport::MessageEncryptor:0x00007f538bae7578 @secret="\xBD\xA6\xA8t\xD2\x97\xAF\xAB/\xAAs\xE0\xED\x9B?pQ\xB6\x94\xD3\xC2k#\x99?d\x89f\x95\xDC\xEB\x98", @sign_secret=":\x12A\x94}.4\x04\\\xC1\xE7\xC6\xB6\x87D\x12\vQ\x1E\x1F\r\x86M\xCE\xF0'@S\xB1b4\x9A\xD6\xBC\x8C\xAE\x8Ea[c\x9D\xC10\x1A=y\x05m\\\xD7\x06\r@:\xD3\xC3\xB4wi\x98\x88~1\xF2", @cipher="aes-256-cbc", @aead_mode=false, @verifier=#<ActiveSupport::MessageVerifier:0x00007f538bae7398 @secret=":\x12A\x94}.4\x04\\\xC1\xE7\xC6\xB6\x87D\x12\vQ\x1E\x1F\r\x86M\xCE\xF0'@S\xB1b4\x9A\xD6\xBC\x8C\xAE\x8Ea[c\x9D\xC10\x1A=y\x05m\\\xD7\x06\r@:\xD3\xC3\xB4wi\x98\x88~1\xF2", @digest="SHA1", @serializer=ActiveSupport::MessageEncryptor::NullSerializer, @options={:digest=>"SHA1", :serializer=>ActiveSupport::MessageEncryptor::NullSerializer}, @rotations=[], @on_rotation=nil>, @serializer=ActiveSupport::MessageEncryptor::NullSerializer, @options={:cipher=>"aes-256-cbc", :serializer=>ActiveSupport::MessageEncryptor::NullSerializer, :digest=>"SHA1"}, @rotations=[], @on_rotation=nil, @digest="SHA1">], @on_rotation=nil>>, @signed_or_encrypted=#<ActionDispatch::Cookies::EncryptedKeyRotatingCookieJar:0x00007f538bae7a50 @parent_jar=#<ActionDispatch::Cookies::CookieJar:0x00007f538bae7b18 ...>, @encryptor=#<ActiveSupport::MessageEncryptor:0x00007f538bae7960 @secret="\xF3\xEE63({\xB7@\xF7&6\xEAD\xF1aA\xA5G\\f\xE87\xDE\v|\xC4\xC0\xB7\xD8\x90>\x02", @sign_secret=nil, @cipher="aes-256-gcm", @aead_mode=true, @verifier=ActiveSupport::MessageEncryptor::NullVerifier, @serializer=ActiveSupport::MessageEncryptor::NullSerializer, @options={:cipher=>"aes-256-gcm", :serializer=>ActiveSupport::MessageEncryptor::NullSerializer}, @rotations=[#<ActiveSupport::MessageEncryptor:0x00007f538bae7578 @secret="\xBD\xA6\xA8t\xD2\x97\xAF\xAB/\xAAs\xE0\xED\x9B?pQ\xB6\x94\xD3\xC2k#\x99?d\x89f\x95\xDC\xEB\x98", @sign_secret=":\x12A\x94}.4\x04\\\xC1\xE7\xC6\xB6\x87D\x12\vQ\x1E\x1F\r\x86M\xCE\xF0'@S\xB1b4\x9A\xD6\xBC\x8C\xAE\x8Ea[c\x9D\xC10\x1A=y\x05m\\\xD7\x06\r@:\xD3\xC3\xB4wi\x98\x88~1\xF2", @cipher="aes-256-cbc", @aead_mode=false, @verifier=#<ActiveSupport::MessageVerifier:0x00007f538bae7398 @secret=":\x12A\x94}.4\x04\\\xC1\xE7\xC6\xB6\x87D\x12\vQ\x1E\x1F\r\x86M\xCE\xF0'@S\xB1b4\x9A\xD6\xBC\x8C\xAE\x8Ea[c\x9D\xC10\x1A=y\x05m\\\xD7\x06\r@:\xD3\xC3\xB4wi\x98\x88~1\xF2", @digest="SHA1", @serializer=ActiveSupport::MessageEncryptor::NullSerializer, @options={:digest=>"SHA1", :serializer=>ActiveSupport::MessageEncryptor::NullSerializer}, @rotations=[], @on_rotation=nil>, @serializer=ActiveSupport::MessageEncryptor::NullSerializer, @options={:cipher=>"aes-256-cbc", :serializer=>ActiveSupport::MessageEncryptor::NullSerializer, :digest=>"SHA1"}, @rotations=[], @on_rotation=nil, @digest="SHA1">], @on_rotation=nil>>>, "action_dispatch.request.unsigned_session_cookie"=>{"session_id"=>"ae0abc63a28fabd5a0a2df9b84b598fe", "warden.user.user.key"=>[[1], "$2a$04$vLUc1l8jgHyi140YSLymE."]}, "action_dispatch.request.flash_hash"=>#<ActionDispatch::Flash::FlashHash:0x00007f538baecd98 @discard=#<Set: {}>, @flashes={}, @now=nil>}>, @last_response=#<Rack::MockResponse:0x00007f538babff00 @original_headers={"X-Frame-Options"=>"SAMEORIGIN", "X-XSS-Protection"=>"1; mode=block", "X-Content-Type-Options"=>"nosniff", "X-Download-Options"=>"noopen", "X-Permitted-Cross-Domain-Policies"=>"none", "Referrer-Policy"=>"strict-origin-when-cross-origin", "Link"=>"</packs-test/js/application-0f8cf5d6e063f6e1d671.js>; rel=preload; as=script; nopush", "Content-Type"=>"text/html; charset=utf-8", "ETag"=>"W/\"d8c9542efa6de915081ff90f7a7d970b\"", "Cache-Control"=>"max-age=0, private, must-revalidate", "Set-Cookie"=>"_bookers2_session=yGJTDtrRP6BmqcjK9nHJGB6lwYjNkG8grrMQKyT9tf%2BuXQufPDq4inIKM%2F80TRR5DyVLhmlllvlAaMNKanKjwOpspg7Y9%2F3y6%2BY%2FxdmuWgZis7zMkp%2BmLNJnXKfZ7oFgQvtDPISz2RsurlrE5xActi0vBnB%2BN9Nhoev6VwabflD9EPkmFqfT%2Fe4X5j7ui%2BtrsY6LYDAjANe%2BLaQSelpQ2%2Fc9t%2Bw1K%2BAps7acrMdi22hsg97ZH9GC%2FJuPmeK2Nbi6k39uHOukBasxeIhcmT7XyJBVDHb9TLdr8w%3D%3D--SCDrJDggHNlWg4LG--aUMuOr4JOmcDx7YH1DW%2FOw%3D%3D; path=/; HttpOnly; SameSite=Lax", "X-Request-Id"=>"0f501fc8-bb83-4760-8c0a-a894fe16af3b", "X-Runtime"=>"0.022300", "Content-Length"=>"4185"}, @errors="", @cookies={"_bookers2_session"=>#<CGI::Cookie: "_bookers2_session=yGJTDtrRP6BmqcjK9nHJGB6lwYjNkG8grrMQKyT9tf%252BuXQufPDq4inIKM%252F80TRR5DyVLhmlllvlAaMNKanKjwOpspg7Y9%252F3y6%252BY%252FxdmuWgZis7zMkp%252BmLNJnXKfZ7oFgQvtDPISz2RsurlrE5xActi0vBnB%252BN9Nhoev6VwabflD9EPkmFqfT%252Fe4X5j7ui%252BtrsY6LYDAjANe%252BLaQSelpQ2%252Fc9t%252Bw1K%252BAps7acrMdi22hsg97ZH9GC%252FJuPmeK2Nbi6k39uHOukBasxeIhcmT7XyJBVDHb9TLdr8w%253D%253D--SCDrJDggHNlWg4LG--aUMuOr4JOmcDx7YH1DW%252FOw%253D%253D; path=/">}, @status=200, @headers={"X-Frame-Options"=>"SAMEORIGIN", "X-XSS-Protection"=>"1; mode=block", "X-Content-Type-Options"=>"nosniff", "X-Download-Options"=>"noopen", "X-Permitted-Cross-Domain-Policies"=>"none", "Referrer-Policy"=>"strict-origin-when-cross-origin", "Link"=>"</packs-test/js/application-0f8cf5d6e063f6e1d671.js>; rel=preload; as=script; nopush", "Content-Type"=>"text/html; charset=utf-8", "ETag"=>"W/\"d8c9542efa6de915081ff90f7a7d970b\"", "Cache-Control"=>"max-age=0, private, must-revalidate", "Set-Cookie"=>"_bookers2_session=yGJTDtrRP6BmqcjK9nHJGB6lwYjNkG8grrMQKyT9tf%2BuXQufPDq4inIKM%2F80TRR5DyVLhmlllvlAaMNKanKjwOpspg7Y9%2F3y6%2BY%2FxdmuWgZis7zMkp%2BmLNJnXKfZ7oFgQvtDPISz2RsurlrE5xActi0vBnB%2BN9Nhoev6VwabflD9EPkmFqfT%2Fe4X5j7ui%2BtrsY6LYDAjANe%2BLaQSelpQ2%2Fc9t%2Bw1K%2BAps7acrMdi22hsg97ZH9GC%2FJuPmeK2Nbi6k39uHOukBasxeIhcmT7XyJBVDHb9TLdr8w%3D%3D--SCDrJDggHNlWg4LG--aUMuOr4JOmcDx7YH1DW%2FOw%3D%3D; path=/; HttpOnly; SameSite=Lax", "X-Request-Id"=>"0f501fc8-bb83-4760-8c0a-a894fe16af3b", "X-Runtime"=>"0.022300", "Content-Length"=>"4185"}, @writer=#<Method: Rack::MockResponse(Rack::Response::Helpers)#append(chunk) /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/rack-2.2.17/lib/rack/response.rb:287>, @block=nil, @body=["<!DOCTYPE html>\n<html>\n  <head>\n     <title>Bookers2</title>\n     <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n     \n     \n     <meta name=\"viewport\" content=\"width=device-width,initial-scale=1 maximum-scale=1\">\n     <script src=\"https://kit.fontawesome.com/4c018c7cce.js\" crossorigin=\"anonymous\"></script>\n     \n     <script src=\"/packs-test/js/application-0f8cf5d6e063f6e1d671.js\" data-turbolinks-track=\"reload\"></script>\n  </head>\n    \n  <body>\n   <div class=\"container-fluid bg-secondary\">\n     <div class=\"header row px-5 py-4\"\n       <div class=\"col-3 d-flex justify-content-strat\">\n        <a style=\"color: white;\" href=\"/\">Bookers</a>\n       </div>\n\n       <div class=\"col-6 offset-3 d-flex justify-content-end\">\n         <div class=\"d-flex\">\n\n            <a class=\"text-white mr-3\" href=\"/users/1\">\n              <i class=\"fa-solid fa-house\"></i>Home\n</a>            \n            <a class=\"text-white mr-3\" href=\"/users\">\n              <i class=\"fa-solid fa-users\"></i>Users\n</a>            <a class=\"text-white mr-3\" href=\"/books\">\n              <i class=\"fa-solid fa-book-open\"></i>Books\n</a>            <a class=\"text-white mr-3\" rel=\"nofollow\" data-method=\"delete\" href=\"/users/sign_out\">\n              <i class=\"fa-solid fa-right-from-bracket\"></i>Log out\n</a>       </div>\n     </div>\n   </div>\n   </div>\n    <h1 class=\"text-center my-4\">Book detail</h1>\n\n\n<div class=\"container\" >\n  <div class=\"row\">\n      <div class=\"col-md-3\">\n        <h1>User info</h1>\n      <img src=\"http://www.example.com/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--7738d9b7769be5ef85cfa1a257a5537036bb9239/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lKYW5CbFp3WTZCa1ZVT2hSeVpYTnBlbVZmZEc5ZmJHbHRhWFJiQjJscGFXaz0iLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--1562c9686354f09633a016ebcf585f3b62360468/profile_image.jpeg\" />\n      <hr>\n        <p>name: mazvzufu91</p>\n      <hr>\n        <p>introduction: 9eq8nyo8eisd3hcwbppt</p>\n\n      <div class=\"col mt-5\">\n        <p><a class=\"btn btn-outline-dark btn-block\" href=\"/users/1/edit\">\n           <i class=\"fa-solid fa-user-gear\"></i>\n        </a></p>\n      </div>\n\n\n  <h1>New book</h1>\n  <form action=\"/books/1\" accept-charset=\"UTF-8\" method=\"post\">\n    <div class=\"field\">\n         <!-- f.label :title 入力する事でcode内では小文字でもサイト上では大文字になる。 -->\n      <label for=\"title\">Title</label><br>\n         <!--小さい文字入力出来るフィールドが出来る。-->\n      <input type=\"text\" name=\"title\" id=\"title\" />\n    </div>\n    <div class=\"field\">\n      <label for=\"opinion\">Opinion</label><br>\n      <textarea name=\"body\" id=\"body\">\n</textarea>\n    </div>\n    <div class=\"row ml-5\">\n      <input type=\"submit\" name=\"commit\" value=\"Creste Book\" class=\"btn btn-success\" data-disable-with=\"Creste Book\" />\n    </div>\n  </form>    \n      </div>\n       <div class=\"col-md-8 offset-md-1\">\n         <h1>Book detail</h1>\n         <table class=\"table\">\n         </tbody>\n           <tr>\n             <td>\n                 <a href=\"/users/1\">\n                   <img src=\"http://www.example.com/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--7738d9b7769be5ef85cfa1a257a5537036bb9239/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lKYW5CbFp3WTZCa1ZVT2hSeVpYTnBlbVZmZEc5ZmJHbHRhWFJiQjJscGFXaz0iLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--1562c9686354f09633a016ebcf585f3b62360468/profile_image.jpeg\" /><br>\n                   mazvzufu91\n</a>             </td>\n             <td><a href=\"/books/1\">ug6q2</a></td>\n             <td>gtn4gpl40ml0i2p64y7j</td>\n               <td><a class=\"btn btn-success\" href=\"/books/1/edit\">Edit</a></td>\n               <td><a data-confirm=\"本当に消しますか？\" class=\"btn btn-danger\" rel=\"nofollow\" data-method=\"derete\" href=\"/books/1\">Destroy</a></td>\n           </tr>\n          </tbody>\n          </table>\n       </div>\n  </div>\n</div>\n      <footer style=\"text-align: center; margin-top: 50px;\">\n    <p>CopyRight Infratop.inc</p>\n  </footer>\n  </body>\n</html>"], @buffered=true, @length=4185>, @cookie_jar=#<Rack::Test::CookieJar:0x00007f538bc36370 @default_host="www.example.com", @cookies=[#<Rack::Test::Cookie:0x00007f538babf258 @default_host="www.example.com", @raw="_bookers2_session=yGJTDtrRP6BmqcjK9nHJGB6lwYjNkG8grrMQKyT9tf%2BuXQufPDq4inIKM%2F80TRR5DyVLhmlllvlAaMNKanKjwOpspg7Y9%2F3y6%2BY%2FxdmuWgZis7zMkp%2BmLNJnXKfZ7oFgQvtDPISz2RsurlrE5xActi0vBnB%2BN9Nhoev6VwabflD9EPkmFqfT%2Fe4X5j7ui%2BtrsY6LYDAjANe%2BLaQSelpQ2%2Fc9t%2Bw1K%2BAps7acrMdi22hsg97ZH9GC%2FJuPmeK2Nbi6k39uHOukBasxeIhcmT7XyJBVDHb9TLdr8w%3D%3D--SCDrJDggHNlWg4LG--aUMuOr4JOmcDx7YH1DW%2FOw%3D%3D", @name="_bookers2_session", @value="yGJTDtrRP6BmqcjK9nHJGB6lwYjNkG8grrMQKyT9tf+uXQufPDq4inIKM/80TRR5DyVLhmlllvlAaMNKanKjwOpspg7Y9/3y6+Y/xdmuWgZis7zMkp+mLNJnXKfZ7oFgQvtDPISz2RsurlrE5xActi0vBnB+N9Nhoev6VwabflD9EPkmFqfT/e4X5j7ui+trsY6LYDAjANe+LaQSelpQ2/c9t+w1K+Aps7acrMdi22hsg97ZH9GC/JuPmeK2Nbi6k39uHOukBasxeIhcmT7XyJBVDHb9TLdr8w==--SCDrJDggHNlWg4LG--aUMuOr4JOmcDx7YH1DW/Ow==", @options={"path"=>"/", "httponly"=>nil, "samesite"=>"Lax", "domain"=>"www.example.com"}, @exact_domain_match=true>]>>>[0m
      [31m[0m
      [31m      send(method, new_uri.to_s, attributes, env.merge(options[:headers] || {}))[0m
      [31m      ^^^^[0m
      [31m  Did you mean?  delete[0m
      [36m# ./spec/system/02_after_login_spec.rb:201:in `block (4 levels) in <main>'[0m

  15) [STEP2] ユーザログイン後のテスト 自分の投稿詳細画面のテスト 削除リンクのテスト 正しく削除される
      [31mFailure/Error: click_link 'Destroy'[0m
      [31m[0m
      [31mNoMethodError:[0m
      [31m  undefined method `derete' for #<Capybara::RackTest::Browser:0x00007f538ba26648 @driver=#<Capybara::RackTest::Driver:0x00007f538b97bb30 @app=#<Rack::Builder:0x00007f5394b93220 @freeze_app=false, @warmup=nil, @run=nil, @map={"/"=>#<Proc:0x00007f5394b93130 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/actionpack-6.1.7.10/lib/action_dispatch/system_test_case.rb:128>}, @use=[]>, @options={:respect_data_method=>true, :follow_redirects=>true, :redirect_limit=>5}, @session=#<Capybara::Session>, @browser=nil>, @current_fragment=nil, @new_visit_request=false, @dom=nil, @current_scheme="http", @current_host="www.example.com", @current_port=80, @_rack_test_sessions={:default=>#<Rack::Test::Session:0x00007f538ba2bad0 @env={}, @app=#<Rack::Builder:0x00007f5394b93220 @freeze_app=false, @warmup=nil, @run=nil, @map={"/"=>#<Proc:0x00007f5394b93130 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/actionpack-6.1.7.10/lib/action_dispatch/system_test_case.rb:128>}, @use=[]>, @after_request=[], @default_host="www.example.com", @last_request=#<Rack::Request:0x00007f538b8a8be0 @params=nil, @env={"rack.version"=>[1, 3], "rack.input"=>#<StringIO:0x00007f538b8a8eb0>, "rack.errors"=>#<StringIO:0x00007f538b8a8f28>, "rack.multithread"=>true, "rack.multiprocess"=>true, "rack.run_once"=>false, "REQUEST_METHOD"=>"GET", "SERVER_NAME"=>"www.example.com", "SERVER_PORT"=>"80", "QUERY_STRING"=>"", "PATH_INFO"=>"/books/1", "rack.url_scheme"=>"http", "HTTPS"=>"off", "SCRIPT_NAME"=>"", "CONTENT_LENGTH"=>"0", "rack.test"=>true, "REMOTE_ADDR"=>"127.0.0.1", "SERVER_PROTOCOL"=>"HTTP/1.0", "HTTP_VERSION"=>"HTTP/1.0", "HTTP_HOST"=>"www.example.com", "HTTP_COOKIE"=>"_bookers2_session=0uZkvsjg1p2TBtejDWlZraVYnDrj1y7P0oV6EeeyOB6HCHr8jxSWm%2FcSwxlVpbtaJtZ1QNpSRhKvwoUl3RdIiTbkQA4JDeG29jSKlLuP1rL0L86ggZ9o9yAmC7FDIUZiaX%2FovyQnz0V%2FrFtwETR5%2FRIvWPcevTT5n02%2BaDRdipqrmfwgGSR1QKfiHf3H%2FLuOgckOVLMv4TBjYt702f3ipSqE465sLjpXCHrMataTajnRt1agCfmIrsNyfUn%2B52h0z%2BeGonaQODjDuunCOaggA545UGMiMLJyCA%3D%3D--UXQh0hq21ldREHGy--qZrtsp%2F4fHe%2BdpKwjfqSzw%3D%3D", "action_dispatch.parameter_filter"=>[:passw, :secret, :token, :_key, :crypt, :salt, :certificate, :otp, :ssn], "action_dispatch.redirect_filter"=>[], "action_dispatch.secret_key_base"=>"56780f8b2dd132be7b28464f1dade3e1e8bde229c07c1130d07eb6ae052df719b610aa3cfc71f373c27042c9c085aad6a950a0affa8072900179528d37d6cd20", "action_dispatch.show_exceptions"=>false, "action_dispatch.show_detailed_exceptions"=>true, "action_dispatch.logger"=>#<ActiveSupport::Logger:0x00007f539a710a58 @level=0, @progname=nil, @default_formatter=#<Logger::Formatter:0x00007f539a713500 @datetime_format=nil>, @formatter=#<ActiveSupport::Logger::SimpleFormatter:0x00007f539a710a30 @datetime_format=nil, @thread_key="activesupport_tagged_logging_tags:16040">, @logdev=#<Logger::LogDevice:0x00007f539a7132f8 @shift_period_suffix="%Y%m%d", @shift_size=1048576, @shift_age=0, @filename="/home/ec2-user/environment/bookers2/log/test.log", @dev=#<File:/home/ec2-user/environment/bookers2/log/test.log>, @binmode=false, @reraise_write_errors=[], @skip_header=false, @mon_data=#<Monitor:0x00007f539a713280>, @mon_data_owner_object_id=5720>, @level_override={}>, "action_dispatch.backtrace_cleaner"=>#<Rails::BacktraceCleaner:0x00007f5394b8ba20 @silencers=[#<Proc:0x00007f5394b8b570 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/activesupport-6.1.7.10/lib/active_support/backtrace_cleaner.rb:100>, #<Proc:0x00007f5394b8b4f8 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/activesupport-6.1.7.10/lib/active_support/backtrace_cleaner.rb:104>, #<Proc:0x00007f5394b8b390 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/railties-6.1.7.10/lib/rails/backtrace_cleaner.rb:24>], @filters=[#<Proc:0x00007f5394b8b610 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/activesupport-6.1.7.10/lib/active_support/backtrace_cleaner.rb:96>, #<Proc:0x00007f5394b8b3e0 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/railties-6.1.7.10/lib/rails/backtrace_cleaner.rb:14>, #<Proc:0x00007f5394b8b3b8 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/railties-6.1.7.10/lib/rails/backtrace_cleaner.rb:17>], @root="/home/ec2-user/environment/bookers2/">, "action_dispatch.key_generator"=>#<ActiveSupport::CachingKeyGenerator:0x00007f53926fef40 @key_generator=#<ActiveSupport::KeyGenerator:0x00007f53926fef68 @secret="56780f8b2dd132be7b28464f1dade3e1e8bde229c07c1130d07eb6ae052df719b610aa3cfc71f373c27042c9c085aad6a950a0affa8072900179528d37d6cd20", @iterations=1000>, @cache_keys=#<Concurrent::Map:0x00007f53926feef0 entries=6 default_proc=nil>>, "action_dispatch.http_auth_salt"=>"http authentication", "action_dispatch.signed_cookie_salt"=>"signed cookie", "action_dispatch.encrypted_cookie_salt"=>"encrypted cookie", "action_dispatch.encrypted_signed_cookie_salt"=>"signed encrypted cookie", "action_dispatch.authenticated_encrypted_cookie_salt"=>"authenticated encrypted cookie", "action_dispatch.use_authenticated_cookie_encryption"=>true, "action_dispatch.encrypted_cookie_cipher"=>nil, "action_dispatch.signed_cookie_digest"=>nil, "action_dispatch.cookies_serializer"=>:json, "action_dispatch.cookies_digest"=>nil, "action_dispatch.cookies_rotations"=>#<ActiveSupport::Messages::RotationConfiguration:0x00007f539a72aa48 @signed=[], @encrypted=[]>, "action_dispatch.cookies_same_site_protection"=>#<Proc:0x00007f5398521a28 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/railties-6.1.7.10/lib/rails/application.rb:636>, "action_dispatch.use_cookies_with_metadata"=>true, "action_dispatch.content_security_policy"=>nil, "action_dispatch.content_security_policy_report_only"=>false, "action_dispatch.content_security_policy_nonce_generator"=>nil, "action_dispatch.content_security_policy_nonce_directives"=>nil, "action_dispatch.permissions_policy"=>nil, "action_dispatch.routes"=>#<ActionDispatch::Routing::RouteSet:0x00007f53984228e8>, "ROUTES_12140_SCRIPT_NAME"=>"", "ORIGINAL_FULLPATH"=>"/books/1", "ORIGINAL_SCRIPT_NAME"=>"", "action_dispatch.request_id"=>"669feb1f-5872-4528-b6c7-bc5c9f84cecb", "action_dispatch.remote_ip"=>#<ActionDispatch::RemoteIp::GetIp:0x00007f538b8aeba8 @req=#<ActionDispatch::Request GET "http://www.example.com/books/1" for 127.0.0.1>, @check_ip=true, @proxies=[#<IPAddr: IPv4:127.0.0.0/255.0.0.0>, #<IPAddr: IPv6:0000:0000:0000:0000:0000:0000:0000:0001/ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff>, #<IPAddr: IPv6:fc00:0000:0000:0000:0000:0000:0000:0000/fe00:0000:0000:0000:0000:0000:0000:0000>, #<IPAddr: IPv4:10.0.0.0/255.0.0.0>, #<IPAddr: IPv4:172.16.0.0/255.240.0.0>, #<IPAddr: IPv4:192.168.0.0/255.255.0.0>], @ip="127.0.0.1">, "rack.session"=>#<ActionDispatch::Request::Session:0x00007f538b8b6d30 @by=#<ActionDispatch::Session::CookieStore:0x00007f53983a0de8 @app=#<ActionDispatch::ContentSecurityPolicy::Middleware:0x00007f53983a0ed8 @app=#<ActionDispatch::PermissionsPolicy::Middleware:0x00007f53983a0f78 @app=#<Rack::Head:0x00007f53983a1018 @app=#<Rack::ConditionalGet:0x00007f53983a10b8 @app=#<Rack::ETag:0x00007f53983a11a8 @app=#<Rack::TempfileReaper:0x00007f53983a1248 @app=#<Warden::Manager:0x00007f53983a1518 @config={:default_scope=>:user, :scope_defaults=>{}, :default_strategies=>{:user=>[:rememberable, :database_authenticatable]}, :intercept_401=>false, :failure_app=>#<Devise::Delegator:0x00007f53920707c8>}, @app=#<ActionDispatch::Routing::RouteSet:0x00007f53984228e8>>>, @cache_control="max-age=0, private, must-revalidate", @no_cache_control="no-cache">>>>>, @default_options={:path=>"/", :domain=>nil, :expire_after=>nil, :secure=>false, :httponly=>true, :defer=>false, :renew=>false}, @key="_bookers2_session", @cookie_only=true, @same_site=nil>, @req=#<ActionDispatch::Request GET "http://www.example.com/books/1" for 127.0.0.1>, @delegate={"session_id"=>"48ea39e0e258537a6b074cb4e3795885", "warden.user.user.key"=>[[1], "$2a$04$nMy2zPt.LVjsRnnp8tjYyu"]}, @loaded=true, @exists=true>, "rack.session.options"=>#<ActionDispatch::Request::Session::Options:0x00007f538b8b6ce0 @by=#<ActionDispatch::Session::CookieStore:0x00007f53983a0de8 @app=#<ActionDispatch::ContentSecurityPolicy::Middleware:0x00007f53983a0ed8 @app=#<ActionDispatch::PermissionsPolicy::Middleware:0x00007f53983a0f78 @app=#<Rack::Head:0x00007f53983a1018 @app=#<Rack::ConditionalGet:0x00007f53983a10b8 @app=#<Rack::ETag:0x00007f53983a11a8 @app=#<Rack::TempfileReaper:0x00007f53983a1248 @app=#<Warden::Manager:0x00007f53983a1518 @config={:default_scope=>:user, :scope_defaults=>{}, :default_strategies=>{:user=>[:rememberable, :database_authenticatable]}, :intercept_401=>false, :failure_app=>#<Devise::Delegator:0x00007f53920707c8>}, @app=#<ActionDispatch::Routing::RouteSet:0x00007f53984228e8>>>, @cache_control="max-age=0, private, must-revalidate", @no_cache_control="no-cache">>>>>, @default_options={:path=>"/", :domain=>nil, :expire_after=>nil, :secure=>false, :httponly=>true, :defer=>false, :renew=>false}, @key="_bookers2_session", @cookie_only=true, @same_site=nil>, @delegate={:path=>"/", :domain=>nil, :expire_after=>nil, :secure=>false, :httponly=>true, :defer=>false, :renew=>false, :id=>"48ea39e0e258537a6b074cb4e3795885"}>, "rack.tempfiles"=>[], "warden"=>Warden::Proxy:80620 @config={:default_scope=>:user, :scope_defaults=>{}, :default_strategies=>{:user=>[:rememberable, :database_authenticatable]}, :intercept_401=>false, :failure_app=>#<Devise::Delegator:0x00007f53920707c8>}, "action_dispatch.request.path_parameters"=>{:controller=>"books", :action=>"show", :id=>"1"}, "action_controller.instance"=>#<BooksController:0x00000000027600>, "action_dispatch.request.content_type"=>nil, "action_dispatch.request.request_parameters"=>{}, "rack.request.query_string"=>"", "rack.request.query_hash"=>{}, "action_dispatch.request.query_parameters"=>{}, "action_dispatch.request.parameters"=>{"controller"=>"books", "action"=>"show", "id"=>"1"}, "action_dispatch.request.formats"=>[#<Mime::Type:0x00007f5394b247f8 @synonyms=["application/xhtml+xml"], @symbol=:html, @string="text/html", @hash=585732271851187284>], "rack.request.cookie_hash"=>{"_bookers2_session"=>"0uZkvsjg1p2TBtejDWlZraVYnDrj1y7P0oV6EeeyOB6HCHr8jxSWm/cSwxlVpbtaJtZ1QNpSRhKvwoUl3RdIiTbkQA4JDeG29jSKlLuP1rL0L86ggZ9o9yAmC7FDIUZiaX/ovyQnz0V/rFtwETR5/RIvWPcevTT5n02+aDRdipqrmfwgGSR1QKfiHf3H/LuOgckOVLMv4TBjYt702f3ipSqE465sLjpXCHrMataTajnRt1agCfmIrsNyfUn+52h0z+eGonaQODjDuunCOaggA545UGMiMLJyCA==--UXQh0hq21ldREHGy--qZrtsp/4fHe+dpKwjfqSzw=="}, "rack.request.cookie_string"=>"_bookers2_session=0uZkvsjg1p2TBtejDWlZraVYnDrj1y7P0oV6EeeyOB6HCHr8jxSWm%2FcSwxlVpbtaJtZ1QNpSRhKvwoUl3RdIiTbkQA4JDeG29jSKlLuP1rL0L86ggZ9o9yAmC7FDIUZiaX%2FovyQnz0V%2FrFtwETR5%2FRIvWPcevTT5n02%2BaDRdipqrmfwgGSR1QKfiHf3H%2FLuOgckOVLMv4TBjYt702f3ipSqE465sLjpXCHrMataTajnRt1agCfmIrsNyfUn%2B52h0z%2BeGonaQODjDuunCOaggA545UGMiMLJyCA%3D%3D--UXQh0hq21ldREHGy--qZrtsp%2F4fHe%2BdpKwjfqSzw%3D%3D", "action_dispatch.cookies"=>#<ActionDispatch::Cookies::CookieJar:0x00007f538b8b8a90 @set_cookies={"_bookers2_session"=>{:value=>"EuzEQM4xwcHw4070gwvli2cCJqYWx5xKzGJUtui35qvxpsXf5TMtNsxXuwSIVWyCO3umXT5CEBSRY9iaUZgAFuiXyUr3nLAqAOeDFY6Nrvbk4km3kxb0Y/NSWWEoEAlpMiPLmkq/Z8EWbx6PElp3qUyjxBjQOiBZgDjTefyLOYKBMrxUPjGMHcXycYLPs+L8gibkiv6GELuVsK/EGhE3d+f5rDfJAQg/Qxv0zpQr5WpJezwp278LSZUuGsBS/Z4mdDsJ82sjJPF+cq0F3BE1jssgX5soByLI9Q==--za4Cwnl0J+rzG6w4--9czp1z8wvsMAHnoQiinVLw==", :same_site=>:lax, :path=>"/", :domain=>nil, :expire_after=>nil, :secure=>false, :httponly=>true, :defer=>false, :renew=>false, :id=>"48ea39e0e258537a6b074cb4e3795885"}}, @delete_cookies={}, @request=#<ActionDispatch::Request GET "http://www.example.com/books/1" for 127.0.0.1>, @cookies={"_bookers2_session"=>"EuzEQM4xwcHw4070gwvli2cCJqYWx5xKzGJUtui35qvxpsXf5TMtNsxXuwSIVWyCO3umXT5CEBSRY9iaUZgAFuiXyUr3nLAqAOeDFY6Nrvbk4km3kxb0Y/NSWWEoEAlpMiPLmkq/Z8EWbx6PElp3qUyjxBjQOiBZgDjTefyLOYKBMrxUPjGMHcXycYLPs+L8gibkiv6GELuVsK/EGhE3d+f5rDfJAQg/Qxv0zpQr5WpJezwp278LSZUuGsBS/Z4mdDsJ82sjJPF+cq0F3BE1jssgX5soByLI9Q==--za4Cwnl0J+rzG6w4--9czp1z8wvsMAHnoQiinVLw=="}, @committed=false, @encrypted=#<ActionDispatch::Cookies::EncryptedKeyRotatingCookieJar:0x00007f538b8b8978 @parent_jar=#<ActionDispatch::Cookies::CookieJar:0x00007f538b8b8a90 ...>, @encryptor=#<ActiveSupport::MessageEncryptor:0x00007f538b8b86a8 @secret="\xF3\xEE63({\xB7@\xF7&6\xEAD\xF1aA\xA5G\\f\xE87\xDE\v|\xC4\xC0\xB7\xD8\x90>\x02", @sign_secret=nil, @cipher="aes-256-gcm", @aead_mode=true, @verifier=ActiveSupport::MessageEncryptor::NullVerifier, @serializer=ActiveSupport::MessageEncryptor::NullSerializer, @options={:cipher=>"aes-256-gcm", :serializer=>ActiveSupport::MessageEncryptor::NullSerializer}, @rotations=[#<ActiveSupport::MessageEncryptor:0x00007f538b8b80b8 @secret="\xBD\xA6\xA8t\xD2\x97\xAF\xAB/\xAAs\xE0\xED\x9B?pQ\xB6\x94\xD3\xC2k#\x99?d\x89f\x95\xDC\xEB\x98", @sign_secret=":\x12A\x94}.4\x04\\\xC1\xE7\xC6\xB6\x87D\x12\vQ\x1E\x1F\r\x86M\xCE\xF0'@S\xB1b4\x9A\xD6\xBC\x8C\xAE\x8Ea[c\x9D\xC10\x1A=y\x05m\\\xD7\x06\r@:\xD3\xC3\xB4wi\x98\x88~1\xF2", @cipher="aes-256-cbc", @aead_mode=false, @verifier=#<ActiveSupport::MessageVerifier:0x00007f538b8bff48 @secret=":\x12A\x94}.4\x04\\\xC1\xE7\xC6\xB6\x87D\x12\vQ\x1E\x1F\r\x86M\xCE\xF0'@S\xB1b4\x9A\xD6\xBC\x8C\xAE\x8Ea[c\x9D\xC10\x1A=y\x05m\\\xD7\x06\r@:\xD3\xC3\xB4wi\x98\x88~1\xF2", @digest="SHA1", @serializer=ActiveSupport::MessageEncryptor::NullSerializer, @options={:digest=>"SHA1", :serializer=>ActiveSupport::MessageEncryptor::NullSerializer}, @rotations=[], @on_rotation=nil>, @serializer=ActiveSupport::MessageEncryptor::NullSerializer, @options={:cipher=>"aes-256-cbc", :serializer=>ActiveSupport::MessageEncryptor::NullSerializer, :digest=>"SHA1"}, @rotations=[], @on_rotation=nil, @digest="SHA1">], @on_rotation=nil>>, @signed_or_encrypted=#<ActionDispatch::Cookies::EncryptedKeyRotatingCookieJar:0x00007f538b8b8978 @parent_jar=#<ActionDispatch::Cookies::CookieJar:0x00007f538b8b8a90 ...>, @encryptor=#<ActiveSupport::MessageEncryptor:0x00007f538b8b86a8 @secret="\xF3\xEE63({\xB7@\xF7&6\xEAD\xF1aA\xA5G\\f\xE87\xDE\v|\xC4\xC0\xB7\xD8\x90>\x02", @sign_secret=nil, @cipher="aes-256-gcm", @aead_mode=true, @verifier=ActiveSupport::MessageEncryptor::NullVerifier, @serializer=ActiveSupport::MessageEncryptor::NullSerializer, @options={:cipher=>"aes-256-gcm", :serializer=>ActiveSupport::MessageEncryptor::NullSerializer}, @rotations=[#<ActiveSupport::MessageEncryptor:0x00007f538b8b80b8 @secret="\xBD\xA6\xA8t\xD2\x97\xAF\xAB/\xAAs\xE0\xED\x9B?pQ\xB6\x94\xD3\xC2k#\x99?d\x89f\x95\xDC\xEB\x98", @sign_secret=":\x12A\x94}.4\x04\\\xC1\xE7\xC6\xB6\x87D\x12\vQ\x1E\x1F\r\x86M\xCE\xF0'@S\xB1b4\x9A\xD6\xBC\x8C\xAE\x8Ea[c\x9D\xC10\x1A=y\x05m\\\xD7\x06\r@:\xD3\xC3\xB4wi\x98\x88~1\xF2", @cipher="aes-256-cbc", @aead_mode=false, @verifier=#<ActiveSupport::MessageVerifier:0x00007f538b8bff48 @secret=":\x12A\x94}.4\x04\\\xC1\xE7\xC6\xB6\x87D\x12\vQ\x1E\x1F\r\x86M\xCE\xF0'@S\xB1b4\x9A\xD6\xBC\x8C\xAE\x8Ea[c\x9D\xC10\x1A=y\x05m\\\xD7\x06\r@:\xD3\xC3\xB4wi\x98\x88~1\xF2", @digest="SHA1", @serializer=ActiveSupport::MessageEncryptor::NullSerializer, @options={:digest=>"SHA1", :serializer=>ActiveSupport::MessageEncryptor::NullSerializer}, @rotations=[], @on_rotation=nil>, @serializer=ActiveSupport::MessageEncryptor::NullSerializer, @options={:cipher=>"aes-256-cbc", :serializer=>ActiveSupport::MessageEncryptor::NullSerializer, :digest=>"SHA1"}, @rotations=[], @on_rotation=nil, @digest="SHA1">], @on_rotation=nil>>>, "action_dispatch.request.unsigned_session_cookie"=>{"session_id"=>"48ea39e0e258537a6b074cb4e3795885", "warden.user.user.key"=>[[1], "$2a$04$nMy2zPt.LVjsRnnp8tjYyu"]}, "action_dispatch.request.flash_hash"=>#<ActionDispatch::Flash::FlashHash:0x00007f538b897340 @discard=#<Set: {}>, @flashes={}, @now=nil>}>, @last_response=#<Rack::MockResponse:0x00007f538b8613d0 @original_headers={"X-Frame-Options"=>"SAMEORIGIN", "X-XSS-Protection"=>"1; mode=block", "X-Content-Type-Options"=>"nosniff", "X-Download-Options"=>"noopen", "X-Permitted-Cross-Domain-Policies"=>"none", "Referrer-Policy"=>"strict-origin-when-cross-origin", "Link"=>"</packs-test/js/application-0f8cf5d6e063f6e1d671.js>; rel=preload; as=script; nopush", "Content-Type"=>"text/html; charset=utf-8", "ETag"=>"W/\"52eea3e426ba6cf4f7001f661b3b2f23\"", "Cache-Control"=>"max-age=0, private, must-revalidate", "Set-Cookie"=>"_bookers2_session=EuzEQM4xwcHw4070gwvli2cCJqYWx5xKzGJUtui35qvxpsXf5TMtNsxXuwSIVWyCO3umXT5CEBSRY9iaUZgAFuiXyUr3nLAqAOeDFY6Nrvbk4km3kxb0Y%2FNSWWEoEAlpMiPLmkq%2FZ8EWbx6PElp3qUyjxBjQOiBZgDjTefyLOYKBMrxUPjGMHcXycYLPs%2BL8gibkiv6GELuVsK%2FEGhE3d%2Bf5rDfJAQg%2FQxv0zpQr5WpJezwp278LSZUuGsBS%2FZ4mdDsJ82sjJPF%2Bcq0F3BE1jssgX5soByLI9Q%3D%3D--za4Cwnl0J%2BrzG6w4--9czp1z8wvsMAHnoQiinVLw%3D%3D; path=/; HttpOnly; SameSite=Lax", "X-Request-Id"=>"669feb1f-5872-4528-b6c7-bc5c9f84cecb", "X-Runtime"=>"0.019862", "Content-Length"=>"4185"}, @errors="", @cookies={"_bookers2_session"=>#<CGI::Cookie: "_bookers2_session=EuzEQM4xwcHw4070gwvli2cCJqYWx5xKzGJUtui35qvxpsXf5TMtNsxXuwSIVWyCO3umXT5CEBSRY9iaUZgAFuiXyUr3nLAqAOeDFY6Nrvbk4km3kxb0Y%252FNSWWEoEAlpMiPLmkq%252FZ8EWbx6PElp3qUyjxBjQOiBZgDjTefyLOYKBMrxUPjGMHcXycYLPs%252BL8gibkiv6GELuVsK%252FEGhE3d%252Bf5rDfJAQg%252FQxv0zpQr5WpJezwp278LSZUuGsBS%252FZ4mdDsJ82sjJPF%252Bcq0F3BE1jssgX5soByLI9Q%253D%253D--za4Cwnl0J%252BrzG6w4--9czp1z8wvsMAHnoQiinVLw%253D%253D; path=/">}, @status=200, @headers={"X-Frame-Options"=>"SAMEORIGIN", "X-XSS-Protection"=>"1; mode=block", "X-Content-Type-Options"=>"nosniff", "X-Download-Options"=>"noopen", "X-Permitted-Cross-Domain-Policies"=>"none", "Referrer-Policy"=>"strict-origin-when-cross-origin", "Link"=>"</packs-test/js/application-0f8cf5d6e063f6e1d671.js>; rel=preload; as=script; nopush", "Content-Type"=>"text/html; charset=utf-8", "ETag"=>"W/\"52eea3e426ba6cf4f7001f661b3b2f23\"", "Cache-Control"=>"max-age=0, private, must-revalidate", "Set-Cookie"=>"_bookers2_session=EuzEQM4xwcHw4070gwvli2cCJqYWx5xKzGJUtui35qvxpsXf5TMtNsxXuwSIVWyCO3umXT5CEBSRY9iaUZgAFuiXyUr3nLAqAOeDFY6Nrvbk4km3kxb0Y%2FNSWWEoEAlpMiPLmkq%2FZ8EWbx6PElp3qUyjxBjQOiBZgDjTefyLOYKBMrxUPjGMHcXycYLPs%2BL8gibkiv6GELuVsK%2FEGhE3d%2Bf5rDfJAQg%2FQxv0zpQr5WpJezwp278LSZUuGsBS%2FZ4mdDsJ82sjJPF%2Bcq0F3BE1jssgX5soByLI9Q%3D%3D--za4Cwnl0J%2BrzG6w4--9czp1z8wvsMAHnoQiinVLw%3D%3D; path=/; HttpOnly; SameSite=Lax", "X-Request-Id"=>"669feb1f-5872-4528-b6c7-bc5c9f84cecb", "X-Runtime"=>"0.019862", "Content-Length"=>"4185"}, @writer=#<Method: Rack::MockResponse(Rack::Response::Helpers)#append(chunk) /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/rack-2.2.17/lib/rack/response.rb:287>, @block=nil, @body=["<!DOCTYPE html>\n<html>\n  <head>\n     <title>Bookers2</title>\n     <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n     \n     \n     <meta name=\"viewport\" content=\"width=device-width,initial-scale=1 maximum-scale=1\">\n     <script src=\"https://kit.fontawesome.com/4c018c7cce.js\" crossorigin=\"anonymous\"></script>\n     \n     <script src=\"/packs-test/js/application-0f8cf5d6e063f6e1d671.js\" data-turbolinks-track=\"reload\"></script>\n  </head>\n    \n  <body>\n   <div class=\"container-fluid bg-secondary\">\n     <div class=\"header row px-5 py-4\"\n       <div class=\"col-3 d-flex justify-content-strat\">\n        <a style=\"color: white;\" href=\"/\">Bookers</a>\n       </div>\n\n       <div class=\"col-6 offset-3 d-flex justify-content-end\">\n         <div class=\"d-flex\">\n\n            <a class=\"text-white mr-3\" href=\"/users/1\">\n              <i class=\"fa-solid fa-house\"></i>Home\n</a>            \n            <a class=\"text-white mr-3\" href=\"/users\">\n              <i class=\"fa-solid fa-users\"></i>Users\n</a>            <a class=\"text-white mr-3\" href=\"/books\">\n              <i class=\"fa-solid fa-book-open\"></i>Books\n</a>            <a class=\"text-white mr-3\" rel=\"nofollow\" data-method=\"delete\" href=\"/users/sign_out\">\n              <i class=\"fa-solid fa-right-from-bracket\"></i>Log out\n</a>       </div>\n     </div>\n   </div>\n   </div>\n    <h1 class=\"text-center my-4\">Book detail</h1>\n\n\n<div class=\"container\" >\n  <div class=\"row\">\n      <div class=\"col-md-3\">\n        <h1>User info</h1>\n      <img src=\"http://www.example.com/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--7738d9b7769be5ef85cfa1a257a5537036bb9239/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lKYW5CbFp3WTZCa1ZVT2hSeVpYTnBlbVZmZEc5ZmJHbHRhWFJiQjJscGFXaz0iLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--1562c9686354f09633a016ebcf585f3b62360468/profile_image.jpeg\" />\n      <hr>\n        <p>name: asc30u21k8</p>\n      <hr>\n        <p>introduction: pv96zkyn5aufuw3x297n</p>\n\n      <div class=\"col mt-5\">\n        <p><a class=\"btn btn-outline-dark btn-block\" href=\"/users/1/edit\">\n           <i class=\"fa-solid fa-user-gear\"></i>\n        </a></p>\n      </div>\n\n\n  <h1>New book</h1>\n  <form action=\"/books/1\" accept-charset=\"UTF-8\" method=\"post\">\n    <div class=\"field\">\n         <!-- f.label :title 入力する事でcode内では小文字でもサイト上では大文字になる。 -->\n      <label for=\"title\">Title</label><br>\n         <!--小さい文字入力出来るフィールドが出来る。-->\n      <input type=\"text\" name=\"title\" id=\"title\" />\n    </div>\n    <div class=\"field\">\n      <label for=\"opinion\">Opinion</label><br>\n      <textarea name=\"body\" id=\"body\">\n</textarea>\n    </div>\n    <div class=\"row ml-5\">\n      <input type=\"submit\" name=\"commit\" value=\"Creste Book\" class=\"btn btn-success\" data-disable-with=\"Creste Book\" />\n    </div>\n  </form>    \n      </div>\n       <div class=\"col-md-8 offset-md-1\">\n         <h1>Book detail</h1>\n         <table class=\"table\">\n         </tbody>\n           <tr>\n             <td>\n                 <a href=\"/users/1\">\n                   <img src=\"http://www.example.com/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--7738d9b7769be5ef85cfa1a257a5537036bb9239/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lKYW5CbFp3WTZCa1ZVT2hSeVpYTnBlbVZmZEc5ZmJHbHRhWFJiQjJscGFXaz0iLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--1562c9686354f09633a016ebcf585f3b62360468/profile_image.jpeg\" /><br>\n                   asc30u21k8\n</a>             </td>\n             <td><a href=\"/books/1\">2if8z</a></td>\n             <td>olo1g2j6d97vqbrffdxo</td>\n               <td><a class=\"btn btn-success\" href=\"/books/1/edit\">Edit</a></td>\n               <td><a data-confirm=\"本当に消しますか？\" class=\"btn btn-danger\" rel=\"nofollow\" data-method=\"derete\" href=\"/books/1\">Destroy</a></td>\n           </tr>\n          </tbody>\n          </table>\n       </div>\n  </div>\n</div>\n      <footer style=\"text-align: center; margin-top: 50px;\">\n    <p>CopyRight Infratop.inc</p>\n  </footer>\n  </body>\n</html>"], @buffered=true, @length=4185>, @cookie_jar=#<Rack::Test::CookieJar:0x00007f538ba2ba08 @default_host="www.example.com", @cookies=[#<Rack::Test::Cookie:0x00007f538b860818 @default_host="www.example.com", @raw="_bookers2_session=EuzEQM4xwcHw4070gwvli2cCJqYWx5xKzGJUtui35qvxpsXf5TMtNsxXuwSIVWyCO3umXT5CEBSRY9iaUZgAFuiXyUr3nLAqAOeDFY6Nrvbk4km3kxb0Y%2FNSWWEoEAlpMiPLmkq%2FZ8EWbx6PElp3qUyjxBjQOiBZgDjTefyLOYKBMrxUPjGMHcXycYLPs%2BL8gibkiv6GELuVsK%2FEGhE3d%2Bf5rDfJAQg%2FQxv0zpQr5WpJezwp278LSZUuGsBS%2FZ4mdDsJ82sjJPF%2Bcq0F3BE1jssgX5soByLI9Q%3D%3D--za4Cwnl0J%2BrzG6w4--9czp1z8wvsMAHnoQiinVLw%3D%3D", @name="_bookers2_session", @value="EuzEQM4xwcHw4070gwvli2cCJqYWx5xKzGJUtui35qvxpsXf5TMtNsxXuwSIVWyCO3umXT5CEBSRY9iaUZgAFuiXyUr3nLAqAOeDFY6Nrvbk4km3kxb0Y/NSWWEoEAlpMiPLmkq/Z8EWbx6PElp3qUyjxBjQOiBZgDjTefyLOYKBMrxUPjGMHcXycYLPs+L8gibkiv6GELuVsK/EGhE3d+f5rDfJAQg/Qxv0zpQr5WpJezwp278LSZUuGsBS/Z4mdDsJ82sjJPF+cq0F3BE1jssgX5soByLI9Q==--za4Cwnl0J+rzG6w4--9czp1z8wvsMAHnoQiinVLw==", @options={"path"=>"/", "httponly"=>nil, "samesite"=>"Lax", "domain"=>"www.example.com"}, @exact_domain_match=true>]>>}, @_rack_test_current_session=#<Rack::Test::Session:0x00007f538ba2bad0 @env={}, @app=#<Rack::Builder:0x00007f5394b93220 @freeze_app=false, @warmup=nil, @run=nil, @map={"/"=>#<Proc:0x00007f5394b93130 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/actionpack-6.1.7.10/lib/action_dispatch/system_test_case.rb:128>}, @use=[]>, @after_request=[], @default_host="www.example.com", @last_request=#<Rack::Request:0x00007f538b8a8be0 @params=nil, @env={"rack.version"=>[1, 3], "rack.input"=>#<StringIO:0x00007f538b8a8eb0>, "rack.errors"=>#<StringIO:0x00007f538b8a8f28>, "rack.multithread"=>true, "rack.multiprocess"=>true, "rack.run_once"=>false, "REQUEST_METHOD"=>"GET", "SERVER_NAME"=>"www.example.com", "SERVER_PORT"=>"80", "QUERY_STRING"=>"", "PATH_INFO"=>"/books/1", "rack.url_scheme"=>"http", "HTTPS"=>"off", "SCRIPT_NAME"=>"", "CONTENT_LENGTH"=>"0", "rack.test"=>true, "REMOTE_ADDR"=>"127.0.0.1", "SERVER_PROTOCOL"=>"HTTP/1.0", "HTTP_VERSION"=>"HTTP/1.0", "HTTP_HOST"=>"www.example.com", "HTTP_COOKIE"=>"_bookers2_session=0uZkvsjg1p2TBtejDWlZraVYnDrj1y7P0oV6EeeyOB6HCHr8jxSWm%2FcSwxlVpbtaJtZ1QNpSRhKvwoUl3RdIiTbkQA4JDeG29jSKlLuP1rL0L86ggZ9o9yAmC7FDIUZiaX%2FovyQnz0V%2FrFtwETR5%2FRIvWPcevTT5n02%2BaDRdipqrmfwgGSR1QKfiHf3H%2FLuOgckOVLMv4TBjYt702f3ipSqE465sLjpXCHrMataTajnRt1agCfmIrsNyfUn%2B52h0z%2BeGonaQODjDuunCOaggA545UGMiMLJyCA%3D%3D--UXQh0hq21ldREHGy--qZrtsp%2F4fHe%2BdpKwjfqSzw%3D%3D", "action_dispatch.parameter_filter"=>[:passw, :secret, :token, :_key, :crypt, :salt, :certificate, :otp, :ssn], "action_dispatch.redirect_filter"=>[], "action_dispatch.secret_key_base"=>"56780f8b2dd132be7b28464f1dade3e1e8bde229c07c1130d07eb6ae052df719b610aa3cfc71f373c27042c9c085aad6a950a0affa8072900179528d37d6cd20", "action_dispatch.show_exceptions"=>false, "action_dispatch.show_detailed_exceptions"=>true, "action_dispatch.logger"=>#<ActiveSupport::Logger:0x00007f539a710a58 @level=0, @progname=nil, @default_formatter=#<Logger::Formatter:0x00007f539a713500 @datetime_format=nil>, @formatter=#<ActiveSupport::Logger::SimpleFormatter:0x00007f539a710a30 @datetime_format=nil, @thread_key="activesupport_tagged_logging_tags:16040">, @logdev=#<Logger::LogDevice:0x00007f539a7132f8 @shift_period_suffix="%Y%m%d", @shift_size=1048576, @shift_age=0, @filename="/home/ec2-user/environment/bookers2/log/test.log", @dev=#<File:/home/ec2-user/environment/bookers2/log/test.log>, @binmode=false, @reraise_write_errors=[], @skip_header=false, @mon_data=#<Monitor:0x00007f539a713280>, @mon_data_owner_object_id=5720>, @level_override={}>, "action_dispatch.backtrace_cleaner"=>#<Rails::BacktraceCleaner:0x00007f5394b8ba20 @silencers=[#<Proc:0x00007f5394b8b570 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/activesupport-6.1.7.10/lib/active_support/backtrace_cleaner.rb:100>, #<Proc:0x00007f5394b8b4f8 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/activesupport-6.1.7.10/lib/active_support/backtrace_cleaner.rb:104>, #<Proc:0x00007f5394b8b390 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/railties-6.1.7.10/lib/rails/backtrace_cleaner.rb:24>], @filters=[#<Proc:0x00007f5394b8b610 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/activesupport-6.1.7.10/lib/active_support/backtrace_cleaner.rb:96>, #<Proc:0x00007f5394b8b3e0 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/railties-6.1.7.10/lib/rails/backtrace_cleaner.rb:14>, #<Proc:0x00007f5394b8b3b8 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/railties-6.1.7.10/lib/rails/backtrace_cleaner.rb:17>], @root="/home/ec2-user/environment/bookers2/">, "action_dispatch.key_generator"=>#<ActiveSupport::CachingKeyGenerator:0x00007f53926fef40 @key_generator=#<ActiveSupport::KeyGenerator:0x00007f53926fef68 @secret="56780f8b2dd132be7b28464f1dade3e1e8bde229c07c1130d07eb6ae052df719b610aa3cfc71f373c27042c9c085aad6a950a0affa8072900179528d37d6cd20", @iterations=1000>, @cache_keys=#<Concurrent::Map:0x00007f53926feef0 entries=6 default_proc=nil>>, "action_dispatch.http_auth_salt"=>"http authentication", "action_dispatch.signed_cookie_salt"=>"signed cookie", "action_dispatch.encrypted_cookie_salt"=>"encrypted cookie", "action_dispatch.encrypted_signed_cookie_salt"=>"signed encrypted cookie", "action_dispatch.authenticated_encrypted_cookie_salt"=>"authenticated encrypted cookie", "action_dispatch.use_authenticated_cookie_encryption"=>true, "action_dispatch.encrypted_cookie_cipher"=>nil, "action_dispatch.signed_cookie_digest"=>nil, "action_dispatch.cookies_serializer"=>:json, "action_dispatch.cookies_digest"=>nil, "action_dispatch.cookies_rotations"=>#<ActiveSupport::Messages::RotationConfiguration:0x00007f539a72aa48 @signed=[], @encrypted=[]>, "action_dispatch.cookies_same_site_protection"=>#<Proc:0x00007f5398521a28 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/railties-6.1.7.10/lib/rails/application.rb:636>, "action_dispatch.use_cookies_with_metadata"=>true, "action_dispatch.content_security_policy"=>nil, "action_dispatch.content_security_policy_report_only"=>false, "action_dispatch.content_security_policy_nonce_generator"=>nil, "action_dispatch.content_security_policy_nonce_directives"=>nil, "action_dispatch.permissions_policy"=>nil, "action_dispatch.routes"=>#<ActionDispatch::Routing::RouteSet:0x00007f53984228e8>, "ROUTES_12140_SCRIPT_NAME"=>"", "ORIGINAL_FULLPATH"=>"/books/1", "ORIGINAL_SCRIPT_NAME"=>"", "action_dispatch.request_id"=>"669feb1f-5872-4528-b6c7-bc5c9f84cecb", "action_dispatch.remote_ip"=>#<ActionDispatch::RemoteIp::GetIp:0x00007f538b8aeba8 @req=#<ActionDispatch::Request GET "http://www.example.com/books/1" for 127.0.0.1>, @check_ip=true, @proxies=[#<IPAddr: IPv4:127.0.0.0/255.0.0.0>, #<IPAddr: IPv6:0000:0000:0000:0000:0000:0000:0000:0001/ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff>, #<IPAddr: IPv6:fc00:0000:0000:0000:0000:0000:0000:0000/fe00:0000:0000:0000:0000:0000:0000:0000>, #<IPAddr: IPv4:10.0.0.0/255.0.0.0>, #<IPAddr: IPv4:172.16.0.0/255.240.0.0>, #<IPAddr: IPv4:192.168.0.0/255.255.0.0>], @ip="127.0.0.1">, "rack.session"=>#<ActionDispatch::Request::Session:0x00007f538b8b6d30 @by=#<ActionDispatch::Session::CookieStore:0x00007f53983a0de8 @app=#<ActionDispatch::ContentSecurityPolicy::Middleware:0x00007f53983a0ed8 @app=#<ActionDispatch::PermissionsPolicy::Middleware:0x00007f53983a0f78 @app=#<Rack::Head:0x00007f53983a1018 @app=#<Rack::ConditionalGet:0x00007f53983a10b8 @app=#<Rack::ETag:0x00007f53983a11a8 @app=#<Rack::TempfileReaper:0x00007f53983a1248 @app=#<Warden::Manager:0x00007f53983a1518 @config={:default_scope=>:user, :scope_defaults=>{}, :default_strategies=>{:user=>[:rememberable, :database_authenticatable]}, :intercept_401=>false, :failure_app=>#<Devise::Delegator:0x00007f53920707c8>}, @app=#<ActionDispatch::Routing::RouteSet:0x00007f53984228e8>>>, @cache_control="max-age=0, private, must-revalidate", @no_cache_control="no-cache">>>>>, @default_options={:path=>"/", :domain=>nil, :expire_after=>nil, :secure=>false, :httponly=>true, :defer=>false, :renew=>false}, @key="_bookers2_session", @cookie_only=true, @same_site=nil>, @req=#<ActionDispatch::Request GET "http://www.example.com/books/1" for 127.0.0.1>, @delegate={"session_id"=>"48ea39e0e258537a6b074cb4e3795885", "warden.user.user.key"=>[[1], "$2a$04$nMy2zPt.LVjsRnnp8tjYyu"]}, @loaded=true, @exists=true>, "rack.session.options"=>#<ActionDispatch::Request::Session::Options:0x00007f538b8b6ce0 @by=#<ActionDispatch::Session::CookieStore:0x00007f53983a0de8 @app=#<ActionDispatch::ContentSecurityPolicy::Middleware:0x00007f53983a0ed8 @app=#<ActionDispatch::PermissionsPolicy::Middleware:0x00007f53983a0f78 @app=#<Rack::Head:0x00007f53983a1018 @app=#<Rack::ConditionalGet:0x00007f53983a10b8 @app=#<Rack::ETag:0x00007f53983a11a8 @app=#<Rack::TempfileReaper:0x00007f53983a1248 @app=#<Warden::Manager:0x00007f53983a1518 @config={:default_scope=>:user, :scope_defaults=>{}, :default_strategies=>{:user=>[:rememberable, :database_authenticatable]}, :intercept_401=>false, :failure_app=>#<Devise::Delegator:0x00007f53920707c8>}, @app=#<ActionDispatch::Routing::RouteSet:0x00007f53984228e8>>>, @cache_control="max-age=0, private, must-revalidate", @no_cache_control="no-cache">>>>>, @default_options={:path=>"/", :domain=>nil, :expire_after=>nil, :secure=>false, :httponly=>true, :defer=>false, :renew=>false}, @key="_bookers2_session", @cookie_only=true, @same_site=nil>, @delegate={:path=>"/", :domain=>nil, :expire_after=>nil, :secure=>false, :httponly=>true, :defer=>false, :renew=>false, :id=>"48ea39e0e258537a6b074cb4e3795885"}>, "rack.tempfiles"=>[], "warden"=>Warden::Proxy:80620 @config={:default_scope=>:user, :scope_defaults=>{}, :default_strategies=>{:user=>[:rememberable, :database_authenticatable]}, :intercept_401=>false, :failure_app=>#<Devise::Delegator:0x00007f53920707c8>}, "action_dispatch.request.path_parameters"=>{:controller=>"books", :action=>"show", :id=>"1"}, "action_controller.instance"=>#<BooksController:0x00000000027600>, "action_dispatch.request.content_type"=>nil, "action_dispatch.request.request_parameters"=>{}, "rack.request.query_string"=>"", "rack.request.query_hash"=>{}, "action_dispatch.request.query_parameters"=>{}, "action_dispatch.request.parameters"=>{"controller"=>"books", "action"=>"show", "id"=>"1"}, "action_dispatch.request.formats"=>[#<Mime::Type:0x00007f5394b247f8 @synonyms=["application/xhtml+xml"], @symbol=:html, @string="text/html", @hash=585732271851187284>], "rack.request.cookie_hash"=>{"_bookers2_session"=>"0uZkvsjg1p2TBtejDWlZraVYnDrj1y7P0oV6EeeyOB6HCHr8jxSWm/cSwxlVpbtaJtZ1QNpSRhKvwoUl3RdIiTbkQA4JDeG29jSKlLuP1rL0L86ggZ9o9yAmC7FDIUZiaX/ovyQnz0V/rFtwETR5/RIvWPcevTT5n02+aDRdipqrmfwgGSR1QKfiHf3H/LuOgckOVLMv4TBjYt702f3ipSqE465sLjpXCHrMataTajnRt1agCfmIrsNyfUn+52h0z+eGonaQODjDuunCOaggA545UGMiMLJyCA==--UXQh0hq21ldREHGy--qZrtsp/4fHe+dpKwjfqSzw=="}, "rack.request.cookie_string"=>"_bookers2_session=0uZkvsjg1p2TBtejDWlZraVYnDrj1y7P0oV6EeeyOB6HCHr8jxSWm%2FcSwxlVpbtaJtZ1QNpSRhKvwoUl3RdIiTbkQA4JDeG29jSKlLuP1rL0L86ggZ9o9yAmC7FDIUZiaX%2FovyQnz0V%2FrFtwETR5%2FRIvWPcevTT5n02%2BaDRdipqrmfwgGSR1QKfiHf3H%2FLuOgckOVLMv4TBjYt702f3ipSqE465sLjpXCHrMataTajnRt1agCfmIrsNyfUn%2B52h0z%2BeGonaQODjDuunCOaggA545UGMiMLJyCA%3D%3D--UXQh0hq21ldREHGy--qZrtsp%2F4fHe%2BdpKwjfqSzw%3D%3D", "action_dispatch.cookies"=>#<ActionDispatch::Cookies::CookieJar:0x00007f538b8b8a90 @set_cookies={"_bookers2_session"=>{:value=>"EuzEQM4xwcHw4070gwvli2cCJqYWx5xKzGJUtui35qvxpsXf5TMtNsxXuwSIVWyCO3umXT5CEBSRY9iaUZgAFuiXyUr3nLAqAOeDFY6Nrvbk4km3kxb0Y/NSWWEoEAlpMiPLmkq/Z8EWbx6PElp3qUyjxBjQOiBZgDjTefyLOYKBMrxUPjGMHcXycYLPs+L8gibkiv6GELuVsK/EGhE3d+f5rDfJAQg/Qxv0zpQr5WpJezwp278LSZUuGsBS/Z4mdDsJ82sjJPF+cq0F3BE1jssgX5soByLI9Q==--za4Cwnl0J+rzG6w4--9czp1z8wvsMAHnoQiinVLw==", :same_site=>:lax, :path=>"/", :domain=>nil, :expire_after=>nil, :secure=>false, :httponly=>true, :defer=>false, :renew=>false, :id=>"48ea39e0e258537a6b074cb4e3795885"}}, @delete_cookies={}, @request=#<ActionDispatch::Request GET "http://www.example.com/books/1" for 127.0.0.1>, @cookies={"_bookers2_session"=>"EuzEQM4xwcHw4070gwvli2cCJqYWx5xKzGJUtui35qvxpsXf5TMtNsxXuwSIVWyCO3umXT5CEBSRY9iaUZgAFuiXyUr3nLAqAOeDFY6Nrvbk4km3kxb0Y/NSWWEoEAlpMiPLmkq/Z8EWbx6PElp3qUyjxBjQOiBZgDjTefyLOYKBMrxUPjGMHcXycYLPs+L8gibkiv6GELuVsK/EGhE3d+f5rDfJAQg/Qxv0zpQr5WpJezwp278LSZUuGsBS/Z4mdDsJ82sjJPF+cq0F3BE1jssgX5soByLI9Q==--za4Cwnl0J+rzG6w4--9czp1z8wvsMAHnoQiinVLw=="}, @committed=false, @encrypted=#<ActionDispatch::Cookies::EncryptedKeyRotatingCookieJar:0x00007f538b8b8978 @parent_jar=#<ActionDispatch::Cookies::CookieJar:0x00007f538b8b8a90 ...>, @encryptor=#<ActiveSupport::MessageEncryptor:0x00007f538b8b86a8 @secret="\xF3\xEE63({\xB7@\xF7&6\xEAD\xF1aA\xA5G\\f\xE87\xDE\v|\xC4\xC0\xB7\xD8\x90>\x02", @sign_secret=nil, @cipher="aes-256-gcm", @aead_mode=true, @verifier=ActiveSupport::MessageEncryptor::NullVerifier, @serializer=ActiveSupport::MessageEncryptor::NullSerializer, @options={:cipher=>"aes-256-gcm", :serializer=>ActiveSupport::MessageEncryptor::NullSerializer}, @rotations=[#<ActiveSupport::MessageEncryptor:0x00007f538b8b80b8 @secret="\xBD\xA6\xA8t\xD2\x97\xAF\xAB/\xAAs\xE0\xED\x9B?pQ\xB6\x94\xD3\xC2k#\x99?d\x89f\x95\xDC\xEB\x98", @sign_secret=":\x12A\x94}.4\x04\\\xC1\xE7\xC6\xB6\x87D\x12\vQ\x1E\x1F\r\x86M\xCE\xF0'@S\xB1b4\x9A\xD6\xBC\x8C\xAE\x8Ea[c\x9D\xC10\x1A=y\x05m\\\xD7\x06\r@:\xD3\xC3\xB4wi\x98\x88~1\xF2", @cipher="aes-256-cbc", @aead_mode=false, @verifier=#<ActiveSupport::MessageVerifier:0x00007f538b8bff48 @secret=":\x12A\x94}.4\x04\\\xC1\xE7\xC6\xB6\x87D\x12\vQ\x1E\x1F\r\x86M\xCE\xF0'@S\xB1b4\x9A\xD6\xBC\x8C\xAE\x8Ea[c\x9D\xC10\x1A=y\x05m\\\xD7\x06\r@:\xD3\xC3\xB4wi\x98\x88~1\xF2", @digest="SHA1", @serializer=ActiveSupport::MessageEncryptor::NullSerializer, @options={:digest=>"SHA1", :serializer=>ActiveSupport::MessageEncryptor::NullSerializer}, @rotations=[], @on_rotation=nil>, @serializer=ActiveSupport::MessageEncryptor::NullSerializer, @options={:cipher=>"aes-256-cbc", :serializer=>ActiveSupport::MessageEncryptor::NullSerializer, :digest=>"SHA1"}, @rotations=[], @on_rotation=nil, @digest="SHA1">], @on_rotation=nil>>, @signed_or_encrypted=#<ActionDispatch::Cookies::EncryptedKeyRotatingCookieJar:0x00007f538b8b8978 @parent_jar=#<ActionDispatch::Cookies::CookieJar:0x00007f538b8b8a90 ...>, @encryptor=#<ActiveSupport::MessageEncryptor:0x00007f538b8b86a8 @secret="\xF3\xEE63({\xB7@\xF7&6\xEAD\xF1aA\xA5G\\f\xE87\xDE\v|\xC4\xC0\xB7\xD8\x90>\x02", @sign_secret=nil, @cipher="aes-256-gcm", @aead_mode=true, @verifier=ActiveSupport::MessageEncryptor::NullVerifier, @serializer=ActiveSupport::MessageEncryptor::NullSerializer, @options={:cipher=>"aes-256-gcm", :serializer=>ActiveSupport::MessageEncryptor::NullSerializer}, @rotations=[#<ActiveSupport::MessageEncryptor:0x00007f538b8b80b8 @secret="\xBD\xA6\xA8t\xD2\x97\xAF\xAB/\xAAs\xE0\xED\x9B?pQ\xB6\x94\xD3\xC2k#\x99?d\x89f\x95\xDC\xEB\x98", @sign_secret=":\x12A\x94}.4\x04\\\xC1\xE7\xC6\xB6\x87D\x12\vQ\x1E\x1F\r\x86M\xCE\xF0'@S\xB1b4\x9A\xD6\xBC\x8C\xAE\x8Ea[c\x9D\xC10\x1A=y\x05m\\\xD7\x06\r@:\xD3\xC3\xB4wi\x98\x88~1\xF2", @cipher="aes-256-cbc", @aead_mode=false, @verifier=#<ActiveSupport::MessageVerifier:0x00007f538b8bff48 @secret=":\x12A\x94}.4\x04\\\xC1\xE7\xC6\xB6\x87D\x12\vQ\x1E\x1F\r\x86M\xCE\xF0'@S\xB1b4\x9A\xD6\xBC\x8C\xAE\x8Ea[c\x9D\xC10\x1A=y\x05m\\\xD7\x06\r@:\xD3\xC3\xB4wi\x98\x88~1\xF2", @digest="SHA1", @serializer=ActiveSupport::MessageEncryptor::NullSerializer, @options={:digest=>"SHA1", :serializer=>ActiveSupport::MessageEncryptor::NullSerializer}, @rotations=[], @on_rotation=nil>, @serializer=ActiveSupport::MessageEncryptor::NullSerializer, @options={:cipher=>"aes-256-cbc", :serializer=>ActiveSupport::MessageEncryptor::NullSerializer, :digest=>"SHA1"}, @rotations=[], @on_rotation=nil, @digest="SHA1">], @on_rotation=nil>>>, "action_dispatch.request.unsigned_session_cookie"=>{"session_id"=>"48ea39e0e258537a6b074cb4e3795885", "warden.user.user.key"=>[[1], "$2a$04$nMy2zPt.LVjsRnnp8tjYyu"]}, "action_dispatch.request.flash_hash"=>#<ActionDispatch::Flash::FlashHash:0x00007f538b897340 @discard=#<Set: {}>, @flashes={}, @now=nil>}>, @last_response=#<Rack::MockResponse:0x00007f538b8613d0 @original_headers={"X-Frame-Options"=>"SAMEORIGIN", "X-XSS-Protection"=>"1; mode=block", "X-Content-Type-Options"=>"nosniff", "X-Download-Options"=>"noopen", "X-Permitted-Cross-Domain-Policies"=>"none", "Referrer-Policy"=>"strict-origin-when-cross-origin", "Link"=>"</packs-test/js/application-0f8cf5d6e063f6e1d671.js>; rel=preload; as=script; nopush", "Content-Type"=>"text/html; charset=utf-8", "ETag"=>"W/\"52eea3e426ba6cf4f7001f661b3b2f23\"", "Cache-Control"=>"max-age=0, private, must-revalidate", "Set-Cookie"=>"_bookers2_session=EuzEQM4xwcHw4070gwvli2cCJqYWx5xKzGJUtui35qvxpsXf5TMtNsxXuwSIVWyCO3umXT5CEBSRY9iaUZgAFuiXyUr3nLAqAOeDFY6Nrvbk4km3kxb0Y%2FNSWWEoEAlpMiPLmkq%2FZ8EWbx6PElp3qUyjxBjQOiBZgDjTefyLOYKBMrxUPjGMHcXycYLPs%2BL8gibkiv6GELuVsK%2FEGhE3d%2Bf5rDfJAQg%2FQxv0zpQr5WpJezwp278LSZUuGsBS%2FZ4mdDsJ82sjJPF%2Bcq0F3BE1jssgX5soByLI9Q%3D%3D--za4Cwnl0J%2BrzG6w4--9czp1z8wvsMAHnoQiinVLw%3D%3D; path=/; HttpOnly; SameSite=Lax", "X-Request-Id"=>"669feb1f-5872-4528-b6c7-bc5c9f84cecb", "X-Runtime"=>"0.019862", "Content-Length"=>"4185"}, @errors="", @cookies={"_bookers2_session"=>#<CGI::Cookie: "_bookers2_session=EuzEQM4xwcHw4070gwvli2cCJqYWx5xKzGJUtui35qvxpsXf5TMtNsxXuwSIVWyCO3umXT5CEBSRY9iaUZgAFuiXyUr3nLAqAOeDFY6Nrvbk4km3kxb0Y%252FNSWWEoEAlpMiPLmkq%252FZ8EWbx6PElp3qUyjxBjQOiBZgDjTefyLOYKBMrxUPjGMHcXycYLPs%252BL8gibkiv6GELuVsK%252FEGhE3d%252Bf5rDfJAQg%252FQxv0zpQr5WpJezwp278LSZUuGsBS%252FZ4mdDsJ82sjJPF%252Bcq0F3BE1jssgX5soByLI9Q%253D%253D--za4Cwnl0J%252BrzG6w4--9czp1z8wvsMAHnoQiinVLw%253D%253D; path=/">}, @status=200, @headers={"X-Frame-Options"=>"SAMEORIGIN", "X-XSS-Protection"=>"1; mode=block", "X-Content-Type-Options"=>"nosniff", "X-Download-Options"=>"noopen", "X-Permitted-Cross-Domain-Policies"=>"none", "Referrer-Policy"=>"strict-origin-when-cross-origin", "Link"=>"</packs-test/js/application-0f8cf5d6e063f6e1d671.js>; rel=preload; as=script; nopush", "Content-Type"=>"text/html; charset=utf-8", "ETag"=>"W/\"52eea3e426ba6cf4f7001f661b3b2f23\"", "Cache-Control"=>"max-age=0, private, must-revalidate", "Set-Cookie"=>"_bookers2_session=EuzEQM4xwcHw4070gwvli2cCJqYWx5xKzGJUtui35qvxpsXf5TMtNsxXuwSIVWyCO3umXT5CEBSRY9iaUZgAFuiXyUr3nLAqAOeDFY6Nrvbk4km3kxb0Y%2FNSWWEoEAlpMiPLmkq%2FZ8EWbx6PElp3qUyjxBjQOiBZgDjTefyLOYKBMrxUPjGMHcXycYLPs%2BL8gibkiv6GELuVsK%2FEGhE3d%2Bf5rDfJAQg%2FQxv0zpQr5WpJezwp278LSZUuGsBS%2FZ4mdDsJ82sjJPF%2Bcq0F3BE1jssgX5soByLI9Q%3D%3D--za4Cwnl0J%2BrzG6w4--9czp1z8wvsMAHnoQiinVLw%3D%3D; path=/; HttpOnly; SameSite=Lax", "X-Request-Id"=>"669feb1f-5872-4528-b6c7-bc5c9f84cecb", "X-Runtime"=>"0.019862", "Content-Length"=>"4185"}, @writer=#<Method: Rack::MockResponse(Rack::Response::Helpers)#append(chunk) /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/rack-2.2.17/lib/rack/response.rb:287>, @block=nil, @body=["<!DOCTYPE html>\n<html>\n  <head>\n     <title>Bookers2</title>\n     <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n     \n     \n     <meta name=\"viewport\" content=\"width=device-width,initial-scale=1 maximum-scale=1\">\n     <script src=\"https://kit.fontawesome.com/4c018c7cce.js\" crossorigin=\"anonymous\"></script>\n     \n     <script src=\"/packs-test/js/application-0f8cf5d6e063f6e1d671.js\" data-turbolinks-track=\"reload\"></script>\n  </head>\n    \n  <body>\n   <div class=\"container-fluid bg-secondary\">\n     <div class=\"header row px-5 py-4\"\n       <div class=\"col-3 d-flex justify-content-strat\">\n        <a style=\"color: white;\" href=\"/\">Bookers</a>\n       </div>\n\n       <div class=\"col-6 offset-3 d-flex justify-content-end\">\n         <div class=\"d-flex\">\n\n            <a class=\"text-white mr-3\" href=\"/users/1\">\n              <i class=\"fa-solid fa-house\"></i>Home\n</a>            \n            <a class=\"text-white mr-3\" href=\"/users\">\n              <i class=\"fa-solid fa-users\"></i>Users\n</a>            <a class=\"text-white mr-3\" href=\"/books\">\n              <i class=\"fa-solid fa-book-open\"></i>Books\n</a>            <a class=\"text-white mr-3\" rel=\"nofollow\" data-method=\"delete\" href=\"/users/sign_out\">\n              <i class=\"fa-solid fa-right-from-bracket\"></i>Log out\n</a>       </div>\n     </div>\n   </div>\n   </div>\n    <h1 class=\"text-center my-4\">Book detail</h1>\n\n\n<div class=\"container\" >\n  <div class=\"row\">\n      <div class=\"col-md-3\">\n        <h1>User info</h1>\n      <img src=\"http://www.example.com/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--7738d9b7769be5ef85cfa1a257a5537036bb9239/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lKYW5CbFp3WTZCa1ZVT2hSeVpYTnBlbVZmZEc5ZmJHbHRhWFJiQjJscGFXaz0iLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--1562c9686354f09633a016ebcf585f3b62360468/profile_image.jpeg\" />\n      <hr>\n        <p>name: asc30u21k8</p>\n      <hr>\n        <p>introduction: pv96zkyn5aufuw3x297n</p>\n\n      <div class=\"col mt-5\">\n        <p><a class=\"btn btn-outline-dark btn-block\" href=\"/users/1/edit\">\n           <i class=\"fa-solid fa-user-gear\"></i>\n        </a></p>\n      </div>\n\n\n  <h1>New book</h1>\n  <form action=\"/books/1\" accept-charset=\"UTF-8\" method=\"post\">\n    <div class=\"field\">\n         <!-- f.label :title 入力する事でcode内では小文字でもサイト上では大文字になる。 -->\n      <label for=\"title\">Title</label><br>\n         <!--小さい文字入力出来るフィールドが出来る。-->\n      <input type=\"text\" name=\"title\" id=\"title\" />\n    </div>\n    <div class=\"field\">\n      <label for=\"opinion\">Opinion</label><br>\n      <textarea name=\"body\" id=\"body\">\n</textarea>\n    </div>\n    <div class=\"row ml-5\">\n      <input type=\"submit\" name=\"commit\" value=\"Creste Book\" class=\"btn btn-success\" data-disable-with=\"Creste Book\" />\n    </div>\n  </form>    \n      </div>\n       <div class=\"col-md-8 offset-md-1\">\n         <h1>Book detail</h1>\n         <table class=\"table\">\n         </tbody>\n           <tr>\n             <td>\n                 <a href=\"/users/1\">\n                   <img src=\"http://www.example.com/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--7738d9b7769be5ef85cfa1a257a5537036bb9239/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lKYW5CbFp3WTZCa1ZVT2hSeVpYTnBlbVZmZEc5ZmJHbHRhWFJiQjJscGFXaz0iLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--1562c9686354f09633a016ebcf585f3b62360468/profile_image.jpeg\" /><br>\n                   asc30u21k8\n</a>             </td>\n             <td><a href=\"/books/1\">2if8z</a></td>\n             <td>olo1g2j6d97vqbrffdxo</td>\n               <td><a class=\"btn btn-success\" href=\"/books/1/edit\">Edit</a></td>\n               <td><a data-confirm=\"本当に消しますか？\" class=\"btn btn-danger\" rel=\"nofollow\" data-method=\"derete\" href=\"/books/1\">Destroy</a></td>\n           </tr>\n          </tbody>\n          </table>\n       </div>\n  </div>\n</div>\n      <footer style=\"text-align: center; margin-top: 50px;\">\n    <p>CopyRight Infratop.inc</p>\n  </footer>\n  </body>\n</html>"], @buffered=true, @length=4185>, @cookie_jar=#<Rack::Test::CookieJar:0x00007f538ba2ba08 @default_host="www.example.com", @cookies=[#<Rack::Test::Cookie:0x00007f538b860818 @default_host="www.example.com", @raw="_bookers2_session=EuzEQM4xwcHw4070gwvli2cCJqYWx5xKzGJUtui35qvxpsXf5TMtNsxXuwSIVWyCO3umXT5CEBSRY9iaUZgAFuiXyUr3nLAqAOeDFY6Nrvbk4km3kxb0Y%2FNSWWEoEAlpMiPLmkq%2FZ8EWbx6PElp3qUyjxBjQOiBZgDjTefyLOYKBMrxUPjGMHcXycYLPs%2BL8gibkiv6GELuVsK%2FEGhE3d%2Bf5rDfJAQg%2FQxv0zpQr5WpJezwp278LSZUuGsBS%2FZ4mdDsJ82sjJPF%2Bcq0F3BE1jssgX5soByLI9Q%3D%3D--za4Cwnl0J%2BrzG6w4--9czp1z8wvsMAHnoQiinVLw%3D%3D", @name="_bookers2_session", @value="EuzEQM4xwcHw4070gwvli2cCJqYWx5xKzGJUtui35qvxpsXf5TMtNsxXuwSIVWyCO3umXT5CEBSRY9iaUZgAFuiXyUr3nLAqAOeDFY6Nrvbk4km3kxb0Y/NSWWEoEAlpMiPLmkq/Z8EWbx6PElp3qUyjxBjQOiBZgDjTefyLOYKBMrxUPjGMHcXycYLPs+L8gibkiv6GELuVsK/EGhE3d+f5rDfJAQg/Qxv0zpQr5WpJezwp278LSZUuGsBS/Z4mdDsJ82sjJPF+cq0F3BE1jssgX5soByLI9Q==--za4Cwnl0J+rzG6w4--9czp1z8wvsMAHnoQiinVLw==", @options={"path"=>"/", "httponly"=>nil, "samesite"=>"Lax", "domain"=>"www.example.com"}, @exact_domain_match=true>]>>>[0m
      [31m[0m
      [31m      send(method, new_uri.to_s, attributes, env.merge(options[:headers] || {}))[0m
      [31m      ^^^^[0m
      [31m  Did you mean?  delete[0m
      [36m# ./spec/system/02_after_login_spec.rb:201:in `block (4 levels) in <main>'[0m

  16) [STEP2] ユーザログイン後のテスト 自分の投稿詳細画面のテスト 削除リンクのテスト リダイレクト先が、投稿一覧画面になっている
      [31mFailure/Error: click_link 'Destroy'[0m
      [31m[0m
      [31mNoMethodError:[0m
      [31m  undefined method `derete' for #<Capybara::RackTest::Browser:0x00007f538b7dab28 @driver=#<Capybara::RackTest::Driver:0x00007f538b97bb30 @app=#<Rack::Builder:0x00007f5394b93220 @freeze_app=false, @warmup=nil, @run=nil, @map={"/"=>#<Proc:0x00007f5394b93130 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/actionpack-6.1.7.10/lib/action_dispatch/system_test_case.rb:128>}, @use=[]>, @options={:respect_data_method=>true, :follow_redirects=>true, :redirect_limit=>5}, @session=#<Capybara::Session>, @browser=nil>, @current_fragment=nil, @new_visit_request=false, @dom=nil, @current_scheme="http", @current_host="www.example.com", @current_port=80, @_rack_test_sessions={:default=>#<Rack::Test::Session:0x00007f538b7dee58 @env={}, @app=#<Rack::Builder:0x00007f5394b93220 @freeze_app=false, @warmup=nil, @run=nil, @map={"/"=>#<Proc:0x00007f5394b93130 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/actionpack-6.1.7.10/lib/action_dispatch/system_test_case.rb:128>}, @use=[]>, @after_request=[], @default_host="www.example.com", @last_request=#<Rack::Request:0x00007f538b6bb940 @params=nil, @env={"rack.version"=>[1, 3], "rack.input"=>#<StringIO:0x00007f538b6bbc60>, "rack.errors"=>#<StringIO:0x00007f538b6bbcd8>, "rack.multithread"=>true, "rack.multiprocess"=>true, "rack.run_once"=>false, "REQUEST_METHOD"=>"GET", "SERVER_NAME"=>"www.example.com", "SERVER_PORT"=>"80", "QUERY_STRING"=>"", "PATH_INFO"=>"/books/1", "rack.url_scheme"=>"http", "HTTPS"=>"off", "SCRIPT_NAME"=>"", "CONTENT_LENGTH"=>"0", "rack.test"=>true, "REMOTE_ADDR"=>"127.0.0.1", "SERVER_PROTOCOL"=>"HTTP/1.0", "HTTP_VERSION"=>"HTTP/1.0", "HTTP_HOST"=>"www.example.com", "HTTP_COOKIE"=>"_bookers2_session=buhDQZAH3VYRj%2Bqre25PEQqq6f%2FN9fNyZeQCvrdVANpqBft6jw%2FMnAgrh1ZBhSFXuFewAQijnFQZJBM5gXj4pNqGx%2B%2Bt4PrwjVwFbnGiMPzOgQLKmvRHt5E1%2B%2FSuTdJRhMWgs7LjAX77PvD0txbCAYvbDuS2Z74NO91aA%2FtJKJxC6TwXjdk%2B50noKK2IYaCpXMNT6PDWVjNHjqavfJlCszPqh4oLkjK0JHIHuz7fOJg4s4f878BXvuhVyVsmbc77SEIZaIXlxNd9iffALHvhCo9Eb0Ut74Qi6g%3D%3D--2M5r8M5%2Bs%2BOYCwBv--v5HQ6cmOHSFAWEfi%2FA79pQ%3D%3D", "action_dispatch.parameter_filter"=>[:passw, :secret, :token, :_key, :crypt, :salt, :certificate, :otp, :ssn], "action_dispatch.redirect_filter"=>[], "action_dispatch.secret_key_base"=>"56780f8b2dd132be7b28464f1dade3e1e8bde229c07c1130d07eb6ae052df719b610aa3cfc71f373c27042c9c085aad6a950a0affa8072900179528d37d6cd20", "action_dispatch.show_exceptions"=>false, "action_dispatch.show_detailed_exceptions"=>true, "action_dispatch.logger"=>#<ActiveSupport::Logger:0x00007f539a710a58 @level=0, @progname=nil, @default_formatter=#<Logger::Formatter:0x00007f539a713500 @datetime_format=nil>, @formatter=#<ActiveSupport::Logger::SimpleFormatter:0x00007f539a710a30 @datetime_format=nil, @thread_key="activesupport_tagged_logging_tags:16040">, @logdev=#<Logger::LogDevice:0x00007f539a7132f8 @shift_period_suffix="%Y%m%d", @shift_size=1048576, @shift_age=0, @filename="/home/ec2-user/environment/bookers2/log/test.log", @dev=#<File:/home/ec2-user/environment/bookers2/log/test.log>, @binmode=false, @reraise_write_errors=[], @skip_header=false, @mon_data=#<Monitor:0x00007f539a713280>, @mon_data_owner_object_id=5720>, @level_override={}>, "action_dispatch.backtrace_cleaner"=>#<Rails::BacktraceCleaner:0x00007f5394b8ba20 @silencers=[#<Proc:0x00007f5394b8b570 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/activesupport-6.1.7.10/lib/active_support/backtrace_cleaner.rb:100>, #<Proc:0x00007f5394b8b4f8 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/activesupport-6.1.7.10/lib/active_support/backtrace_cleaner.rb:104>, #<Proc:0x00007f5394b8b390 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/railties-6.1.7.10/lib/rails/backtrace_cleaner.rb:24>], @filters=[#<Proc:0x00007f5394b8b610 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/activesupport-6.1.7.10/lib/active_support/backtrace_cleaner.rb:96>, #<Proc:0x00007f5394b8b3e0 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/railties-6.1.7.10/lib/rails/backtrace_cleaner.rb:14>, #<Proc:0x00007f5394b8b3b8 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/railties-6.1.7.10/lib/rails/backtrace_cleaner.rb:17>], @root="/home/ec2-user/environment/bookers2/">, "action_dispatch.key_generator"=>#<ActiveSupport::CachingKeyGenerator:0x00007f53926fef40 @key_generator=#<ActiveSupport::KeyGenerator:0x00007f53926fef68 @secret="56780f8b2dd132be7b28464f1dade3e1e8bde229c07c1130d07eb6ae052df719b610aa3cfc71f373c27042c9c085aad6a950a0affa8072900179528d37d6cd20", @iterations=1000>, @cache_keys=#<Concurrent::Map:0x00007f53926feef0 entries=6 default_proc=nil>>, "action_dispatch.http_auth_salt"=>"http authentication", "action_dispatch.signed_cookie_salt"=>"signed cookie", "action_dispatch.encrypted_cookie_salt"=>"encrypted cookie", "action_dispatch.encrypted_signed_cookie_salt"=>"signed encrypted cookie", "action_dispatch.authenticated_encrypted_cookie_salt"=>"authenticated encrypted cookie", "action_dispatch.use_authenticated_cookie_encryption"=>true, "action_dispatch.encrypted_cookie_cipher"=>nil, "action_dispatch.signed_cookie_digest"=>nil, "action_dispatch.cookies_serializer"=>:json, "action_dispatch.cookies_digest"=>nil, "action_dispatch.cookies_rotations"=>#<ActiveSupport::Messages::RotationConfiguration:0x00007f539a72aa48 @signed=[], @encrypted=[]>, "action_dispatch.cookies_same_site_protection"=>#<Proc:0x00007f5398521a28 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/railties-6.1.7.10/lib/rails/application.rb:636>, "action_dispatch.use_cookies_with_metadata"=>true, "action_dispatch.content_security_policy"=>nil, "action_dispatch.content_security_policy_report_only"=>false, "action_dispatch.content_security_policy_nonce_generator"=>nil, "action_dispatch.content_security_policy_nonce_directives"=>nil, "action_dispatch.permissions_policy"=>nil, "action_dispatch.routes"=>#<ActionDispatch::Routing::RouteSet:0x00007f53984228e8>, "ROUTES_12140_SCRIPT_NAME"=>"", "ORIGINAL_FULLPATH"=>"/books/1", "ORIGINAL_SCRIPT_NAME"=>"", "action_dispatch.request_id"=>"ad249c5b-7503-4bad-b5a5-f266a9e43fe3", "action_dispatch.remote_ip"=>#<ActionDispatch::RemoteIp::GetIp:0x00007f538b6bc570 @req=#<ActionDispatch::Request GET "http://www.example.com/books/1" for 127.0.0.1>, @check_ip=true, @proxies=[#<IPAddr: IPv4:127.0.0.0/255.0.0.0>, #<IPAddr: IPv6:0000:0000:0000:0000:0000:0000:0000:0001/ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff>, #<IPAddr: IPv6:fc00:0000:0000:0000:0000:0000:0000:0000/fe00:0000:0000:0000:0000:0000:0000:0000>, #<IPAddr: IPv4:10.0.0.0/255.0.0.0>, #<IPAddr: IPv4:172.16.0.0/255.240.0.0>, #<IPAddr: IPv4:192.168.0.0/255.255.0.0>], @ip="127.0.0.1">, "rack.session"=>#<ActionDispatch::Request::Session:0x00007f538b690740 @by=#<ActionDispatch::Session::CookieStore:0x00007f53983a0de8 @app=#<ActionDispatch::ContentSecurityPolicy::Middleware:0x00007f53983a0ed8 @app=#<ActionDispatch::PermissionsPolicy::Middleware:0x00007f53983a0f78 @app=#<Rack::Head:0x00007f53983a1018 @app=#<Rack::ConditionalGet:0x00007f53983a10b8 @app=#<Rack::ETag:0x00007f53983a11a8 @app=#<Rack::TempfileReaper:0x00007f53983a1248 @app=#<Warden::Manager:0x00007f53983a1518 @config={:default_scope=>:user, :scope_defaults=>{}, :default_strategies=>{:user=>[:rememberable, :database_authenticatable]}, :intercept_401=>false, :failure_app=>#<Devise::Delegator:0x00007f53920707c8>}, @app=#<ActionDispatch::Routing::RouteSet:0x00007f53984228e8>>>, @cache_control="max-age=0, private, must-revalidate", @no_cache_control="no-cache">>>>>, @default_options={:path=>"/", :domain=>nil, :expire_after=>nil, :secure=>false, :httponly=>true, :defer=>false, :renew=>false}, @key="_bookers2_session", @cookie_only=true, @same_site=nil>, @req=#<ActionDispatch::Request GET "http://www.example.com/books/1" for 127.0.0.1>, @delegate={"session_id"=>"e311a31cc3976ab4086aa9e9ce33de74", "warden.user.user.key"=>[[1], "$2a$04$yyDdJE4AA2SR5GLMvbyszu"]}, @loaded=true, @exists=true>, "rack.session.options"=>#<ActionDispatch::Request::Session::Options:0x00007f538b6906f0 @by=#<ActionDispatch::Session::CookieStore:0x00007f53983a0de8 @app=#<ActionDispatch::ContentSecurityPolicy::Middleware:0x00007f53983a0ed8 @app=#<ActionDispatch::PermissionsPolicy::Middleware:0x00007f53983a0f78 @app=#<Rack::Head:0x00007f53983a1018 @app=#<Rack::ConditionalGet:0x00007f53983a10b8 @app=#<Rack::ETag:0x00007f53983a11a8 @app=#<Rack::TempfileReaper:0x00007f53983a1248 @app=#<Warden::Manager:0x00007f53983a1518 @config={:default_scope=>:user, :scope_defaults=>{}, :default_strategies=>{:user=>[:rememberable, :database_authenticatable]}, :intercept_401=>false, :failure_app=>#<Devise::Delegator:0x00007f53920707c8>}, @app=#<ActionDispatch::Routing::RouteSet:0x00007f53984228e8>>>, @cache_control="max-age=0, private, must-revalidate", @no_cache_control="no-cache">>>>>, @default_options={:path=>"/", :domain=>nil, :expire_after=>nil, :secure=>false, :httponly=>true, :defer=>false, :renew=>false}, @key="_bookers2_session", @cookie_only=true, @same_site=nil>, @delegate={:path=>"/", :domain=>nil, :expire_after=>nil, :secure=>false, :httponly=>true, :defer=>false, :renew=>false, :id=>"e311a31cc3976ab4086aa9e9ce33de74"}>, "rack.tempfiles"=>[], "warden"=>Warden::Proxy:80680 @config={:default_scope=>:user, :scope_defaults=>{}, :default_strategies=>{:user=>[:rememberable, :database_authenticatable]}, :intercept_401=>false, :failure_app=>#<Devise::Delegator:0x00007f53920707c8>}, "action_dispatch.request.path_parameters"=>{:controller=>"books", :action=>"show", :id=>"1"}, "action_controller.instance"=>#<BooksController:0x00000000027678>, "action_dispatch.request.content_type"=>nil, "action_dispatch.request.request_parameters"=>{}, "rack.request.query_string"=>"", "rack.request.query_hash"=>{}, "action_dispatch.request.query_parameters"=>{}, "action_dispatch.request.parameters"=>{"controller"=>"books", "action"=>"show", "id"=>"1"}, "action_dispatch.request.formats"=>[#<Mime::Type:0x00007f5394b247f8 @synonyms=["application/xhtml+xml"], @symbol=:html, @string="text/html", @hash=585732271851187284>], "rack.request.cookie_hash"=>{"_bookers2_session"=>"buhDQZAH3VYRj+qre25PEQqq6f/N9fNyZeQCvrdVANpqBft6jw/MnAgrh1ZBhSFXuFewAQijnFQZJBM5gXj4pNqGx++t4PrwjVwFbnGiMPzOgQLKmvRHt5E1+/SuTdJRhMWgs7LjAX77PvD0txbCAYvbDuS2Z74NO91aA/tJKJxC6TwXjdk+50noKK2IYaCpXMNT6PDWVjNHjqavfJlCszPqh4oLkjK0JHIHuz7fOJg4s4f878BXvuhVyVsmbc77SEIZaIXlxNd9iffALHvhCo9Eb0Ut74Qi6g==--2M5r8M5+s+OYCwBv--v5HQ6cmOHSFAWEfi/A79pQ=="}, "rack.request.cookie_string"=>"_bookers2_session=buhDQZAH3VYRj%2Bqre25PEQqq6f%2FN9fNyZeQCvrdVANpqBft6jw%2FMnAgrh1ZBhSFXuFewAQijnFQZJBM5gXj4pNqGx%2B%2Bt4PrwjVwFbnGiMPzOgQLKmvRHt5E1%2B%2FSuTdJRhMWgs7LjAX77PvD0txbCAYvbDuS2Z74NO91aA%2FtJKJxC6TwXjdk%2B50noKK2IYaCpXMNT6PDWVjNHjqavfJlCszPqh4oLkjK0JHIHuz7fOJg4s4f878BXvuhVyVsmbc77SEIZaIXlxNd9iffALHvhCo9Eb0Ut74Qi6g%3D%3D--2M5r8M5%2Bs%2BOYCwBv--v5HQ6cmOHSFAWEfi%2FA79pQ%3D%3D", "action_dispatch.cookies"=>#<ActionDispatch::Cookies::CookieJar:0x00007f538b694138 @set_cookies={"_bookers2_session"=>{:value=>"OTOzZsUZvZ+yjcp4RgK24XHeiIzoOKwoOd/TqyLkiImu5jkG3FmsNFk9z/rPfjKXx9BVXs9g/7KPWfkyUzGz0n6iEGLHPSehY3zybWK2AIo5om13uFF67pYinJnHqbCEjcpXA9p2dYDI3m9kTNqYy47ueo2DLfcWH4fsnKwGdSlkBiPoEAcVzbpzWHoDiKRVFKxwpL61MCCN4EYjaVdSCYmbO6k0RhKf1GpMVJ3CUfOiLCiQLhQG9cwYIKTQYvBdLM/Hs7Pp31QlcHhafXPxELdwRQFhXD28yA==--Wd8O6aYRxbgwMRlo--OWN1+g6rodmQ9vW0KpEr9g==", :same_site=>:lax, :path=>"/", :domain=>nil, :expire_after=>nil, :secure=>false, :httponly=>true, :defer=>false, :renew=>false, :id=>"e311a31cc3976ab4086aa9e9ce33de74"}}, @delete_cookies={}, @request=#<ActionDispatch::Request GET "http://www.example.com/books/1" for 127.0.0.1>, @cookies={"_bookers2_session"=>"OTOzZsUZvZ+yjcp4RgK24XHeiIzoOKwoOd/TqyLkiImu5jkG3FmsNFk9z/rPfjKXx9BVXs9g/7KPWfkyUzGz0n6iEGLHPSehY3zybWK2AIo5om13uFF67pYinJnHqbCEjcpXA9p2dYDI3m9kTNqYy47ueo2DLfcWH4fsnKwGdSlkBiPoEAcVzbpzWHoDiKRVFKxwpL61MCCN4EYjaVdSCYmbO6k0RhKf1GpMVJ3CUfOiLCiQLhQG9cwYIKTQYvBdLM/Hs7Pp31QlcHhafXPxELdwRQFhXD28yA==--Wd8O6aYRxbgwMRlo--OWN1+g6rodmQ9vW0KpEr9g=="}, @committed=false, @encrypted=#<ActionDispatch::Cookies::EncryptedKeyRotatingCookieJar:0x00007f538b694070 @parent_jar=#<ActionDispatch::Cookies::CookieJar:0x00007f538b694138 ...>, @encryptor=#<ActiveSupport::MessageEncryptor:0x00007f538b69bf28 @secret="\xF3\xEE63({\xB7@\xF7&6\xEAD\xF1aA\xA5G\\f\xE87\xDE\v|\xC4\xC0\xB7\xD8\x90>\x02", @sign_secret=nil, @cipher="aes-256-gcm", @aead_mode=true, @verifier=ActiveSupport::MessageEncryptor::NullVerifier, @serializer=ActiveSupport::MessageEncryptor::NullSerializer, @options={:cipher=>"aes-256-gcm", :serializer=>ActiveSupport::MessageEncryptor::NullSerializer}, @rotations=[#<ActiveSupport::MessageEncryptor:0x00007f538b69b780 @secret="\xBD\xA6\xA8t\xD2\x97\xAF\xAB/\xAAs\xE0\xED\x9B?pQ\xB6\x94\xD3\xC2k#\x99?d\x89f\x95\xDC\xEB\x98", @sign_secret=":\x12A\x94}.4\x04\\\xC1\xE7\xC6\xB6\x87D\x12\vQ\x1E\x1F\r\x86M\xCE\xF0'@S\xB1b4\x9A\xD6\xBC\x8C\xAE\x8Ea[c\x9D\xC10\x1A=y\x05m\\\xD7\x06\r@:\xD3\xC3\xB4wi\x98\x88~1\xF2", @cipher="aes-256-cbc", @aead_mode=false, @verifier=#<ActiveSupport::MessageVerifier:0x00007f538b69b528 @secret=":\x12A\x94}.4\x04\\\xC1\xE7\xC6\xB6\x87D\x12\vQ\x1E\x1F\r\x86M\xCE\xF0'@S\xB1b4\x9A\xD6\xBC\x8C\xAE\x8Ea[c\x9D\xC10\x1A=y\x05m\\\xD7\x06\r@:\xD3\xC3\xB4wi\x98\x88~1\xF2", @digest="SHA1", @serializer=ActiveSupport::MessageEncryptor::NullSerializer, @options={:digest=>"SHA1", :serializer=>ActiveSupport::MessageEncryptor::NullSerializer}, @rotations=[], @on_rotation=nil>, @serializer=ActiveSupport::MessageEncryptor::NullSerializer, @options={:cipher=>"aes-256-cbc", :serializer=>ActiveSupport::MessageEncryptor::NullSerializer, :digest=>"SHA1"}, @rotations=[], @on_rotation=nil, @digest="SHA1">], @on_rotation=nil>>, @signed_or_encrypted=#<ActionDispatch::Cookies::EncryptedKeyRotatingCookieJar:0x00007f538b694070 @parent_jar=#<ActionDispatch::Cookies::CookieJar:0x00007f538b694138 ...>, @encryptor=#<ActiveSupport::MessageEncryptor:0x00007f538b69bf28 @secret="\xF3\xEE63({\xB7@\xF7&6\xEAD\xF1aA\xA5G\\f\xE87\xDE\v|\xC4\xC0\xB7\xD8\x90>\x02", @sign_secret=nil, @cipher="aes-256-gcm", @aead_mode=true, @verifier=ActiveSupport::MessageEncryptor::NullVerifier, @serializer=ActiveSupport::MessageEncryptor::NullSerializer, @options={:cipher=>"aes-256-gcm", :serializer=>ActiveSupport::MessageEncryptor::NullSerializer}, @rotations=[#<ActiveSupport::MessageEncryptor:0x00007f538b69b780 @secret="\xBD\xA6\xA8t\xD2\x97\xAF\xAB/\xAAs\xE0\xED\x9B?pQ\xB6\x94\xD3\xC2k#\x99?d\x89f\x95\xDC\xEB\x98", @sign_secret=":\x12A\x94}.4\x04\\\xC1\xE7\xC6\xB6\x87D\x12\vQ\x1E\x1F\r\x86M\xCE\xF0'@S\xB1b4\x9A\xD6\xBC\x8C\xAE\x8Ea[c\x9D\xC10\x1A=y\x05m\\\xD7\x06\r@:\xD3\xC3\xB4wi\x98\x88~1\xF2", @cipher="aes-256-cbc", @aead_mode=false, @verifier=#<ActiveSupport::MessageVerifier:0x00007f538b69b528 @secret=":\x12A\x94}.4\x04\\\xC1\xE7\xC6\xB6\x87D\x12\vQ\x1E\x1F\r\x86M\xCE\xF0'@S\xB1b4\x9A\xD6\xBC\x8C\xAE\x8Ea[c\x9D\xC10\x1A=y\x05m\\\xD7\x06\r@:\xD3\xC3\xB4wi\x98\x88~1\xF2", @digest="SHA1", @serializer=ActiveSupport::MessageEncryptor::NullSerializer, @options={:digest=>"SHA1", :serializer=>ActiveSupport::MessageEncryptor::NullSerializer}, @rotations=[], @on_rotation=nil>, @serializer=ActiveSupport::MessageEncryptor::NullSerializer, @options={:cipher=>"aes-256-cbc", :serializer=>ActiveSupport::MessageEncryptor::NullSerializer, :digest=>"SHA1"}, @rotations=[], @on_rotation=nil, @digest="SHA1">], @on_rotation=nil>>>, "action_dispatch.request.unsigned_session_cookie"=>{"session_id"=>"e311a31cc3976ab4086aa9e9ce33de74", "warden.user.user.key"=>[[1], "$2a$04$yyDdJE4AA2SR5GLMvbyszu"]}, "action_dispatch.request.flash_hash"=>#<ActionDispatch::Flash::FlashHash:0x00007f538b6a5ca8 @discard=#<Set: {}>, @flashes={}, @now=nil>}>, @last_response=#<Rack::MockResponse:0x00007f538b66f338 @original_headers={"X-Frame-Options"=>"SAMEORIGIN", "X-XSS-Protection"=>"1; mode=block", "X-Content-Type-Options"=>"nosniff", "X-Download-Options"=>"noopen", "X-Permitted-Cross-Domain-Policies"=>"none", "Referrer-Policy"=>"strict-origin-when-cross-origin", "Link"=>"</packs-test/js/application-0f8cf5d6e063f6e1d671.js>; rel=preload; as=script; nopush", "Content-Type"=>"text/html; charset=utf-8", "ETag"=>"W/\"454e8151a1d4cc1d4784569c4d96d3c3\"", "Cache-Control"=>"max-age=0, private, must-revalidate", "Set-Cookie"=>"_bookers2_session=OTOzZsUZvZ%2Byjcp4RgK24XHeiIzoOKwoOd%2FTqyLkiImu5jkG3FmsNFk9z%2FrPfjKXx9BVXs9g%2F7KPWfkyUzGz0n6iEGLHPSehY3zybWK2AIo5om13uFF67pYinJnHqbCEjcpXA9p2dYDI3m9kTNqYy47ueo2DLfcWH4fsnKwGdSlkBiPoEAcVzbpzWHoDiKRVFKxwpL61MCCN4EYjaVdSCYmbO6k0RhKf1GpMVJ3CUfOiLCiQLhQG9cwYIKTQYvBdLM%2FHs7Pp31QlcHhafXPxELdwRQFhXD28yA%3D%3D--Wd8O6aYRxbgwMRlo--OWN1%2Bg6rodmQ9vW0KpEr9g%3D%3D; path=/; HttpOnly; SameSite=Lax", "X-Request-Id"=>"ad249c5b-7503-4bad-b5a5-f266a9e43fe3", "X-Runtime"=>"0.023304", "Content-Length"=>"4185"}, @errors="", @cookies={"_bookers2_session"=>#<CGI::Cookie: "_bookers2_session=OTOzZsUZvZ%252Byjcp4RgK24XHeiIzoOKwoOd%252FTqyLkiImu5jkG3FmsNFk9z%252FrPfjKXx9BVXs9g%252F7KPWfkyUzGz0n6iEGLHPSehY3zybWK2AIo5om13uFF67pYinJnHqbCEjcpXA9p2dYDI3m9kTNqYy47ueo2DLfcWH4fsnKwGdSlkBiPoEAcVzbpzWHoDiKRVFKxwpL61MCCN4EYjaVdSCYmbO6k0RhKf1GpMVJ3CUfOiLCiQLhQG9cwYIKTQYvBdLM%252FHs7Pp31QlcHhafXPxELdwRQFhXD28yA%253D%253D--Wd8O6aYRxbgwMRlo--OWN1%252Bg6rodmQ9vW0KpEr9g%253D%253D; path=/">}, @status=200, @headers={"X-Frame-Options"=>"SAMEORIGIN", "X-XSS-Protection"=>"1; mode=block", "X-Content-Type-Options"=>"nosniff", "X-Download-Options"=>"noopen", "X-Permitted-Cross-Domain-Policies"=>"none", "Referrer-Policy"=>"strict-origin-when-cross-origin", "Link"=>"</packs-test/js/application-0f8cf5d6e063f6e1d671.js>; rel=preload; as=script; nopush", "Content-Type"=>"text/html; charset=utf-8", "ETag"=>"W/\"454e8151a1d4cc1d4784569c4d96d3c3\"", "Cache-Control"=>"max-age=0, private, must-revalidate", "Set-Cookie"=>"_bookers2_session=OTOzZsUZvZ%2Byjcp4RgK24XHeiIzoOKwoOd%2FTqyLkiImu5jkG3FmsNFk9z%2FrPfjKXx9BVXs9g%2F7KPWfkyUzGz0n6iEGLHPSehY3zybWK2AIo5om13uFF67pYinJnHqbCEjcpXA9p2dYDI3m9kTNqYy47ueo2DLfcWH4fsnKwGdSlkBiPoEAcVzbpzWHoDiKRVFKxwpL61MCCN4EYjaVdSCYmbO6k0RhKf1GpMVJ3CUfOiLCiQLhQG9cwYIKTQYvBdLM%2FHs7Pp31QlcHhafXPxELdwRQFhXD28yA%3D%3D--Wd8O6aYRxbgwMRlo--OWN1%2Bg6rodmQ9vW0KpEr9g%3D%3D; path=/; HttpOnly; SameSite=Lax", "X-Request-Id"=>"ad249c5b-7503-4bad-b5a5-f266a9e43fe3", "X-Runtime"=>"0.023304", "Content-Length"=>"4185"}, @writer=#<Method: Rack::MockResponse(Rack::Response::Helpers)#append(chunk) /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/rack-2.2.17/lib/rack/response.rb:287>, @block=nil, @body=["<!DOCTYPE html>\n<html>\n  <head>\n     <title>Bookers2</title>\n     <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n     \n     \n     <meta name=\"viewport\" content=\"width=device-width,initial-scale=1 maximum-scale=1\">\n     <script src=\"https://kit.fontawesome.com/4c018c7cce.js\" crossorigin=\"anonymous\"></script>\n     \n     <script src=\"/packs-test/js/application-0f8cf5d6e063f6e1d671.js\" data-turbolinks-track=\"reload\"></script>\n  </head>\n    \n  <body>\n   <div class=\"container-fluid bg-secondary\">\n     <div class=\"header row px-5 py-4\"\n       <div class=\"col-3 d-flex justify-content-strat\">\n        <a style=\"color: white;\" href=\"/\">Bookers</a>\n       </div>\n\n       <div class=\"col-6 offset-3 d-flex justify-content-end\">\n         <div class=\"d-flex\">\n\n            <a class=\"text-white mr-3\" href=\"/users/1\">\n              <i class=\"fa-solid fa-house\"></i>Home\n</a>            \n            <a class=\"text-white mr-3\" href=\"/users\">\n              <i class=\"fa-solid fa-users\"></i>Users\n</a>            <a class=\"text-white mr-3\" href=\"/books\">\n              <i class=\"fa-solid fa-book-open\"></i>Books\n</a>            <a class=\"text-white mr-3\" rel=\"nofollow\" data-method=\"delete\" href=\"/users/sign_out\">\n              <i class=\"fa-solid fa-right-from-bracket\"></i>Log out\n</a>       </div>\n     </div>\n   </div>\n   </div>\n    <h1 class=\"text-center my-4\">Book detail</h1>\n\n\n<div class=\"container\" >\n  <div class=\"row\">\n      <div class=\"col-md-3\">\n        <h1>User info</h1>\n      <img src=\"http://www.example.com/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--7738d9b7769be5ef85cfa1a257a5537036bb9239/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lKYW5CbFp3WTZCa1ZVT2hSeVpYTnBlbVZmZEc5ZmJHbHRhWFJiQjJscGFXaz0iLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--1562c9686354f09633a016ebcf585f3b62360468/profile_image.jpeg\" />\n      <hr>\n        <p>name: yqzv9tbokz</p>\n      <hr>\n        <p>introduction: i01ja1271ghul0o6w1nj</p>\n\n      <div class=\"col mt-5\">\n        <p><a class=\"btn btn-outline-dark btn-block\" href=\"/users/1/edit\">\n           <i class=\"fa-solid fa-user-gear\"></i>\n        </a></p>\n      </div>\n\n\n  <h1>New book</h1>\n  <form action=\"/books/1\" accept-charset=\"UTF-8\" method=\"post\">\n    <div class=\"field\">\n         <!-- f.label :title 入力する事でcode内では小文字でもサイト上では大文字になる。 -->\n      <label for=\"title\">Title</label><br>\n         <!--小さい文字入力出来るフィールドが出来る。-->\n      <input type=\"text\" name=\"title\" id=\"title\" />\n    </div>\n    <div class=\"field\">\n      <label for=\"opinion\">Opinion</label><br>\n      <textarea name=\"body\" id=\"body\">\n</textarea>\n    </div>\n    <div class=\"row ml-5\">\n      <input type=\"submit\" name=\"commit\" value=\"Creste Book\" class=\"btn btn-success\" data-disable-with=\"Creste Book\" />\n    </div>\n  </form>    \n      </div>\n       <div class=\"col-md-8 offset-md-1\">\n         <h1>Book detail</h1>\n         <table class=\"table\">\n         </tbody>\n           <tr>\n             <td>\n                 <a href=\"/users/1\">\n                   <img src=\"http://www.example.com/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--7738d9b7769be5ef85cfa1a257a5537036bb9239/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lKYW5CbFp3WTZCa1ZVT2hSeVpYTnBlbVZmZEc5ZmJHbHRhWFJiQjJscGFXaz0iLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--1562c9686354f09633a016ebcf585f3b62360468/profile_image.jpeg\" /><br>\n                   yqzv9tbokz\n</a>             </td>\n             <td><a href=\"/books/1\">yiqb0</a></td>\n             <td>g46b2zf6q6m0cdp5n5fq</td>\n               <td><a class=\"btn btn-success\" href=\"/books/1/edit\">Edit</a></td>\n               <td><a data-confirm=\"本当に消しますか？\" class=\"btn btn-danger\" rel=\"nofollow\" data-method=\"derete\" href=\"/books/1\">Destroy</a></td>\n           </tr>\n          </tbody>\n          </table>\n       </div>\n  </div>\n</div>\n      <footer style=\"text-align: center; margin-top: 50px;\">\n    <p>CopyRight Infratop.inc</p>\n  </footer>\n  </body>\n</html>"], @buffered=true, @length=4185>, @cookie_jar=#<Rack::Test::CookieJar:0x00007f538b7ded90 @default_host="www.example.com", @cookies=[#<Rack::Test::Cookie:0x00007f538b66e4d8 @default_host="www.example.com", @raw="_bookers2_session=OTOzZsUZvZ%2Byjcp4RgK24XHeiIzoOKwoOd%2FTqyLkiImu5jkG3FmsNFk9z%2FrPfjKXx9BVXs9g%2F7KPWfkyUzGz0n6iEGLHPSehY3zybWK2AIo5om13uFF67pYinJnHqbCEjcpXA9p2dYDI3m9kTNqYy47ueo2DLfcWH4fsnKwGdSlkBiPoEAcVzbpzWHoDiKRVFKxwpL61MCCN4EYjaVdSCYmbO6k0RhKf1GpMVJ3CUfOiLCiQLhQG9cwYIKTQYvBdLM%2FHs7Pp31QlcHhafXPxELdwRQFhXD28yA%3D%3D--Wd8O6aYRxbgwMRlo--OWN1%2Bg6rodmQ9vW0KpEr9g%3D%3D", @name="_bookers2_session", @value="OTOzZsUZvZ+yjcp4RgK24XHeiIzoOKwoOd/TqyLkiImu5jkG3FmsNFk9z/rPfjKXx9BVXs9g/7KPWfkyUzGz0n6iEGLHPSehY3zybWK2AIo5om13uFF67pYinJnHqbCEjcpXA9p2dYDI3m9kTNqYy47ueo2DLfcWH4fsnKwGdSlkBiPoEAcVzbpzWHoDiKRVFKxwpL61MCCN4EYjaVdSCYmbO6k0RhKf1GpMVJ3CUfOiLCiQLhQG9cwYIKTQYvBdLM/Hs7Pp31QlcHhafXPxELdwRQFhXD28yA==--Wd8O6aYRxbgwMRlo--OWN1+g6rodmQ9vW0KpEr9g==", @options={"path"=>"/", "httponly"=>nil, "samesite"=>"Lax", "domain"=>"www.example.com"}, @exact_domain_match=true>]>>}, @_rack_test_current_session=#<Rack::Test::Session:0x00007f538b7dee58 @env={}, @app=#<Rack::Builder:0x00007f5394b93220 @freeze_app=false, @warmup=nil, @run=nil, @map={"/"=>#<Proc:0x00007f5394b93130 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/actionpack-6.1.7.10/lib/action_dispatch/system_test_case.rb:128>}, @use=[]>, @after_request=[], @default_host="www.example.com", @last_request=#<Rack::Request:0x00007f538b6bb940 @params=nil, @env={"rack.version"=>[1, 3], "rack.input"=>#<StringIO:0x00007f538b6bbc60>, "rack.errors"=>#<StringIO:0x00007f538b6bbcd8>, "rack.multithread"=>true, "rack.multiprocess"=>true, "rack.run_once"=>false, "REQUEST_METHOD"=>"GET", "SERVER_NAME"=>"www.example.com", "SERVER_PORT"=>"80", "QUERY_STRING"=>"", "PATH_INFO"=>"/books/1", "rack.url_scheme"=>"http", "HTTPS"=>"off", "SCRIPT_NAME"=>"", "CONTENT_LENGTH"=>"0", "rack.test"=>true, "REMOTE_ADDR"=>"127.0.0.1", "SERVER_PROTOCOL"=>"HTTP/1.0", "HTTP_VERSION"=>"HTTP/1.0", "HTTP_HOST"=>"www.example.com", "HTTP_COOKIE"=>"_bookers2_session=buhDQZAH3VYRj%2Bqre25PEQqq6f%2FN9fNyZeQCvrdVANpqBft6jw%2FMnAgrh1ZBhSFXuFewAQijnFQZJBM5gXj4pNqGx%2B%2Bt4PrwjVwFbnGiMPzOgQLKmvRHt5E1%2B%2FSuTdJRhMWgs7LjAX77PvD0txbCAYvbDuS2Z74NO91aA%2FtJKJxC6TwXjdk%2B50noKK2IYaCpXMNT6PDWVjNHjqavfJlCszPqh4oLkjK0JHIHuz7fOJg4s4f878BXvuhVyVsmbc77SEIZaIXlxNd9iffALHvhCo9Eb0Ut74Qi6g%3D%3D--2M5r8M5%2Bs%2BOYCwBv--v5HQ6cmOHSFAWEfi%2FA79pQ%3D%3D", "action_dispatch.parameter_filter"=>[:passw, :secret, :token, :_key, :crypt, :salt, :certificate, :otp, :ssn], "action_dispatch.redirect_filter"=>[], "action_dispatch.secret_key_base"=>"56780f8b2dd132be7b28464f1dade3e1e8bde229c07c1130d07eb6ae052df719b610aa3cfc71f373c27042c9c085aad6a950a0affa8072900179528d37d6cd20", "action_dispatch.show_exceptions"=>false, "action_dispatch.show_detailed_exceptions"=>true, "action_dispatch.logger"=>#<ActiveSupport::Logger:0x00007f539a710a58 @level=0, @progname=nil, @default_formatter=#<Logger::Formatter:0x00007f539a713500 @datetime_format=nil>, @formatter=#<ActiveSupport::Logger::SimpleFormatter:0x00007f539a710a30 @datetime_format=nil, @thread_key="activesupport_tagged_logging_tags:16040">, @logdev=#<Logger::LogDevice:0x00007f539a7132f8 @shift_period_suffix="%Y%m%d", @shift_size=1048576, @shift_age=0, @filename="/home/ec2-user/environment/bookers2/log/test.log", @dev=#<File:/home/ec2-user/environment/bookers2/log/test.log>, @binmode=false, @reraise_write_errors=[], @skip_header=false, @mon_data=#<Monitor:0x00007f539a713280>, @mon_data_owner_object_id=5720>, @level_override={}>, "action_dispatch.backtrace_cleaner"=>#<Rails::BacktraceCleaner:0x00007f5394b8ba20 @silencers=[#<Proc:0x00007f5394b8b570 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/activesupport-6.1.7.10/lib/active_support/backtrace_cleaner.rb:100>, #<Proc:0x00007f5394b8b4f8 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/activesupport-6.1.7.10/lib/active_support/backtrace_cleaner.rb:104>, #<Proc:0x00007f5394b8b390 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/railties-6.1.7.10/lib/rails/backtrace_cleaner.rb:24>], @filters=[#<Proc:0x00007f5394b8b610 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/activesupport-6.1.7.10/lib/active_support/backtrace_cleaner.rb:96>, #<Proc:0x00007f5394b8b3e0 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/railties-6.1.7.10/lib/rails/backtrace_cleaner.rb:14>, #<Proc:0x00007f5394b8b3b8 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/railties-6.1.7.10/lib/rails/backtrace_cleaner.rb:17>], @root="/home/ec2-user/environment/bookers2/">, "action_dispatch.key_generator"=>#<ActiveSupport::CachingKeyGenerator:0x00007f53926fef40 @key_generator=#<ActiveSupport::KeyGenerator:0x00007f53926fef68 @secret="56780f8b2dd132be7b28464f1dade3e1e8bde229c07c1130d07eb6ae052df719b610aa3cfc71f373c27042c9c085aad6a950a0affa8072900179528d37d6cd20", @iterations=1000>, @cache_keys=#<Concurrent::Map:0x00007f53926feef0 entries=6 default_proc=nil>>, "action_dispatch.http_auth_salt"=>"http authentication", "action_dispatch.signed_cookie_salt"=>"signed cookie", "action_dispatch.encrypted_cookie_salt"=>"encrypted cookie", "action_dispatch.encrypted_signed_cookie_salt"=>"signed encrypted cookie", "action_dispatch.authenticated_encrypted_cookie_salt"=>"authenticated encrypted cookie", "action_dispatch.use_authenticated_cookie_encryption"=>true, "action_dispatch.encrypted_cookie_cipher"=>nil, "action_dispatch.signed_cookie_digest"=>nil, "action_dispatch.cookies_serializer"=>:json, "action_dispatch.cookies_digest"=>nil, "action_dispatch.cookies_rotations"=>#<ActiveSupport::Messages::RotationConfiguration:0x00007f539a72aa48 @signed=[], @encrypted=[]>, "action_dispatch.cookies_same_site_protection"=>#<Proc:0x00007f5398521a28 /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/railties-6.1.7.10/lib/rails/application.rb:636>, "action_dispatch.use_cookies_with_metadata"=>true, "action_dispatch.content_security_policy"=>nil, "action_dispatch.content_security_policy_report_only"=>false, "action_dispatch.content_security_policy_nonce_generator"=>nil, "action_dispatch.content_security_policy_nonce_directives"=>nil, "action_dispatch.permissions_policy"=>nil, "action_dispatch.routes"=>#<ActionDispatch::Routing::RouteSet:0x00007f53984228e8>, "ROUTES_12140_SCRIPT_NAME"=>"", "ORIGINAL_FULLPATH"=>"/books/1", "ORIGINAL_SCRIPT_NAME"=>"", "action_dispatch.request_id"=>"ad249c5b-7503-4bad-b5a5-f266a9e43fe3", "action_dispatch.remote_ip"=>#<ActionDispatch::RemoteIp::GetIp:0x00007f538b6bc570 @req=#<ActionDispatch::Request GET "http://www.example.com/books/1" for 127.0.0.1>, @check_ip=true, @proxies=[#<IPAddr: IPv4:127.0.0.0/255.0.0.0>, #<IPAddr: IPv6:0000:0000:0000:0000:0000:0000:0000:0001/ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff>, #<IPAddr: IPv6:fc00:0000:0000:0000:0000:0000:0000:0000/fe00:0000:0000:0000:0000:0000:0000:0000>, #<IPAddr: IPv4:10.0.0.0/255.0.0.0>, #<IPAddr: IPv4:172.16.0.0/255.240.0.0>, #<IPAddr: IPv4:192.168.0.0/255.255.0.0>], @ip="127.0.0.1">, "rack.session"=>#<ActionDispatch::Request::Session:0x00007f538b690740 @by=#<ActionDispatch::Session::CookieStore:0x00007f53983a0de8 @app=#<ActionDispatch::ContentSecurityPolicy::Middleware:0x00007f53983a0ed8 @app=#<ActionDispatch::PermissionsPolicy::Middleware:0x00007f53983a0f78 @app=#<Rack::Head:0x00007f53983a1018 @app=#<Rack::ConditionalGet:0x00007f53983a10b8 @app=#<Rack::ETag:0x00007f53983a11a8 @app=#<Rack::TempfileReaper:0x00007f53983a1248 @app=#<Warden::Manager:0x00007f53983a1518 @config={:default_scope=>:user, :scope_defaults=>{}, :default_strategies=>{:user=>[:rememberable, :database_authenticatable]}, :intercept_401=>false, :failure_app=>#<Devise::Delegator:0x00007f53920707c8>}, @app=#<ActionDispatch::Routing::RouteSet:0x00007f53984228e8>>>, @cache_control="max-age=0, private, must-revalidate", @no_cache_control="no-cache">>>>>, @default_options={:path=>"/", :domain=>nil, :expire_after=>nil, :secure=>false, :httponly=>true, :defer=>false, :renew=>false}, @key="_bookers2_session", @cookie_only=true, @same_site=nil>, @req=#<ActionDispatch::Request GET "http://www.example.com/books/1" for 127.0.0.1>, @delegate={"session_id"=>"e311a31cc3976ab4086aa9e9ce33de74", "warden.user.user.key"=>[[1], "$2a$04$yyDdJE4AA2SR5GLMvbyszu"]}, @loaded=true, @exists=true>, "rack.session.options"=>#<ActionDispatch::Request::Session::Options:0x00007f538b6906f0 @by=#<ActionDispatch::Session::CookieStore:0x00007f53983a0de8 @app=#<ActionDispatch::ContentSecurityPolicy::Middleware:0x00007f53983a0ed8 @app=#<ActionDispatch::PermissionsPolicy::Middleware:0x00007f53983a0f78 @app=#<Rack::Head:0x00007f53983a1018 @app=#<Rack::ConditionalGet:0x00007f53983a10b8 @app=#<Rack::ETag:0x00007f53983a11a8 @app=#<Rack::TempfileReaper:0x00007f53983a1248 @app=#<Warden::Manager:0x00007f53983a1518 @config={:default_scope=>:user, :scope_defaults=>{}, :default_strategies=>{:user=>[:rememberable, :database_authenticatable]}, :intercept_401=>false, :failure_app=>#<Devise::Delegator:0x00007f53920707c8>}, @app=#<ActionDispatch::Routing::RouteSet:0x00007f53984228e8>>>, @cache_control="max-age=0, private, must-revalidate", @no_cache_control="no-cache">>>>>, @default_options={:path=>"/", :domain=>nil, :expire_after=>nil, :secure=>false, :httponly=>true, :defer=>false, :renew=>false}, @key="_bookers2_session", @cookie_only=true, @same_site=nil>, @delegate={:path=>"/", :domain=>nil, :expire_after=>nil, :secure=>false, :httponly=>true, :defer=>false, :renew=>false, :id=>"e311a31cc3976ab4086aa9e9ce33de74"}>, "rack.tempfiles"=>[], "warden"=>Warden::Proxy:80680 @config={:default_scope=>:user, :scope_defaults=>{}, :default_strategies=>{:user=>[:rememberable, :database_authenticatable]}, :intercept_401=>false, :failure_app=>#<Devise::Delegator:0x00007f53920707c8>}, "action_dispatch.request.path_parameters"=>{:controller=>"books", :action=>"show", :id=>"1"}, "action_controller.instance"=>#<BooksController:0x00000000027678>, "action_dispatch.request.content_type"=>nil, "action_dispatch.request.request_parameters"=>{}, "rack.request.query_string"=>"", "rack.request.query_hash"=>{}, "action_dispatch.request.query_parameters"=>{}, "action_dispatch.request.parameters"=>{"controller"=>"books", "action"=>"show", "id"=>"1"}, "action_dispatch.request.formats"=>[#<Mime::Type:0x00007f5394b247f8 @synonyms=["application/xhtml+xml"], @symbol=:html, @string="text/html", @hash=585732271851187284>], "rack.request.cookie_hash"=>{"_bookers2_session"=>"buhDQZAH3VYRj+qre25PEQqq6f/N9fNyZeQCvrdVANpqBft6jw/MnAgrh1ZBhSFXuFewAQijnFQZJBM5gXj4pNqGx++t4PrwjVwFbnGiMPzOgQLKmvRHt5E1+/SuTdJRhMWgs7LjAX77PvD0txbCAYvbDuS2Z74NO91aA/tJKJxC6TwXjdk+50noKK2IYaCpXMNT6PDWVjNHjqavfJlCszPqh4oLkjK0JHIHuz7fOJg4s4f878BXvuhVyVsmbc77SEIZaIXlxNd9iffALHvhCo9Eb0Ut74Qi6g==--2M5r8M5+s+OYCwBv--v5HQ6cmOHSFAWEfi/A79pQ=="}, "rack.request.cookie_string"=>"_bookers2_session=buhDQZAH3VYRj%2Bqre25PEQqq6f%2FN9fNyZeQCvrdVANpqBft6jw%2FMnAgrh1ZBhSFXuFewAQijnFQZJBM5gXj4pNqGx%2B%2Bt4PrwjVwFbnGiMPzOgQLKmvRHt5E1%2B%2FSuTdJRhMWgs7LjAX77PvD0txbCAYvbDuS2Z74NO91aA%2FtJKJxC6TwXjdk%2B50noKK2IYaCpXMNT6PDWVjNHjqavfJlCszPqh4oLkjK0JHIHuz7fOJg4s4f878BXvuhVyVsmbc77SEIZaIXlxNd9iffALHvhCo9Eb0Ut74Qi6g%3D%3D--2M5r8M5%2Bs%2BOYCwBv--v5HQ6cmOHSFAWEfi%2FA79pQ%3D%3D", "action_dispatch.cookies"=>#<ActionDispatch::Cookies::CookieJar:0x00007f538b694138 @set_cookies={"_bookers2_session"=>{:value=>"OTOzZsUZvZ+yjcp4RgK24XHeiIzoOKwoOd/TqyLkiImu5jkG3FmsNFk9z/rPfjKXx9BVXs9g/7KPWfkyUzGz0n6iEGLHPSehY3zybWK2AIo5om13uFF67pYinJnHqbCEjcpXA9p2dYDI3m9kTNqYy47ueo2DLfcWH4fsnKwGdSlkBiPoEAcVzbpzWHoDiKRVFKxwpL61MCCN4EYjaVdSCYmbO6k0RhKf1GpMVJ3CUfOiLCiQLhQG9cwYIKTQYvBdLM/Hs7Pp31QlcHhafXPxELdwRQFhXD28yA==--Wd8O6aYRxbgwMRlo--OWN1+g6rodmQ9vW0KpEr9g==", :same_site=>:lax, :path=>"/", :domain=>nil, :expire_after=>nil, :secure=>false, :httponly=>true, :defer=>false, :renew=>false, :id=>"e311a31cc3976ab4086aa9e9ce33de74"}}, @delete_cookies={}, @request=#<ActionDispatch::Request GET "http://www.example.com/books/1" for 127.0.0.1>, @cookies={"_bookers2_session"=>"OTOzZsUZvZ+yjcp4RgK24XHeiIzoOKwoOd/TqyLkiImu5jkG3FmsNFk9z/rPfjKXx9BVXs9g/7KPWfkyUzGz0n6iEGLHPSehY3zybWK2AIo5om13uFF67pYinJnHqbCEjcpXA9p2dYDI3m9kTNqYy47ueo2DLfcWH4fsnKwGdSlkBiPoEAcVzbpzWHoDiKRVFKxwpL61MCCN4EYjaVdSCYmbO6k0RhKf1GpMVJ3CUfOiLCiQLhQG9cwYIKTQYvBdLM/Hs7Pp31QlcHhafXPxELdwRQFhXD28yA==--Wd8O6aYRxbgwMRlo--OWN1+g6rodmQ9vW0KpEr9g=="}, @committed=false, @encrypted=#<ActionDispatch::Cookies::EncryptedKeyRotatingCookieJar:0x00007f538b694070 @parent_jar=#<ActionDispatch::Cookies::CookieJar:0x00007f538b694138 ...>, @encryptor=#<ActiveSupport::MessageEncryptor:0x00007f538b69bf28 @secret="\xF3\xEE63({\xB7@\xF7&6\xEAD\xF1aA\xA5G\\f\xE87\xDE\v|\xC4\xC0\xB7\xD8\x90>\x02", @sign_secret=nil, @cipher="aes-256-gcm", @aead_mode=true, @verifier=ActiveSupport::MessageEncryptor::NullVerifier, @serializer=ActiveSupport::MessageEncryptor::NullSerializer, @options={:cipher=>"aes-256-gcm", :serializer=>ActiveSupport::MessageEncryptor::NullSerializer}, @rotations=[#<ActiveSupport::MessageEncryptor:0x00007f538b69b780 @secret="\xBD\xA6\xA8t\xD2\x97\xAF\xAB/\xAAs\xE0\xED\x9B?pQ\xB6\x94\xD3\xC2k#\x99?d\x89f\x95\xDC\xEB\x98", @sign_secret=":\x12A\x94}.4\x04\\\xC1\xE7\xC6\xB6\x87D\x12\vQ\x1E\x1F\r\x86M\xCE\xF0'@S\xB1b4\x9A\xD6\xBC\x8C\xAE\x8Ea[c\x9D\xC10\x1A=y\x05m\\\xD7\x06\r@:\xD3\xC3\xB4wi\x98\x88~1\xF2", @cipher="aes-256-cbc", @aead_mode=false, @verifier=#<ActiveSupport::MessageVerifier:0x00007f538b69b528 @secret=":\x12A\x94}.4\x04\\\xC1\xE7\xC6\xB6\x87D\x12\vQ\x1E\x1F\r\x86M\xCE\xF0'@S\xB1b4\x9A\xD6\xBC\x8C\xAE\x8Ea[c\x9D\xC10\x1A=y\x05m\\\xD7\x06\r@:\xD3\xC3\xB4wi\x98\x88~1\xF2", @digest="SHA1", @serializer=ActiveSupport::MessageEncryptor::NullSerializer, @options={:digest=>"SHA1", :serializer=>ActiveSupport::MessageEncryptor::NullSerializer}, @rotations=[], @on_rotation=nil>, @serializer=ActiveSupport::MessageEncryptor::NullSerializer, @options={:cipher=>"aes-256-cbc", :serializer=>ActiveSupport::MessageEncryptor::NullSerializer, :digest=>"SHA1"}, @rotations=[], @on_rotation=nil, @digest="SHA1">], @on_rotation=nil>>, @signed_or_encrypted=#<ActionDispatch::Cookies::EncryptedKeyRotatingCookieJar:0x00007f538b694070 @parent_jar=#<ActionDispatch::Cookies::CookieJar:0x00007f538b694138 ...>, @encryptor=#<ActiveSupport::MessageEncryptor:0x00007f538b69bf28 @secret="\xF3\xEE63({\xB7@\xF7&6\xEAD\xF1aA\xA5G\\f\xE87\xDE\v|\xC4\xC0\xB7\xD8\x90>\x02", @sign_secret=nil, @cipher="aes-256-gcm", @aead_mode=true, @verifier=ActiveSupport::MessageEncryptor::NullVerifier, @serializer=ActiveSupport::MessageEncryptor::NullSerializer, @options={:cipher=>"aes-256-gcm", :serializer=>ActiveSupport::MessageEncryptor::NullSerializer}, @rotations=[#<ActiveSupport::MessageEncryptor:0x00007f538b69b780 @secret="\xBD\xA6\xA8t\xD2\x97\xAF\xAB/\xAAs\xE0\xED\x9B?pQ\xB6\x94\xD3\xC2k#\x99?d\x89f\x95\xDC\xEB\x98", @sign_secret=":\x12A\x94}.4\x04\\\xC1\xE7\xC6\xB6\x87D\x12\vQ\x1E\x1F\r\x86M\xCE\xF0'@S\xB1b4\x9A\xD6\xBC\x8C\xAE\x8Ea[c\x9D\xC10\x1A=y\x05m\\\xD7\x06\r@:\xD3\xC3\xB4wi\x98\x88~1\xF2", @cipher="aes-256-cbc", @aead_mode=false, @verifier=#<ActiveSupport::MessageVerifier:0x00007f538b69b528 @secret=":\x12A\x94}.4\x04\\\xC1\xE7\xC6\xB6\x87D\x12\vQ\x1E\x1F\r\x86M\xCE\xF0'@S\xB1b4\x9A\xD6\xBC\x8C\xAE\x8Ea[c\x9D\xC10\x1A=y\x05m\\\xD7\x06\r@:\xD3\xC3\xB4wi\x98\x88~1\xF2", @digest="SHA1", @serializer=ActiveSupport::MessageEncryptor::NullSerializer, @options={:digest=>"SHA1", :serializer=>ActiveSupport::MessageEncryptor::NullSerializer}, @rotations=[], @on_rotation=nil>, @serializer=ActiveSupport::MessageEncryptor::NullSerializer, @options={:cipher=>"aes-256-cbc", :serializer=>ActiveSupport::MessageEncryptor::NullSerializer, :digest=>"SHA1"}, @rotations=[], @on_rotation=nil, @digest="SHA1">], @on_rotation=nil>>>, "action_dispatch.request.unsigned_session_cookie"=>{"session_id"=>"e311a31cc3976ab4086aa9e9ce33de74", "warden.user.user.key"=>[[1], "$2a$04$yyDdJE4AA2SR5GLMvbyszu"]}, "action_dispatch.request.flash_hash"=>#<ActionDispatch::Flash::FlashHash:0x00007f538b6a5ca8 @discard=#<Set: {}>, @flashes={}, @now=nil>}>, @last_response=#<Rack::MockResponse:0x00007f538b66f338 @original_headers={"X-Frame-Options"=>"SAMEORIGIN", "X-XSS-Protection"=>"1; mode=block", "X-Content-Type-Options"=>"nosniff", "X-Download-Options"=>"noopen", "X-Permitted-Cross-Domain-Policies"=>"none", "Referrer-Policy"=>"strict-origin-when-cross-origin", "Link"=>"</packs-test/js/application-0f8cf5d6e063f6e1d671.js>; rel=preload; as=script; nopush", "Content-Type"=>"text/html; charset=utf-8", "ETag"=>"W/\"454e8151a1d4cc1d4784569c4d96d3c3\"", "Cache-Control"=>"max-age=0, private, must-revalidate", "Set-Cookie"=>"_bookers2_session=OTOzZsUZvZ%2Byjcp4RgK24XHeiIzoOKwoOd%2FTqyLkiImu5jkG3FmsNFk9z%2FrPfjKXx9BVXs9g%2F7KPWfkyUzGz0n6iEGLHPSehY3zybWK2AIo5om13uFF67pYinJnHqbCEjcpXA9p2dYDI3m9kTNqYy47ueo2DLfcWH4fsnKwGdSlkBiPoEAcVzbpzWHoDiKRVFKxwpL61MCCN4EYjaVdSCYmbO6k0RhKf1GpMVJ3CUfOiLCiQLhQG9cwYIKTQYvBdLM%2FHs7Pp31QlcHhafXPxELdwRQFhXD28yA%3D%3D--Wd8O6aYRxbgwMRlo--OWN1%2Bg6rodmQ9vW0KpEr9g%3D%3D; path=/; HttpOnly; SameSite=Lax", "X-Request-Id"=>"ad249c5b-7503-4bad-b5a5-f266a9e43fe3", "X-Runtime"=>"0.023304", "Content-Length"=>"4185"}, @errors="", @cookies={"_bookers2_session"=>#<CGI::Cookie: "_bookers2_session=OTOzZsUZvZ%252Byjcp4RgK24XHeiIzoOKwoOd%252FTqyLkiImu5jkG3FmsNFk9z%252FrPfjKXx9BVXs9g%252F7KPWfkyUzGz0n6iEGLHPSehY3zybWK2AIo5om13uFF67pYinJnHqbCEjcpXA9p2dYDI3m9kTNqYy47ueo2DLfcWH4fsnKwGdSlkBiPoEAcVzbpzWHoDiKRVFKxwpL61MCCN4EYjaVdSCYmbO6k0RhKf1GpMVJ3CUfOiLCiQLhQG9cwYIKTQYvBdLM%252FHs7Pp31QlcHhafXPxELdwRQFhXD28yA%253D%253D--Wd8O6aYRxbgwMRlo--OWN1%252Bg6rodmQ9vW0KpEr9g%253D%253D; path=/">}, @status=200, @headers={"X-Frame-Options"=>"SAMEORIGIN", "X-XSS-Protection"=>"1; mode=block", "X-Content-Type-Options"=>"nosniff", "X-Download-Options"=>"noopen", "X-Permitted-Cross-Domain-Policies"=>"none", "Referrer-Policy"=>"strict-origin-when-cross-origin", "Link"=>"</packs-test/js/application-0f8cf5d6e063f6e1d671.js>; rel=preload; as=script; nopush", "Content-Type"=>"text/html; charset=utf-8", "ETag"=>"W/\"454e8151a1d4cc1d4784569c4d96d3c3\"", "Cache-Control"=>"max-age=0, private, must-revalidate", "Set-Cookie"=>"_bookers2_session=OTOzZsUZvZ%2Byjcp4RgK24XHeiIzoOKwoOd%2FTqyLkiImu5jkG3FmsNFk9z%2FrPfjKXx9BVXs9g%2F7KPWfkyUzGz0n6iEGLHPSehY3zybWK2AIo5om13uFF67pYinJnHqbCEjcpXA9p2dYDI3m9kTNqYy47ueo2DLfcWH4fsnKwGdSlkBiPoEAcVzbpzWHoDiKRVFKxwpL61MCCN4EYjaVdSCYmbO6k0RhKf1GpMVJ3CUfOiLCiQLhQG9cwYIKTQYvBdLM%2FHs7Pp31QlcHhafXPxELdwRQFhXD28yA%3D%3D--Wd8O6aYRxbgwMRlo--OWN1%2Bg6rodmQ9vW0KpEr9g%3D%3D; path=/; HttpOnly; SameSite=Lax", "X-Request-Id"=>"ad249c5b-7503-4bad-b5a5-f266a9e43fe3", "X-Runtime"=>"0.023304", "Content-Length"=>"4185"}, @writer=#<Method: Rack::MockResponse(Rack::Response::Helpers)#append(chunk) /home/ec2-user/.rbenv/versions/3.1.2/lib/ruby/gems/3.1.0/gems/rack-2.2.17/lib/rack/response.rb:287>, @block=nil, @body=["<!DOCTYPE html>\n<html>\n  <head>\n     <title>Bookers2</title>\n     <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n     \n     \n     <meta name=\"viewport\" content=\"width=device-width,initial-scale=1 maximum-scale=1\">\n     <script src=\"https://kit.fontawesome.com/4c018c7cce.js\" crossorigin=\"anonymous\"></script>\n     \n     <script src=\"/packs-test/js/application-0f8cf5d6e063f6e1d671.js\" data-turbolinks-track=\"reload\"></script>\n  </head>\n    \n  <body>\n   <div class=\"container-fluid bg-secondary\">\n     <div class=\"header row px-5 py-4\"\n       <div class=\"col-3 d-flex justify-content-strat\">\n        <a style=\"color: white;\" href=\"/\">Bookers</a>\n       </div>\n\n       <div class=\"col-6 offset-3 d-flex justify-content-end\">\n         <div class=\"d-flex\">\n\n            <a class=\"text-white mr-3\" href=\"/users/1\">\n              <i class=\"fa-solid fa-house\"></i>Home\n</a>            \n            <a class=\"text-white mr-3\" href=\"/users\">\n              <i class=\"fa-solid fa-users\"></i>Users\n</a>            <a class=\"text-white mr-3\" href=\"/books\">\n              <i class=\"fa-solid fa-book-open\"></i>Books\n</a>            <a class=\"text-white mr-3\" rel=\"nofollow\" data-method=\"delete\" href=\"/users/sign_out\">\n              <i class=\"fa-solid fa-right-from-bracket\"></i>Log out\n</a>       </div>\n     </div>\n   </div>\n   </div>\n    <h1 class=\"text-center my-4\">Book detail</h1>\n\n\n<div class=\"container\" >\n  <div class=\"row\">\n      <div class=\"col-md-3\">\n        <h1>User info</h1>\n      <img src=\"http://www.example.com/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--7738d9b7769be5ef85cfa1a257a5537036bb9239/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lKYW5CbFp3WTZCa1ZVT2hSeVpYTnBlbVZmZEc5ZmJHbHRhWFJiQjJscGFXaz0iLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--1562c9686354f09633a016ebcf585f3b62360468/profile_image.jpeg\" />\n      <hr>\n        <p>name: yqzv9tbokz</p>\n      <hr>\n        <p>introduction: i01ja1271ghul0o6w1nj</p>\n\n      <div class=\"col mt-5\">\n        <p><a class=\"btn btn-outline-dark btn-block\" href=\"/users/1/edit\">\n           <i class=\"fa-solid fa-user-gear\"></i>\n        </a></p>\n      </div>\n\n\n  <h1>New book</h1>\n  <form action=\"/books/1\" accept-charset=\"UTF-8\" method=\"post\">\n    <div class=\"field\">\n         <!-- f.label :title 入力する事でcode内では小文字でもサイト上では大文字になる。 -->\n      <label for=\"title\">Title</label><br>\n         <!--小さい文字入力出来るフィールドが出来る。-->\n      <input type=\"text\" name=\"title\" id=\"title\" />\n    </div>\n    <div class=\"field\">\n      <label for=\"opinion\">Opinion</label><br>\n      <textarea name=\"body\" id=\"body\">\n</textarea>\n    </div>\n    <div class=\"row ml-5\">\n      <input type=\"submit\" name=\"commit\" value=\"Creste Book\" class=\"btn btn-success\" data-disable-with=\"Creste Book\" />\n    </div>\n  </form>    \n      </div>\n       <div class=\"col-md-8 offset-md-1\">\n         <h1>Book detail</h1>\n         <table class=\"table\">\n         </tbody>\n           <tr>\n             <td>\n                 <a href=\"/users/1\">\n                   <img src=\"http://www.example.com/rails/active_storage/representations/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBCZz09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--7738d9b7769be5ef85cfa1a257a5537036bb9239/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaDdCem9MWm05eWJXRjBTU0lKYW5CbFp3WTZCa1ZVT2hSeVpYTnBlbVZmZEc5ZmJHbHRhWFJiQjJscGFXaz0iLCJleHAiOm51bGwsInB1ciI6InZhcmlhdGlvbiJ9fQ==--1562c9686354f09633a016ebcf585f3b62360468/profile_image.jpeg\" /><br>\n                   yqzv9tbokz\n</a>             </td>\n             <td><a href=\"/books/1\">yiqb0</a></td>\n             <td>g46b2zf6q6m0cdp5n5fq</td>\n               <td><a class=\"btn btn-success\" href=\"/books/1/edit\">Edit</a></td>\n               <td><a data-confirm=\"本当に消しますか？\" class=\"btn btn-danger\" rel=\"nofollow\" data-method=\"derete\" href=\"/books/1\">Destroy</a></td>\n           </tr>\n          </tbody>\n          </table>\n       </div>\n  </div>\n</div>\n      <footer style=\"text-align: center; margin-top: 50px;\">\n    <p>CopyRight Infratop.inc</p>\n  </footer>\n  </body>\n</html>"], @buffered=true, @length=4185>, @cookie_jar=#<Rack::Test::CookieJar:0x00007f538b7ded90 @default_host="www.example.com", @cookies=[#<Rack::Test::Cookie:0x00007f538b66e4d8 @default_host="www.example.com", @raw="_bookers2_session=OTOzZsUZvZ%2Byjcp4RgK24XHeiIzoOKwoOd%2FTqyLkiImu5jkG3FmsNFk9z%2FrPfjKXx9BVXs9g%2F7KPWfkyUzGz0n6iEGLHPSehY3zybWK2AIo5om13uFF67pYinJnHqbCEjcpXA9p2dYDI3m9kTNqYy47ueo2DLfcWH4fsnKwGdSlkBiPoEAcVzbpzWHoDiKRVFKxwpL61MCCN4EYjaVdSCYmbO6k0RhKf1GpMVJ3CUfOiLCiQLhQG9cwYIKTQYvBdLM%2FHs7Pp31QlcHhafXPxELdwRQFhXD28yA%3D%3D--Wd8O6aYRxbgwMRlo--OWN1%2Bg6rodmQ9vW0KpEr9g%3D%3D", @name="_bookers2_session", @value="OTOzZsUZvZ+yjcp4RgK24XHeiIzoOKwoOd/TqyLkiImu5jkG3FmsNFk9z/rPfjKXx9BVXs9g/7KPWfkyUzGz0n6iEGLHPSehY3zybWK2AIo5om13uFF67pYinJnHqbCEjcpXA9p2dYDI3m9kTNqYy47ueo2DLfcWH4fsnKwGdSlkBiPoEAcVzbpzWHoDiKRVFKxwpL61MCCN4EYjaVdSCYmbO6k0RhKf1GpMVJ3CUfOiLCiQLhQG9cwYIKTQYvBdLM/Hs7Pp31QlcHhafXPxELdwRQFhXD28yA==--Wd8O6aYRxbgwMRlo--OWN1+g6rodmQ9vW0KpEr9g==", @options={"path"=>"/", "httponly"=>nil, "samesite"=>"Lax", "domain"=>"www.example.com"}, @exact_domain_match=true>]>>>[0m
      [31m[0m
      [31m      send(method, new_uri.to_s, attributes, env.merge(options[:headers] || {}))[0m
      [31m      ^^^^[0m
      [31m  Did you mean?  delete[0m
      [36m# ./spec/system/02_after_login_spec.rb:201:in `block (4 levels) in <main>'[0m

  17) [STEP2] ユーザログイン後のテスト 自分の投稿編集画面のテスト 表示の確認 Showリンクが表示される
      [31mFailure/Error: expect(page).to have_link 'Show', href: book_path(book)[0m
      [31m  expected to find link "Show" with href "/books/1" but there were no matches[0m
      [36m# ./spec/system/02_after_login_spec.rb:234:in `block (4 levels) in <main>'[0m

  18) [STEP2] ユーザログイン後のテスト 自分の投稿編集画面のテスト 表示の確認 Backリンクが表示される
      [31mFailure/Error: expect(page).to have_link 'Back', href: books_path[0m
      [31m  expected to find link "Back" with href "/books" but there were no matches[0m
      [36m# ./spec/system/02_after_login_spec.rb:237:in `block (4 levels) in <main>'[0m

  19) [STEP2] ユーザログイン後のテスト 自分の投稿編集画面のテスト 編集成功のテスト titleが正しく更新される
      [31mFailure/Error: if @book.varid?[0m
      [31m[0m
      [31mNoMethodError:[0m
      [31m  undefined method `varid?' for #<Book id: 1, title: "b24e", body: "xgvwsin2eaiubb6os5k", user_id: 1, created_at: "2025-09-02 11:24:42.937670000 +0000", updated_at: "2025-09-02 11:24:42.937670000 +0000">[0m
      [31m  Did you mean?  valid?[0m
      [36m# ./app/controllers/books_controller.rb:57:in `update'[0m
      [36m# ./spec/system/02_after_login_spec.rb:247:in `block (4 levels) in <main>'[0m

  20) [STEP2] ユーザログイン後のテスト 自分の投稿編集画面のテスト 編集成功のテスト bodyが正しく更新される
      [31mFailure/Error: if @book.varid?[0m
      [31m[0m
      [31mNoMethodError:[0m
      [31m  undefined method `varid?' for #<Book id: 1, title: "05u7", body: "1eoczncpg5ke1ddob6o", user_id: 1, created_at: "2025-09-02 11:24:43.113132000 +0000", updated_at: "2025-09-02 11:24:43.113132000 +0000">[0m
      [31m  Did you mean?  valid?[0m
      [36m# ./app/controllers/books_controller.rb:57:in `update'[0m
      [36m# ./spec/system/02_after_login_spec.rb:247:in `block (4 levels) in <main>'[0m

  21) [STEP2] ユーザログイン後のテスト 自分の投稿編集画面のテスト 編集成功のテスト リダイレクト先が、更新した投稿の詳細画面になっている
      [31mFailure/Error: if @book.varid?[0m
      [31m[0m
      [31mNoMethodError:[0m
      [31m  undefined method `varid?' for #<Book id: 1, title: "exk9", body: "43kp19euklxu64n8x74", user_id: 1, created_at: "2025-09-02 11:24:43.277150000 +0000", updated_at: "2025-09-02 11:24:43.277150000 +0000">[0m
      [31m  Did you mean?  valid?[0m
      [36m# ./app/controllers/books_controller.rb:57:in `update'[0m
      [36m# ./spec/system/02_after_login_spec.rb:247:in `block (4 levels) in <main>'[0m

  22) [STEP2] ユーザログイン後のテスト ユーザ一覧画面のテスト 表示内容の確認 自分と他人の画像が表示される: fallbackの画像がサイドバーの1つ＋一覧(2人)の2つの計3つ存在する
      [31mFailure/Error: expect(all('img').size).to eq(3)[0m
      [31m[0m
      [31m  expected: 3[0m
      [31m       got: 1[0m
      [31m[0m
      [31m  (compared using ==)[0m
      [36m# ./spec/system/02_after_login_spec.rb:273:in `block (4 levels) in <main>'[0m

  23) [STEP2] ユーザログイン後のテスト ユーザ一覧画面のテスト 表示内容の確認 自分と他人のshowリンクがそれぞれ表示される
      [31mFailure/Error: expect(page).to have_link 'Show', href: user_path(user)[0m
      [31m  expected to find link "Show" with href "/users/1" but there were no matches[0m
      [36m# ./spec/system/02_after_login_spec.rb:280:in `block (4 levels) in <main>'[0m

  24) [STEP2] ユーザログイン後のテスト ユーザ一覧画面のテスト サイドバーの確認 titleフォームが表示される
      [31mFailure/Error: expect(page).to have_field 'book[title]'[0m
      [31m  expected to find field "book[title]" that is not disabled but there were no matches[0m
      [36m# ./spec/system/02_after_login_spec.rb:297:in `block (4 levels) in <main>'[0m

  25) [STEP2] ユーザログイン後のテスト ユーザ一覧画面のテスト サイドバーの確認 titleフォームに値が入っていない
      [31mFailure/Error: expect(find_field('book[title]').text).to be_blank[0m
      [31m[0m
      [31mCapybara::ElementNotFound:[0m
      [31m  Unable to find field "book[title]" that is not disabled[0m
      [36m# ./spec/system/02_after_login_spec.rb:300:in `block (4 levels) in <main>'[0m

  26) [STEP2] ユーザログイン後のテスト ユーザ一覧画面のテスト サイドバーの確認 bodyフォームが表示される
      [31mFailure/Error: expect(page).to have_field 'book[body]'[0m
      [31m  expected to find field "book[body]" that is not disabled but there were no matches[0m
      [36m# ./spec/system/02_after_login_spec.rb:303:in `block (4 levels) in <main>'[0m

  27) [STEP2] ユーザログイン後のテスト ユーザ一覧画面のテスト サイドバーの確認 bodyフォームに値が入っていない
      [31mFailure/Error: expect(find_field('book[body]').text).to be_blank[0m
      [31m[0m
      [31mCapybara::ElementNotFound:[0m
      [31m  Unable to find field "book[body]" that is not disabled[0m
      [36m# ./spec/system/02_after_login_spec.rb:306:in `block (4 levels) in <main>'[0m

  28) [STEP2] ユーザログイン後のテスト ユーザ一覧画面のテスト サイドバーの確認 Create Bookボタンが表示される
      [31mFailure/Error: expect(page).to have_button 'Create Book'[0m
      [31m  expected to find button "Create Book" that is not disabled but there were no matches[0m
      [36m# ./spec/system/02_after_login_spec.rb:309:in `block (4 levels) in <main>'[0m

  29) [STEP2] ユーザログイン後のテスト 自分のユーザ詳細画面のテスト サイドバーの確認 titleフォームが表示される
      [31mFailure/Error: expect(page).to have_field 'book[title]'[0m
      [31m  expected to find field "book[title]" that is not disabled but there were no matches[0m
      [36m# ./spec/system/02_after_login_spec.rb:351:in `block (4 levels) in <main>'[0m

  30) [STEP2] ユーザログイン後のテスト 自分のユーザ詳細画面のテスト サイドバーの確認 titleフォームに値が入っていない
      [31mFailure/Error: expect(find_field('book[title]').text).to be_blank[0m
      [31m[0m
      [31mCapybara::ElementNotFound:[0m
      [31m  Unable to find field "book[title]" that is not disabled[0m
      [36m# ./spec/system/02_after_login_spec.rb:354:in `block (4 levels) in <main>'[0m

  31) [STEP2] ユーザログイン後のテスト 自分のユーザ詳細画面のテスト サイドバーの確認 bodyフォームが表示される
      [31mFailure/Error: expect(page).to have_field 'book[body]'[0m
      [31m  expected to find field "book[body]" that is not disabled but there were no matches[0m
      [36m# ./spec/system/02_after_login_spec.rb:357:in `block (4 levels) in <main>'[0m

  32) [STEP2] ユーザログイン後のテスト 自分のユーザ詳細画面のテスト サイドバーの確認 bodyフォームに値が入っていない
      [31mFailure/Error: expect(find_field('book[body]').text).to be_blank[0m
      [31m[0m
      [31mCapybara::ElementNotFound:[0m
      [31m  Unable to find field "book[body]" that is not disabled[0m
      [36m# ./spec/system/02_after_login_spec.rb:360:in `block (4 levels) in <main>'[0m

  33) [STEP2] ユーザログイン後のテスト 自分のユーザ詳細画面のテスト サイドバーの確認 Create Bookボタンが表示される
      [31mFailure/Error: expect(page).to have_button 'Create Book'[0m
      [31m  expected to find button "Create Book" that is not disabled but there were no matches[0m
      [36m# ./spec/system/02_after_login_spec.rb:363:in `block (4 levels) in <main>'[0m

  34) [STEP2] ユーザログイン後のテスト 自分のユーザ情報編集画面のテスト 更新成功のテスト nameが正しく更新される
      [31mFailure/Error: fiash[:notice] = "You have update user successfully"[0m
      [31m[0m
      [31mNameError:[0m
      [31m  undefined local variable or method `fiash' for #<UsersController:0x00000000019c80>[0m
      [31m[0m
      [31m        fiash[:notice] = "You have update user successfully"[0m
      [31m        ^^^^^[0m
      [31m  Did you mean?  flash[0m
      [36m# ./app/controllers/users_controller.rb:54:in `update'[0m
      [36m# ./spec/system/02_after_login_spec.rb:398:in `block (4 levels) in <main>'[0m

  35) [STEP2] ユーザログイン後のテスト 自分のユーザ情報編集画面のテスト 更新成功のテスト introductionが正しく更新される
      [31mFailure/Error: fiash[:notice] = "You have update user successfully"[0m
      [31m[0m
      [31mNameError:[0m
      [31m  undefined local variable or method `fiash' for #<UsersController:0x00000000019f78>[0m
      [31m[0m
      [31m        fiash[:notice] = "You have update user successfully"[0m
      [31m        ^^^^^[0m
      [31m  Did you mean?  flash[0m
      [36m# ./app/controllers/users_controller.rb:54:in `update'[0m
      [36m# ./spec/system/02_after_login_spec.rb:398:in `block (4 levels) in <main>'[0m

  36) [STEP2] ユーザログイン後のテスト 自分のユーザ情報編集画面のテスト 更新成功のテスト リダイレクト先が、自分のユーザ詳細画面になっている
      [31mFailure/Error: fiash[:notice] = "You have update user successfully"[0m
      [31m[0m
      [31mNameError:[0m
      [31m  undefined local variable or method `fiash' for #<UsersController:0x0000000001a270>[0m
      [31m[0m
      [31m        fiash[:notice] = "You have update user successfully"[0m
      [31m        ^^^^^[0m
      [31m  Did you mean?  flash[0m
      [36m# ./app/controllers/users_controller.rb:54:in `update'[0m
      [36m# ./spec/system/02_after_login_spec.rb:398:in `block (4 levels) in <main>'[0m

  37) [STEP3] 仕上げのテスト サクセスメッセージのテスト ユーザのプロフィール情報更新成功時
      [31mFailure/Error: fiash[:notice] = "You have update user successfully"[0m
      [31m[0m
      [31mNameError:[0m
      [31m  undefined local variable or method `fiash' for #<UsersController:0x0000000001ac98>[0m
      [31m[0m
      [31m        fiash[:notice] = "You have update user successfully"[0m
      [31m        ^^^^^[0m
      [31m  Did you mean?  flash[0m
      [36m# ./app/controllers/users_controller.rb:54:in `update'[0m
      [36m# ./spec/system/03_finishing_touches_spec.rb:44:in `block (3 levels) in <main>'[0m

  38) [STEP3] 仕上げのテスト サクセスメッセージのテスト 投稿データの新規投稿成功時: 投稿一覧画面から行います。
      [31mFailure/Error: fill_in 'book[title]', with: Faker::Lorem.characters(number: 5)[0m
      [31m[0m
      [31mCapybara::ElementNotFound:[0m
      [31m  Unable to find field "book[title]" that is not disabled[0m
      [36m# ./spec/system/03_finishing_touches_spec.rb:53:in `block (3 levels) in <main>'[0m

  39) [STEP3] 仕上げのテスト サクセスメッセージのテスト 投稿データの更新成功時
      [31mFailure/Error: if @book.varid?[0m
      [31m[0m
      [31mNoMethodError:[0m
      [31m  undefined method `varid?' for #<Book id: 1, title: "xpdan", body: "qgfsu6vf17v10wq2d2gv", user_id: 1, created_at: "2025-09-02 11:24:49.532984000 +0000", updated_at: "2025-09-02 11:24:49.532984000 +0000">[0m
      [31m  Did you mean?  valid?[0m
      [36m# ./app/controllers/books_controller.rb:57:in `update'[0m
      [36m# ./spec/system/03_finishing_touches_spec.rb:64:in `block (3 levels) in <main>'[0m

  40) [STEP3] 仕上げのテスト 処理失敗時のテスト ユーザのプロフィール情報編集失敗: nameを1文字にする 更新されない
      [31mFailure/Error: <% @user.errors.full.massages.each do |massages| %>[0m
      [31m[0m
      [31mActionView::Template::Error:[0m
      [31m  undefined method `full' for #<ActiveModel::Errors:0x00007f538b9389c0 @base=#<User id: 1, email: "kathryn.kohler@cummerata.test", name: "k", introduction: "yatbwedvfp9rrirwt2jd", created_at: "2025-09-02 11:24:49.986621000 +0000", updated_at: "2025-09-02 11:24:49.997044000 +0000">, @errors=[#<ActiveModel::Error attribute=name, type=too_short, options={:count=>2}>]>[0m
      [36m# ./app/views/users/edit.html.erb:5:in `_app_views_users_edit_html_erb___1896984500149912382_19100'[0m
      [36m# ./app/controllers/users_controller.rb:57:in `update'[0m
      [36m# ./spec/system/03_finishing_touches_spec.rb:106:in `block (4 levels) in <main>'[0m
      [36m# ------------------[0m
      [36m# --- Caused by: ---[0m
      [36m# NoMethodError:[0m
      [36m#   undefined method `full' for #<ActiveModel::Errors:0x00007f538b9389c0 @base=#<User id: 1, email: "kathryn.kohler@cummerata.test", name: "k", introduction: "yatbwedvfp9rrirwt2jd", created_at: "2025-09-02 11:24:49.986621000 +0000", updated_at: "2025-09-02 11:24:49.997044000 +0000">, @errors=[#<ActiveModel::Error attribute=name, type=too_short, options={:count=>2}>]>[0m
      [36m#   ./app/views/users/edit.html.erb:5:in `_app_views_users_edit_html_erb___1896984500149912382_19100'[0m

  41) [STEP3] 仕上げのテスト 処理失敗時のテスト ユーザのプロフィール情報編集失敗: nameを1文字にする ユーザ編集画面を表示しており、フォームの内容が正しい
      [31mFailure/Error: <% @user.errors.full.massages.each do |massages| %>[0m
      [31m[0m
      [31mActionView::Template::Error:[0m
      [31m  undefined method `full' for #<ActiveModel::Errors:0x00007f5391aa1fb8 @base=#<User id: 1, email: "stuart.kuhn@cummerata-lakin.example", name: "e", introduction: "a9uqnvzshevq0jlal3jl", created_at: "2025-09-02 11:24:50.154951000 +0000", updated_at: "2025-09-02 11:24:50.166002000 +0000">, @errors=[#<ActiveModel::Error attribute=name, type=too_short, options={:count=>2}>]>[0m
      [36m# ./app/views/users/edit.html.erb:5:in `_app_views_users_edit_html_erb___1896984500149912382_19100'[0m
      [36m# ./app/controllers/users_controller.rb:57:in `update'[0m
      [36m# ./spec/system/03_finishing_touches_spec.rb:106:in `block (4 levels) in <main>'[0m
      [36m# ------------------[0m
      [36m# --- Caused by: ---[0m
      [36m# NoMethodError:[0m
      [36m#   undefined method `full' for #<ActiveModel::Errors:0x00007f5391aa1fb8 @base=#<User id: 1, email: "stuart.kuhn@cummerata-lakin.example", name: "e", introduction: "a9uqnvzshevq0jlal3jl", created_at: "2025-09-02 11:24:50.154951000 +0000", updated_at: "2025-09-02 11:24:50.166002000 +0000">, @errors=[#<ActiveModel::Error attribute=name, type=too_short, options={:count=>2}>]>[0m
      [36m#   ./app/views/users/edit.html.erb:5:in `_app_views_users_edit_html_erb___1896984500149912382_19100'[0m

  42) [STEP3] 仕上げのテスト 処理失敗時のテスト ユーザのプロフィール情報編集失敗: nameを1文字にする バリデーションエラーが表示される
      [31mFailure/Error: <% @user.errors.full.massages.each do |massages| %>[0m
      [31m[0m
      [31mActionView::Template::Error:[0m
      [31m  undefined method `full' for #<ActiveModel::Errors:0x00007f538bbfe268 @base=#<User id: 1, email: "willetta.ritchie@hackett.test", name: "w", introduction: "98zanf4rlpl4etjv3vov", created_at: "2025-09-02 11:24:50.320040000 +0000", updated_at: "2025-09-02 11:24:50.331023000 +0000">, @errors=[#<ActiveModel::Error attribute=name, type=too_short, options={:count=>2}>]>[0m
      [36m# ./app/views/users/edit.html.erb:5:in `_app_views_users_edit_html_erb___1896984500149912382_19100'[0m
      [36m# ./app/controllers/users_controller.rb:57:in `update'[0m
      [36m# ./spec/system/03_finishing_touches_spec.rb:106:in `block (4 levels) in <main>'[0m
      [36m# ------------------[0m
      [36m# --- Caused by: ---[0m
      [36m# NoMethodError:[0m
      [36m#   undefined method `full' for #<ActiveModel::Errors:0x00007f538bbfe268 @base=#<User id: 1, email: "willetta.ritchie@hackett.test", name: "w", introduction: "98zanf4rlpl4etjv3vov", created_at: "2025-09-02 11:24:50.320040000 +0000", updated_at: "2025-09-02 11:24:50.331023000 +0000">, @errors=[#<ActiveModel::Error attribute=name, type=too_short, options={:count=>2}>]>[0m
      [36m#   ./app/views/users/edit.html.erb:5:in `_app_views_users_edit_html_erb___1896984500149912382_19100'[0m

  43) [STEP3] 仕上げのテスト 処理失敗時のテスト 投稿データの新規投稿失敗: 投稿一覧画面から行い、titleを空にする 投稿が保存されない
      [31mFailure/Error: fill_in 'book[body]', with: @body[0m
      [31m[0m
      [31mCapybara::ElementNotFound:[0m
      [31m  Unable to find field "book[body]" that is not disabled[0m
      [36m# ./spec/system/03_finishing_touches_spec.rb:128:in `block (4 levels) in <main>'[0m

  44) [STEP3] 仕上げのテスト 処理失敗時のテスト 投稿データの新規投稿失敗: 投稿一覧画面から行い、titleを空にする 投稿一覧画面を表示している
      [31mFailure/Error: fill_in 'book[body]', with: @body[0m
      [31m[0m
      [31mCapybara::ElementNotFound:[0m
      [31m  Unable to find field "book[body]" that is not disabled[0m
      [36m# ./spec/system/03_finishing_touches_spec.rb:128:in `block (4 levels) in <main>'[0m

  45) [STEP3] 仕上げのテスト 処理失敗時のテスト 投稿データの新規投稿失敗: 投稿一覧画面から行い、titleを空にする 新規投稿フォームの内容が正しい
      [31mFailure/Error: fill_in 'book[body]', with: @body[0m
      [31m[0m
      [31mCapybara::ElementNotFound:[0m
      [31m  Unable to find field "book[body]" that is not disabled[0m
      [36m# ./spec/system/03_finishing_touches_spec.rb:128:in `block (4 levels) in <main>'[0m

  46) [STEP3] 仕上げのテスト 処理失敗時のテスト 投稿データの新規投稿失敗: 投稿一覧画面から行い、titleを空にする バリデーションエラーが表示される
      [31mFailure/Error: fill_in 'book[body]', with: @body[0m
      [31m[0m
      [31mCapybara::ElementNotFound:[0m
      [31m  Unable to find field "book[body]" that is not disabled[0m
      [36m# ./spec/system/03_finishing_touches_spec.rb:128:in `block (4 levels) in <main>'[0m

  47) [STEP3] 仕上げのテスト 処理失敗時のテスト 投稿データの更新失敗: titleを空にする 投稿が更新されない
      [31mFailure/Error: if @book.varid?[0m
      [31m[0m
      [31mNoMethodError:[0m
      [31m  undefined method `varid?' for #<Book id: 1, title: "", body: "uc6dfrl5x1bu64wre3zr", user_id: 1, created_at: "2025-09-02 11:24:51.392348000 +0000", updated_at: "2025-09-02 11:24:51.392348000 +0000">[0m
      [31m  Did you mean?  valid?[0m
      [36m# ./app/controllers/books_controller.rb:57:in `update'[0m
      [36m# ./spec/system/03_finishing_touches_spec.rb:159:in `block (4 levels) in <main>'[0m

  48) [STEP3] 仕上げのテスト 処理失敗時のテスト 投稿データの更新失敗: titleを空にする 投稿編集画面を表示しており、フォームの内容が正しい
      [31mFailure/Error: if @book.varid?[0m
      [31m[0m
      [31mNoMethodError:[0m
      [31m  undefined method `varid?' for #<Book id: 1, title: "", body: "gaeryf7tepdt0wj5ud10", user_id: 1, created_at: "2025-09-02 11:24:51.566381000 +0000", updated_at: "2025-09-02 11:24:51.566381000 +0000">[0m
      [31m  Did you mean?  valid?[0m
      [36m# ./app/controllers/books_controller.rb:57:in `update'[0m
      [36m# ./spec/system/03_finishing_touches_spec.rb:159:in `block (4 levels) in <main>'[0m

  49) [STEP3] 仕上げのテスト 処理失敗時のテスト 投稿データの更新失敗: titleを空にする エラーメッセージが表示される
      [31mFailure/Error: if @book.varid?[0m
      [31m[0m
      [31mNoMethodError:[0m
      [31m  undefined method `varid?' for #<Book id: 1, title: "", body: "jelgi8we6hyayezyunyv", user_id: 1, created_at: "2025-09-02 11:24:51.731184000 +0000", updated_at: "2025-09-02 11:24:51.731184000 +0000">[0m
      [31m  Did you mean?  valid?[0m
      [36m# ./app/controllers/books_controller.rb:57:in `update'[0m
      [36m# ./spec/system/03_finishing_touches_spec.rb:159:in `block (4 levels) in <main>'[0m

  50) [STEP3] 仕上げのテスト 他人の画面のテスト 他人の投稿編集画面 遷移できず、投稿一覧画面にリダイレクトされる
      [31mFailure/Error: expect(current_path).to eq '/books'[0m
      [31m[0m
      [31m  expected: "/books"[0m
      [31m       got: "/books/3"[0m
      [31m[0m
      [31m  (compared using ==)[0m
      [36m# ./spec/system/03_finishing_touches_spec.rb:269:in `block (4 levels) in <main>'[0m

  51) [STEP3] 仕上げのテスト グリッドシステムのテスト: container, row, col-md-〇を正しく使えている ユーザ一覧画面
      [31mFailure/Error: is_expected.to have_selector '.container .row .col-md-8.offset-md-1'[0m
      [31m  expected to find css ".container .row .col-md-8.offset-md-1" but there were no matches[0m
      [36m# ./spec/system/03_finishing_touches_spec.rb:336:in `block (3 levels) in <main>'[0m

Finished in 26.26 seconds (files took 1.22 seconds to load)
[31m201 examples, 51 failures[0m

Failed examples:

[31mrspec ./spec/system/02_after_login_spec.rb:75[0m [36m# [STEP2] ユーザログイン後のテスト 投稿一覧画面のテスト サイドバーの確認 titleフォームが表示される[0m
[31mrspec ./spec/system/02_after_login_spec.rb:78[0m [36m# [STEP2] ユーザログイン後のテスト 投稿一覧画面のテスト サイドバーの確認 titleフォームに値が入っていない[0m
[31mrspec ./spec/system/02_after_login_spec.rb:81[0m [36m# [STEP2] ユーザログイン後のテスト 投稿一覧画面のテスト サイドバーの確認 bodyフォームが表示される[0m
[31mrspec ./spec/system/02_after_login_spec.rb:84[0m [36m# [STEP2] ユーザログイン後のテスト 投稿一覧画面のテスト サイドバーの確認 bodyフォームに値が入っていない[0m
[31mrspec ./spec/system/02_after_login_spec.rb:87[0m [36m# [STEP2] ユーザログイン後のテスト 投稿一覧画面のテスト サイドバーの確認 Create Bookボタンが表示される[0m
[31mrspec ./spec/system/02_after_login_spec.rb:98[0m [36m# [STEP2] ユーザログイン後のテスト 投稿一覧画面のテスト 投稿成功のテスト 自分の新しい投稿が正しく保存される[0m
[31mrspec ./spec/system/02_after_login_spec.rb:101[0m [36m# [STEP2] ユーザログイン後のテスト 投稿一覧画面のテスト 投稿成功のテスト リダイレクト先が、保存できた投稿の詳細画面になっている[0m
[31mrspec ./spec/system/02_after_login_spec.rb:148[0m [36m# [STEP2] ユーザログイン後のテスト 自分の投稿詳細画面のテスト サイドバーの確認 titleフォームが表示される[0m
[31mrspec ./spec/system/02_after_login_spec.rb:151[0m [36m# [STEP2] ユーザログイン後のテスト 自分の投稿詳細画面のテスト サイドバーの確認 titleフォームに値が入っていない[0m
[31mrspec ./spec/system/02_after_login_spec.rb:154[0m [36m# [STEP2] ユーザログイン後のテスト 自分の投稿詳細画面のテスト サイドバーの確認 bodyフォームが表示される[0m
[31mrspec ./spec/system/02_after_login_spec.rb:157[0m [36m# [STEP2] ユーザログイン後のテスト 自分の投稿詳細画面のテスト サイドバーの確認 bodyフォームに値が入っていない[0m
[31mrspec ./spec/system/02_after_login_spec.rb:160[0m [36m# [STEP2] ユーザログイン後のテスト 自分の投稿詳細画面のテスト サイドバーの確認 Create Bookボタンが表示される[0m
[31mrspec ./spec/system/02_after_login_spec.rb:171[0m [36m# [STEP2] ユーザログイン後のテスト 自分の投稿詳細画面のテスト 投稿成功のテスト 自分の新しい投稿が正しく保存される[0m
[31mrspec ./spec/system/02_after_login_spec.rb:189[0m [36m# [STEP2] ユーザログイン後のテスト 自分の投稿詳細画面のテスト 削除リンクのテスト application.html.erbにjavascript_pack_tagを含んでいる[0m
[31mrspec ./spec/system/02_after_login_spec.rb:203[0m [36m# [STEP2] ユーザログイン後のテスト 自分の投稿詳細画面のテスト 削除リンクのテスト 正しく削除される[0m
[31mrspec ./spec/system/02_after_login_spec.rb:206[0m [36m# [STEP2] ユーザログイン後のテスト 自分の投稿詳細画面のテスト 削除リンクのテスト リダイレクト先が、投稿一覧画面になっている[0m
[31mrspec ./spec/system/02_after_login_spec.rb:233[0m [36m# [STEP2] ユーザログイン後のテスト 自分の投稿編集画面のテスト 表示の確認 Showリンクが表示される[0m
[31mrspec ./spec/system/02_after_login_spec.rb:236[0m [36m# [STEP2] ユーザログイン後のテスト 自分の投稿編集画面のテスト 表示の確認 Backリンクが表示される[0m
[31mrspec ./spec/system/02_after_login_spec.rb:250[0m [36m# [STEP2] ユーザログイン後のテスト 自分の投稿編集画面のテスト 編集成功のテスト titleが正しく更新される[0m
[31mrspec ./spec/system/02_after_login_spec.rb:253[0m [36m# [STEP2] ユーザログイン後のテスト 自分の投稿編集画面のテスト 編集成功のテスト bodyが正しく更新される[0m
[31mrspec ./spec/system/02_after_login_spec.rb:256[0m [36m# [STEP2] ユーザログイン後のテスト 自分の投稿編集画面のテスト 編集成功のテスト リダイレクト先が、更新した投稿の詳細画面になっている[0m
[31mrspec ./spec/system/02_after_login_spec.rb:272[0m [36m# [STEP2] ユーザログイン後のテスト ユーザ一覧画面のテスト 表示内容の確認 自分と他人の画像が表示される: fallbackの画像がサイドバーの1つ＋一覧(2人)の2つの計3つ存在する[0m
[31mrspec ./spec/system/02_after_login_spec.rb:279[0m [36m# [STEP2] ユーザログイン後のテスト ユーザ一覧画面のテスト 表示内容の確認 自分と他人のshowリンクがそれぞれ表示される[0m
[31mrspec ./spec/system/02_after_login_spec.rb:296[0m [36m# [STEP2] ユーザログイン後のテスト ユーザ一覧画面のテスト サイドバーの確認 titleフォームが表示される[0m
[31mrspec ./spec/system/02_after_login_spec.rb:299[0m [36m# [STEP2] ユーザログイン後のテスト ユーザ一覧画面のテスト サイドバーの確認 titleフォームに値が入っていない[0m
[31mrspec ./spec/system/02_after_login_spec.rb:302[0m [36m# [STEP2] ユーザログイン後のテスト ユーザ一覧画面のテスト サイドバーの確認 bodyフォームが表示される[0m
[31mrspec ./spec/system/02_after_login_spec.rb:305[0m [36m# [STEP2] ユーザログイン後のテスト ユーザ一覧画面のテスト サイドバーの確認 bodyフォームに値が入っていない[0m
[31mrspec ./spec/system/02_after_login_spec.rb:308[0m [36m# [STEP2] ユーザログイン後のテスト ユーザ一覧画面のテスト サイドバーの確認 Create Bookボタンが表示される[0m
[31mrspec ./spec/system/02_after_login_spec.rb:350[0m [36m# [STEP2] ユーザログイン後のテスト 自分のユーザ詳細画面のテスト サイドバーの確認 titleフォームが表示される[0m
[31mrspec ./spec/system/02_after_login_spec.rb:353[0m [36m# [STEP2] ユーザログイン後のテスト 自分のユーザ詳細画面のテスト サイドバーの確認 titleフォームに値が入っていない[0m
[31mrspec ./spec/system/02_after_login_spec.rb:356[0m [36m# [STEP2] ユーザログイン後のテスト 自分のユーザ詳細画面のテスト サイドバーの確認 bodyフォームが表示される[0m
[31mrspec ./spec/system/02_after_login_spec.rb:359[0m [36m# [STEP2] ユーザログイン後のテスト 自分のユーザ詳細画面のテスト サイドバーの確認 bodyフォームに値が入っていない[0m
[31mrspec ./spec/system/02_after_login_spec.rb:362[0m [36m# [STEP2] ユーザログイン後のテスト 自分のユーザ詳細画面のテスト サイドバーの確認 Create Bookボタンが表示される[0m
[31mrspec ./spec/system/02_after_login_spec.rb:402[0m [36m# [STEP2] ユーザログイン後のテスト 自分のユーザ情報編集画面のテスト 更新成功のテスト nameが正しく更新される[0m
[31mrspec ./spec/system/02_after_login_spec.rb:405[0m [36m# [STEP2] ユーザログイン後のテスト 自分のユーザ情報編集画面のテスト 更新成功のテスト introductionが正しく更新される[0m
[31mrspec ./spec/system/02_after_login_spec.rb:408[0m [36m# [STEP2] ユーザログイン後のテスト 自分のユーザ情報編集画面のテスト 更新成功のテスト リダイレクト先が、自分のユーザ詳細画面になっている[0m
[31mrspec ./spec/system/03_finishing_touches_spec.rb:38[0m [36m# [STEP3] 仕上げのテスト サクセスメッセージのテスト ユーザのプロフィール情報更新成功時[0m
[31mrspec ./spec/system/03_finishing_touches_spec.rb:47[0m [36m# [STEP3] 仕上げのテスト サクセスメッセージのテスト 投稿データの新規投稿成功時: 投稿一覧画面から行います。[0m
[31mrspec ./spec/system/03_finishing_touches_spec.rb:58[0m [36m# [STEP3] 仕上げのテスト サクセスメッセージのテスト 投稿データの更新成功時[0m
[31mrspec ./spec/system/03_finishing_touches_spec.rb:109[0m [36m# [STEP3] 仕上げのテスト 処理失敗時のテスト ユーザのプロフィール情報編集失敗: nameを1文字にする 更新されない[0m
[31mrspec ./spec/system/03_finishing_touches_spec.rb:112[0m [36m# [STEP3] 仕上げのテスト 処理失敗時のテスト ユーザのプロフィール情報編集失敗: nameを1文字にする ユーザ編集画面を表示しており、フォームの内容が正しい[0m
[31mrspec ./spec/system/03_finishing_touches_spec.rb:115[0m [36m# [STEP3] 仕上げのテスト 処理失敗時のテスト ユーザのプロフィール情報編集失敗: nameを1文字にする バリデーションエラーが表示される[0m
[31mrspec ./spec/system/03_finishing_touches_spec.rb:131[0m [36m# [STEP3] 仕上げのテスト 処理失敗時のテスト 投稿データの新規投稿失敗: 投稿一覧画面から行い、titleを空にする 投稿が保存されない[0m
[31mrspec ./spec/system/03_finishing_touches_spec.rb:134[0m [36m# [STEP3] 仕上げのテスト 処理失敗時のテスト 投稿データの新規投稿失敗: 投稿一覧画面から行い、titleを空にする 投稿一覧画面を表示している[0m
[31mrspec ./spec/system/03_finishing_touches_spec.rb:140[0m [36m# [STEP3] 仕上げのテスト 処理失敗時のテスト 投稿データの新規投稿失敗: 投稿一覧画面から行い、titleを空にする 新規投稿フォームの内容が正しい[0m
[31mrspec ./spec/system/03_finishing_touches_spec.rb:144[0m [36m# [STEP3] 仕上げのテスト 処理失敗時のテスト 投稿データの新規投稿失敗: 投稿一覧画面から行い、titleを空にする バリデーションエラーが表示される[0m
[31mrspec ./spec/system/03_finishing_touches_spec.rb:162[0m [36m# [STEP3] 仕上げのテスト 処理失敗時のテスト 投稿データの更新失敗: titleを空にする 投稿が更新されない[0m
[31mrspec ./spec/system/03_finishing_touches_spec.rb:165[0m [36m# [STEP3] 仕上げのテスト 処理失敗時のテスト 投稿データの更新失敗: titleを空にする 投稿編集画面を表示しており、フォームの内容が正しい[0m
[31mrspec ./spec/system/03_finishing_touches_spec.rb:170[0m [36m# [STEP3] 仕上げのテスト 処理失敗時のテスト 投稿データの更新失敗: titleを空にする エラーメッセージが表示される[0m
[31mrspec ./spec/system/03_finishing_touches_spec.rb:265[0m [36m# [STEP3] 仕上げのテスト 他人の画面のテスト 他人の投稿編集画面 遷移できず、投稿一覧画面にリダイレクトされる[0m
[31mrspec ./spec/system/03_finishing_touches_spec.rb:333[0m [36m# [STEP3] 仕上げのテスト グリッドシステムのテスト: container, row, col-md-〇を正しく使えている ユーザ一覧画面[0m

